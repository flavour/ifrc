/*
 2013-2016 (c) Sahana Software Foundation
 @license MIT

 requires jQuery 1.9.1+
 requires jQuery UI 1.10 widget factory
 requires D3.js 3.4.9+

*/
!function(){function X(c,p){return c<p?-1:c>p?1:c>=p?0:NaN}function u(c){return null!=c&&!isNaN(c)}function a(c){return{left:function(p,a,g,h){3>arguments.length&&(g=0);4>arguments.length&&(h=p.length);for(;g<h;){var m=g+h>>>1;0>c(p[m],a)?g=m+1:h=m}return g},right:function(p,a,g,h){3>arguments.length&&(g=0);4>arguments.length&&(h=p.length);for(;g<h;){var m=g+h>>>1;0<c(p[m],a)?h=m:g=m+1}return g}}}function b(c){return c.length}function n(c,p){try{for(var a in p)Object.defineProperty(c.prototype,a,
{value:p[a],enumerable:!1})}catch(g){c.prototype=p}}function A(){}function r(c){return jb+c in this}function l(){var c=[];this.forEach(function(p){c.push(p)});return c}function f(){var c=0,p;for(p in this)p.charCodeAt(0)===Tb&&++c;return c}function v(){for(var c in this)if(c.charCodeAt(0)===Tb)return!1;return!0}function q(){}function K(c,p,a){return function(){var g=a.apply(p,arguments);return g===p?c:g}}function G(c,p){if(p in c)return p;p=p.charAt(0).toUpperCase()+p.substring(1);for(var a=0,g=Sd.length;a<
g;++a){var h=Sd[a]+p;if(h in c)return h}}function E(){}function H(){}function D(c){function p(){for(var p=a,g=-1,L=p.length,z;++g<L;)(z=p[g].on)&&z.apply(this,arguments);return c}var a=[],g=new A;p.on=function(p,m){var L=g.get(p),z;if(2>arguments.length)return L&&L.on;L&&(L.on=null,a=a.slice(0,z=a.indexOf(L)).concat(a.slice(z+1)),g.remove(p));m&&a.push(g.set(p,{on:m}));return c};return p}function M(){x.event.preventDefault()}function S(){for(var c=x.event,p;p=c.sourceEvent;)c=p;return c}function B(c){for(var p=
new H,a=0,g=arguments.length;++a<g;)p[arguments[a]]=D(p);p.of=function(a,e){return function(g){try{var z=g.sourceEvent=x.event;g.target=c;x.event=g;p[g.type].apply(a,e)}finally{x.event=z}}};return p}function N(c){Ub(c,oa);return c}function Q(c){return"function"===typeof c?c:function(){return Oc(c,this)}}function J(c){return"function"===typeof c?c:function(){return Pc(c,this)}}function T(c,p){function a(){this.removeAttribute(c)}function g(){this.removeAttributeNS(c.space,c.local)}function h(){this.setAttribute(c,
p)}function m(){this.setAttributeNS(c.space,c.local,p)}function L(){var a=p.apply(this,arguments);null==a?this.removeAttribute(c):this.setAttribute(c,a)}function z(){var a=p.apply(this,arguments);null==a?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,a)}c=x.ns.qualify(c);return null==p?c.local?g:a:"function"===typeof p?c.local?z:L:c.local?m:h}function P(c){return c.trim().replace(/\s+/g," ")}function O(c){return new RegExp("(?:^|\\s+)"+x.requote(c)+"(?:\\s+|$)","g")}function w(c,
p){function a(){for(var e=-1;++e<h;)c[e](this,p)}function g(){for(var a=-1,e=p.apply(this,arguments);++a<h;)c[a](this,e)}c=(c+"").trim().split(/^|\s+/).map(C);var h=c.length;return"function"===typeof p?g:a}function C(c){var p=O(c);return function(a,g){if(h=a.classList)return g?h.add(c):h.remove(c);var h=a.getAttribute("class")||"";g?(p.lastIndex=0,p.test(h)||a.setAttribute("class",P(h+" "+c))):a.setAttribute("class",P(h.replace(p," ")))}}function F(c,p,a){function g(){this.style.removeProperty(c)}
function h(){this.style.setProperty(c,p,a)}function m(){var g=p.apply(this,arguments);null==g?this.style.removeProperty(c):this.style.setProperty(c,g,a)}return null==p?g:"function"===typeof p?m:h}function t(c,p){function a(){delete this[c]}function g(){this[c]=p}function h(){var a=p.apply(this,arguments);null==a?delete this[c]:this[c]=a}return null==p?a:"function"===typeof p?h:g}function R(c){return"function"===typeof c?c:(c=x.ns.qualify(c)).local?function(){return this.ownerDocument.createElementNS(c.space,
c.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,c)}}function V(c){return function(){return Td(this,c)}}function U(c){arguments.length||(c=X);return function(p,a){return p&&a?c(p.__data__,a.__data__):!p-!a}}function I(c,p){for(var a=0,g=c.length;a<g;a++)for(var h=c[a],m=0,L=h.length,z;m<L;m++)(z=h[m])&&p(z,m,a);return c}function aa(c){Ub(c,Va);return c}function W(c){var p,a;return function(g,h,m){g=c[m].update;var L=g.length;m!=a&&(a=m,p=0);for(h>=p&&(p=h+1);!(h=g[p])&&
++p<L;);return h}}function k(){var c=this.__transition__;c&&++c.active}function y(c,p,a){function g(){var p=this[L];p&&(this.removeEventListener(c,p,p.$),delete this[L])}function h(){var h=Z(p,cb(arguments));g.call(this);this.addEventListener(c,this[L]=h,h.$=a);h._=p}function m(){var p=new RegExp("^__on([^.]+)"+x.requote(c)+"$"),a,e;for(e in this)if(a=e.match(p)){var g=this[e];this.removeEventListener(a[1],g,g.$);delete this[e]}}var L="__on"+c,z=c.indexOf("."),Z=ka;0<z&&(c=c.substring(0,z));var b=
Qc.get(c);b&&(c=b,Z=la);return z?p?h:g:p?E:m}function ka(c,p){return function(a){var g=x.event;x.event=a;p[0]=this.__data__;try{c.apply(this,p)}finally{x.event=g}}}function la(c,p){var a=ka(c,p);return function(c){var p=c.relatedTarget;p&&(p===this||p.compareDocumentPosition(this)&8)||a.call(this,c)}}function ma(){var c=".dragsuppress-"+ ++lg,p="click"+c,a=x.select(za).on("touchmove"+c,M).on("dragstart"+c,M).on("selectstart"+c,M);if(Fb){var g=Wa.style,h=g[Fb];g[Fb]="none"}return function(m){a.on(c,
null);Fb&&(g[Fb]=h);if(m){var L=function(){a.on(p,null)};a.on(p,function(){M();L()},!0);setTimeout(L,0)}}}function Y(c,p){p.changedTouches&&(p=p.changedTouches[0]);var a=c.ownerSVGElement||c;if(a.createSVGPoint){var g=a.createSVGPoint();if(0>Rc&&(za.scrollX||za.scrollY)){var a=x.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),h=a[0][0].getScreenCTM();Rc=!(h.f||h.e);a.remove()}Rc?(g.x=p.pageX,g.y=p.pageY):(g.x=p.clientX,g.y=p.clientY);
g=g.matrixTransform(c.getScreenCTM().inverse());return[g.x,g.y]}a=c.getBoundingClientRect();return[p.clientX-a.left-c.clientLeft,p.clientY-a.top-c.clientTop]}function fa(){return x.event.changedTouches[0].identifier}function ga(){return x.event.target}function da(){return za}function ba(c,p,a){return(p[0]-c[0])*(a[1]-c[1])-(p[1]-c[1])*(a[0]-c[0])}function na(c){return 1<c?0:-1>c?ia:Math.acos(c)}function ea(c){return 1<c?wa:-1>c?-wa:Math.asin(c)}function Aa(c){return((c=Math.exp(c))+1/c)/2}function pa(c){return(c=
Math.sin(c/2))*c}function Ea(){}function Fa(c,p,a){return this instanceof Fa?void(this.h=+c,this.s=+p,this.l=+a):2>arguments.length?c instanceof Fa?new Fa(c.h,c.s,c.l):Vd(""+c,Wd,Fa):new Fa(c,p,a)}function Sc(c,p,a){function g(c){360<c?c-=360:0>c&&(c+=360);return 60>c?h+(m-h)*c/60:180>c?m:240>c?h+(m-h)*(240-c)/60:h}var h,m;c=isNaN(c)?0:0>(c%=360)?c+360:c;p=isNaN(p)?0:0>p?0:1<p?1:p;a=0>a?0:1<a?1:a;m=.5>=a?a*(1+p):a+p-a*p;h=2*a-m;return new Ba(Math.round(255*g(c+120)),Math.round(255*g(c)),Math.round(255*
g(c-120)))}function Na(c,p,a){return this instanceof Na?void(this.h=+c,this.c=+p,this.l=+a):2>arguments.length?c instanceof Na?new Na(c.h,c.c,c.l):c instanceof Oa?Xd(c.l,c.a,c.b):Xd((c=Yd((c=x.rgb(c)).r,c.g,c.b)).l,c.a,c.b):new Na(c,p,a)}function Tc(c,p,a){isNaN(c)&&(c=0);isNaN(p)&&(p=0);return new Oa(a,Math.cos(c*=ha)*p,Math.sin(c)*p)}function Oa(c,p,a){return this instanceof Oa?void(this.l=+c,this.a=+p,this.b=+a):2>arguments.length?c instanceof Oa?new Oa(c.l,c.a,c.b):c instanceof Na?Tc(c.l,c.c,
c.h):Yd((c=Ba(c)).r,c.g,c.b):new Oa(c,p,a)}function Zd(c,p,a){c=(c+16)/116;a=c-a/200;p=Uc(c+p/500)*$d;c=Uc(c)*ae;a=Uc(a)*be;return new Ba(Vc(3.2404542*p-1.5371385*c-.4985314*a),Vc(-.969266*p+1.8760108*c+.041556*a),Vc(.0556434*p-.2040259*c+1.0572252*a))}function Xd(c,p,a){return 0<c?new Na(Math.atan2(a,p)*sa,Math.sqrt(p*p+a*a),c):new Na(NaN,NaN,c)}function Uc(c){return.206893034<c?c*c*c:(c-4/29)/7.787037}function Wc(c){return.008856<c?Math.pow(c,1/3):7.787037*c+4/29}function Vc(c){return Math.round(255*
(.00304>=c?12.92*c:1.055*Math.pow(c,1/2.4)-.055))}function Ba(c,p,a){return this instanceof Ba?void(this.r=~~c,this.g=~~p,this.b=~~a):2>arguments.length?c instanceof Ba?new Ba(c.r,c.g,c.b):Vd(""+c,Ba,Sc):new Ba(c,p,a)}function Vb(c){return new Ba(c>>16,c>>8&255,c&255)+""}function tb(c){return 16>c?"0"+Math.max(0,c).toString(16):Math.min(255,c).toString(16)}function Vd(c,p,a){var g=0,h=0,m=0,L,z;if(L=/([a-z]+)\((.*)\)/i.exec(c))switch(z=L[2].split(","),L[1]){case "hsl":return a(parseFloat(z[0]),parseFloat(z[1])/
100,parseFloat(z[2])/100);case "rgb":return p(Xc(z[0]),Xc(z[1]),Xc(z[2]))}if(a=Wb.get(c))return p(a.r,a.g,a.b);null==c||"#"!==c.charAt(0)||isNaN(a=parseInt(c.substring(1),16))||(4===c.length?(g=(a&3840)>>4,g|=g>>4,h=a&240,h|=h>>4,m=a&15,m|=m<<4):7===c.length&&(g=(a&16711680)>>16,h=(a&65280)>>8,m=a&255));return p(g,h,m)}function Wd(c,p,a){var g=Math.min(c/=255,p/=255,a/=255),h=Math.max(c,p,a),m=h-g,L=(h+g)/2;m?(g=.5>L?m/(h+g):m/(2-h-g),c=60*(c==h?(p-a)/m+(p<a?6:0):p==h?(a-c)/m+2:(c-p)/m+4)):(c=NaN,
g=0<L&&1>L?0:c);return new Fa(c,g,L)}function Yd(c,p,a){c=Yc(c);p=Yc(p);a=Yc(a);var g=Wc((.4124564*c+.3575761*p+.1804375*a)/$d),h=Wc((.2126729*c+.7151522*p+.072175*a)/ae);c=Wc((.0193339*c+.119192*p+.9503041*a)/be);return Oa(116*h-16,500*(g-h),200*(h-c))}function Yc(c){return.04045>=(c/=255)?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Xc(c){var p=parseFloat(c);return"%"===c.charAt(c.length-1)?Math.round(2.55*p):p}function ra(c){return"function"===typeof c?c:function(){return c}}function va(c){return c}
function Zc(c){return function(p,a,g){2===arguments.length&&"function"===typeof a&&(g=a,a=null);return Xb(p,a,c,g)}}function Xb(c,p,a,g){function h(){var c=Z.status,p;if(!c&&Z.responseText||200<=c&&300>c||304===c){try{p=a.call(m,Z)}catch(g){L.error.call(m,g);return}L.load.call(m,p)}else L.error.call(m,Z)}var m={},L=x.dispatch("beforesend","progress","load","error"),z={},Z=new XMLHttpRequest,b=null;!za.XDomainRequest||"withCredentials"in Z||!/^(http(s)?:)?\/\//.test(c)||(Z=new XDomainRequest);"onload"in
Z?Z.onload=Z.onerror=h:Z.onreadystatechange=function(){3<Z.readyState&&h()};Z.onprogress=function(c){var p=x.event;x.event=c;try{L.progress.call(m,Z)}finally{x.event=p}};m.header=function(c,p){c=(c+"").toLowerCase();if(2>arguments.length)return z[c];null==p?delete z[c]:z[c]=p+"";return m};m.mimeType=function(c){if(!arguments.length)return p;p=null==c?null:c+"";return m};m.responseType=function(c){if(!arguments.length)return b;b=c;return m};m.response=function(c){a=c;return m};["get","post"].forEach(function(c){m[c]=
function(){return m.send.apply(m,[c].concat(cb(arguments)))}});m.send=function(a,e,g){2===arguments.length&&"function"===typeof e&&(g=e,e=null);Z.open(a,c,!0);null==p||"accept"in z||(z.accept=p+",*/*");if(Z.setRequestHeader)for(var h in z)Z.setRequestHeader(h,z[h]);null!=p&&Z.overrideMimeType&&Z.overrideMimeType(p);null!=b&&(Z.responseType=b);if(null!=g)m.on("error",g).on("load",function(c){g(null,c)});L.beforesend.call(m,Z);Z.send(null==e?null:e);return m};m.abort=function(){Z.abort();return m};
x.rebind(m,L,"on");return null==g?m:m.get(mg(g))}function mg(c){return 1===c.length?function(p,a){c(null==p?a:null)}:c}function $c(){var c=ce(),c=de()-c;24<c?(isFinite(c)&&(clearTimeout(Yb),Yb=setTimeout($c,c)),Zb=0):(Zb=1,ee($c))}function ce(){var c=Date.now();for(Xa=$b;Xa;)c>=Xa.t&&(Xa.f=Xa.c(c-Xa.t)),Xa=Xa.n;return c}function de(){for(var c,p=$b,a=Infinity;p;)p.f?p=c?c.n=p.n:$b=p.n:(p.t<a&&(a=p.t),p=(c=p).n);ac=c;return a}function ad(c,p){return p-(c?Math.ceil(Math.log(c)/Math.LN10):1)}function ng(c){var p=
c.decimal,a=c.thousands,g=c.grouping,h=c.currency,m=g?function(c){for(var p=c.length,h=[],m=0,b=g[0];0<p&&0<b;)h.push(c.substring(p-=b,p+b)),b=g[m=(m+1)%g.length];return h.reverse().join(a)}:va;return function(c){c=fe.exec(c);var a=c[1]||" ",e=c[2]||">",g=c[3]||"",b=c[4]||"",k=c[5],f=+c[6],l=c[7],t=c[8],y=c[9],n=1,r="",w="",q=!1;t&&(t=+t.substring(1));if(k||"0"===a&&"="===e)k=a="0",e="=",l&&(f-=Math.floor((f-1)/4));switch(y){case "n":l=!0;y="g";break;case "%":n=100;w="%";y="f";break;case "p":n=100;
w="%";y="r";break;case "b":case "o":case "x":case "X":"#"===b&&(r="0"+y.toLowerCase());case "c":case "d":q=!0;t=0;break;case "s":n=-1,y="r"}"$"===b&&(r=h[0],w=h[1]);"r"!=y||t||(y="g");if(null!=t)if("g"==y)t=Math.max(1,Math.min(21,t));else if("e"==y||"f"==y)t=Math.max(0,Math.min(20,t));var y=og.get(y)||pg,B=k&&l;return function(c){var h=w;if(q&&c%1)return"";var L=0>c||0===c&&0>1/c?(c=-c,"-"):g;0>n?(h=x.formatPrefix(c,t),c=h.scale(c),h=h.symbol+w):c*=n;c=y(c,t);var b=c.lastIndexOf("."),xa=0>b?c:c.substring(0,
b);c=0>b?"":p+c.substring(b+1);!k&&l&&(xa=m(xa));var b=r.length+xa.length+c.length+(B?0:L.length),I=b<f?Array(b=f-b+1).join(a):"";B&&(xa=m(I+xa));L+=r;c=xa+c;return("<"===e?L+c+I:">"===e?I+L+c:"^"===e?I.substring(0,b>>=1)+L+c+I.substring(b):L+(B?c:I+c))+h}}}function pg(c){return c+""}function Ya(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function kb(c,p,a){function g(p){var a=c(p),e=m(a,1);return p-a<e-p?a:e}function h(a){p(a=c(new ya(a-1)),1);return a}function m(c,
a){p(c=new ya(+c),a);return c}function L(c,g,m){c=h(c);var z=[];if(1<m)for(;c<g;)a(c)%m||z.push(new Date(+c)),p(c,1);else for(;c<g;)z.push(new Date(+c)),p(c,1);return z}c.floor=c;c.round=g;c.ceil=h;c.offset=m;c.range=L;var z=c.utc=bc(c);z.floor=z;z.round=bc(g);z.ceil=bc(h);z.offset=bc(m);z.range=function(c,p,a){try{ya=Ya;var e=new Ya;e._=c;return L(e,p,a)}finally{ya=Date}};return c}function bc(c){return function(a,e){try{ya=Ya;var g=new Ya;g._=a;return c(g,e)._}finally{ya=Date}}}function qg(c){function a(c){function p(a){for(var e=
[],h=-1,m=0,z,L;++h<g;)if(37===c.charCodeAt(h)){e.push(c.substring(m,h));null!=(z=ge[m=c.charAt(++h)])&&(m=c.charAt(++h));if(L=I[m])m=L(a,null==z?"e"===m?" ":"0":z);e.push(m);m=h+1}e.push(c.substring(m,h));return e.join("")}var g=c.length;p.parse=function(a){var p={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(e(p,c,a,0)!=a.length)return null;"p"in p&&(p.H=p.H%12+12*p.p);a=null!=p.Z&&ya!==Ya;var g=new (a?Ya:ya);"j"in p?g.setFullYear(p.y,0,p.j):"w"in p&&("W"in p||"U"in p)?(g.setFullYear(p.y,0,1),g.setFullYear(p.y,
0,"W"in p?(p.w+6)%7+7*p.W-(g.getDay()+5)%7:p.w+7*p.U-(g.getDay()+6)%7)):g.setFullYear(p.y,p.m,p.d);g.setHours(p.H+Math.floor(p.Z/100),p.M+p.Z%100,p.S,p.L);return a?g._:g};p.toString=function(){return c};return p}function e(c,p,a,e){for(var g,h=0,m=p.length,z=a.length;h<m;){if(e>=z)return-1;g=p.charCodeAt(h++);if(37===g){if(g=p.charAt(h++),g=B[g in ge?p.charAt(h++):g],!g||0>(e=g(c,a,e)))return-1}else if(g!=a.charCodeAt(e++))return-1}return e}var g=c.dateTime,h=c.date,m=c.time,L=c.periods,z=c.days,
Z=c.shortDays,b=c.months,k=c.shortMonths;a.utc=function(c){function e(c){try{ya=Ya;var p=new ya;p._=c;return g(p)}finally{ya=Date}}var g=a(c);e.parse=function(c){try{ya=Ya;var p=g.parse(c);return p&&p._}finally{ya=Date}};e.toString=g.toString;return e};a.multi=a.utc.multi=rg;var f=x.map(),Ja=cc(z),l=dc(z),t=cc(Z),y=dc(Z),n=cc(b),r=dc(b),w=cc(k),q=dc(k);L.forEach(function(c,p){f.set(c.toLowerCase(),p)});var I={a:function(c){return Z[c.getDay()]},A:function(c){return z[c.getDay()]},b:function(c){return k[c.getMonth()]},
B:function(c){return b[c.getMonth()]},c:a(g),d:function(c,p){return Ca(c.getDate(),p,2)},e:function(c,p){return Ca(c.getDate(),p,2)},H:function(c,p){return Ca(c.getHours(),p,2)},I:function(c,p){return Ca(c.getHours()%12||12,p,2)},j:function(c,p){return Ca(1+ca.dayOfYear(c),p,3)},L:function(c,p){return Ca(c.getMilliseconds(),p,3)},m:function(c,p){return Ca(c.getMonth()+1,p,2)},M:function(c,p){return Ca(c.getMinutes(),p,2)},p:function(c){return L[+(12<=c.getHours())]},S:function(c,p){return Ca(c.getSeconds(),
p,2)},U:function(c,p){return Ca(ca.sundayOfYear(c),p,2)},w:function(c){return c.getDay()},W:function(c,p){return Ca(ca.mondayOfYear(c),p,2)},x:a(h),X:a(m),y:function(c,p){return Ca(c.getFullYear()%100,p,2)},Y:function(c,p){return Ca(c.getFullYear()%1E4,p,4)},Z:sg,"%":function(){return"%"}},B={a:function(c,p,a){t.lastIndex=0;return(p=t.exec(p.substring(a)))?(c.w=y.get(p[0].toLowerCase()),a+p[0].length):-1},A:function(c,p,a){Ja.lastIndex=0;return(p=Ja.exec(p.substring(a)))?(c.w=l.get(p[0].toLowerCase()),
a+p[0].length):-1},b:function(c,p,a){w.lastIndex=0;return(p=w.exec(p.substring(a)))?(c.m=q.get(p[0].toLowerCase()),a+p[0].length):-1},B:function(c,p,a){n.lastIndex=0;return(p=n.exec(p.substring(a)))?(c.m=r.get(p[0].toLowerCase()),a+p[0].length):-1},c:function(c,p,a){return e(c,I.c.toString(),p,a)},d:he,e:he,H:ie,I:ie,j:tg,L:ug,m:vg,M:wg,p:function(c,p,a){p=f.get(p.substring(a,a+=2).toLowerCase());return null==p?-1:(c.p=p,a)},S:xg,U:yg,w:zg,W:Ag,x:function(c,p,a){return e(c,I.x.toString(),p,a)},X:function(c,
p,a){return e(c,I.X.toString(),p,a)},y:Bg,Y:Cg,Z:Dg,"%":Eg};return a}function Ca(c,p,a){var g=0>c?"-":"";c=(g?-c:c)+"";var h=c.length;return g+(h<a?Array(a-h+1).join(p)+c:c)}function cc(c){return new RegExp("^(?:"+c.map(x.requote).join("|")+")","i")}function dc(c){for(var p=new A,a=-1,g=c.length;++a<g;)p.set(c[a].toLowerCase(),a);return p}function zg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+1)))?(c.w=+p[0],a+p[0].length):-1}function yg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a)))?
(c.U=+p[0],a+p[0].length):-1}function Ag(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a)))?(c.W=+p[0],a+p[0].length):-1}function Cg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+4)))?(c.y=+p[0],a+p[0].length):-1}function Bg(c,p,a){ta.lastIndex=0;if(p=ta.exec(p.substring(a,a+2))){var g=+p[0];c=(c.y=g+(68<g?1900:2E3),a+p[0].length)}else c=-1;return c}function Dg(c,p,a){return/^[+-]\d{4}$/.test(p=p.substring(a,a+5))?(c.Z=-p,a+5):-1}function vg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,
a+2)))?(c.m=p[0]-1,a+p[0].length):-1}function he(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+2)))?(c.d=+p[0],a+p[0].length):-1}function tg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+3)))?(c.j=+p[0],a+p[0].length):-1}function ie(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+2)))?(c.H=+p[0],a+p[0].length):-1}function wg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+2)))?(c.M=+p[0],a+p[0].length):-1}function xg(c,a,e){ta.lastIndex=0;return(a=ta.exec(a.substring(e,
e+2)))?(c.S=+a[0],e+a[0].length):-1}function ug(c,a,e){ta.lastIndex=0;return(a=ta.exec(a.substring(e,e+3)))?(c.L=+a[0],e+a[0].length):-1}function sg(c){var a=c.getTimezoneOffset();c=0<a?"-":"+";var e=~~(ja(a)/60),a=ja(a)%60;return c+Ca(e,"0",2)+Ca(a,"0",2)}function Eg(c,a,e){je.lastIndex=0;return(c=je.exec(a.substring(e,e+1)))?e+c[0].length:-1}function rg(c){for(var a=c.length,e=-1;++e<a;)c[e][0]=this(c[e][0]);return function(a){for(var p=0,e=c[p];!e[1](a);)e=c[++p];return e[0](a)}}function bd(){}
function ke(c,a,e){var g=e.s=c+a,h=g-c;e.t=c-(g-h)+(a-h)}function ec(c,a){if(c&&le.hasOwnProperty(c.type))le[c.type](c,a)}function cd(c,a,e){var g=-1;e=c.length-e;var h;for(a.lineStart();++g<e;)h=c[g],a.point(h[0],h[1],h[2]);a.lineEnd()}function me(c,a){var e=-1,g=c.length;for(a.polygonStart();++e<g;)cd(c[e],a,1);a.polygonEnd()}function Fg(){function c(c,a){c*=ha;a=a*ha/2+ia/4;var p=c-g,e=0<=p?1:-1,b=e*p,p=Math.cos(a),k=Math.sin(a),f=m*k,l=h*p+f*Math.cos(b),e=f*e*Math.sin(b);lb.add(Math.atan2(e,l));
g=c;h=p;m=k}var a,e,g,h,m;Ga.point=function(L,z){Ga.point=c;g=(a=L)*ha;h=Math.cos(z=(e=z)*ha/2+ia/4);m=Math.sin(z)};Ga.lineEnd=function(){c(a,e)}}function mb(c){var a=c[0];c=c[1];var e=Math.cos(c);return[e*Math.cos(a),e*Math.sin(a),Math.sin(c)]}function fc(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]}function ub(c,a){return[c[1]*a[2]-c[2]*a[1],c[2]*a[0]-c[0]*a[2],c[0]*a[1]-c[1]*a[0]]}function dd(c,a){c[0]+=a[0];c[1]+=a[1];c[2]+=a[2]}function gc(c,a){return[c[0]*a,c[1]*a,c[2]*a]}function hc(c){var a=
Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);c[0]/=a;c[1]/=a;c[2]/=a}function ic(c){return[Math.atan2(c[1],c[0]),ea(c[2])]}function jc(c,a){return 1E-6>ja(c[0]-a[0])&&1E-6>ja(c[1]-a[1])}function ed(c,a){c*=ha;var e=Math.cos(a*=ha);Gb(e*Math.cos(c),e*Math.sin(c),Math.sin(a))}function Gb(c,a,e){++Hb;Za+=(c-Za)/Hb;$a+=(a-$a)/Hb;Sa+=(e-Sa)/Hb}function ne(){function c(c,m){c*=ha;var L=Math.cos(m*=ha),z=L*Math.cos(c),L=L*Math.sin(c),Z=Math.sin(m),b=Math.atan2(Math.sqrt((b=e*Z-g*L)*b+(b=g*z-a*Z)*b+(b=a*L-e*
z)*b),a*z+e*L+g*Z);vb+=b;Ka+=b*(a+(a=z));La+=b*(e+(e=L));Da+=b*(g+(g=Z));Gb(a,e,g)}var a,e,g;Pa.point=function(h,m){h*=ha;var L=Math.cos(m*=ha);a=L*Math.cos(h);e=L*Math.sin(h);g=Math.sin(m);Pa.point=c;Gb(a,e,g)}}function oe(){Pa.point=ed}function Gg(){function c(c,a){c*=ha;var p=Math.cos(a*=ha),e=p*Math.cos(c),p=p*Math.sin(c),b=Math.sin(a),k=h*b-m*p,f=m*e-g*b,l=g*p-h*e,t=Math.sqrt(k*k+f*f+l*l),y=g*e+h*p+m*b,n=t&&-na(y)/t,t=Math.atan2(t,y);db+=n*k;eb+=n*f;Ta+=n*l;vb+=t;Ka+=t*(g+(g=e));La+=t*(h+(h=
p));Da+=t*(m+(m=b));Gb(g,h,m)}var a,e,g,h,m;Pa.point=function(L,z){a=L;e=z;Pa.point=c;L*=ha;var Z=Math.cos(z*=ha);g=Z*Math.cos(L);h=Z*Math.sin(L);m=Math.sin(z);Gb(g,h,m)};Pa.lineEnd=function(){c(a,e);Pa.lineEnd=oe;Pa.point=ed}}function wb(){return!0}function pe(c,a,e,g,h){var m=[],L=[];c.forEach(function(c){if(!(0>=(a=c.length-1))){var a,p=c[0],e=c[a];if(jc(p,e)){h.lineStart();for(e=0;e<a;++e)h.point((p=c[e])[0],p[1]);h.lineEnd()}else a=new kc(p,c,null,!0),p=new kc(p,null,a,!1),a.o=p,m.push(a),L.push(p),
a=new kc(e,c,null,!1),p=new kc(e,null,a,!0),a.o=p,m.push(a),L.push(p)}});L.sort(a);qe(m);qe(L);if(m.length){c=0;a=e;for(e=L.length;c<e;++c)L[c].e=a=!a;a=m[0];for(var z,Z;;){for(var b=a,k=!0;b.v;)if((b=b.n)===a)return;z=b.z;h.lineStart();do{b.v=b.o.v=!0;if(b.e){if(k)for(c=0,e=z.length;c<e;++c)h.point((Z=z[c])[0],Z[1]);else g(b.x,b.n.x,1,h);b=b.n}else{if(k)for(z=b.p.z,c=z.length-1;0<=c;--c)h.point((Z=z[c])[0],Z[1]);else g(b.x,b.p.x,-1,h);b=b.p}b=b.o;z=b.z;k=!k}while(!b.v);h.lineEnd()}}}function qe(c){if(a=
c.length){for(var a,e=0,g=c[0],h;++e<a;)g.n=h=c[e],h.p=g,g=h;g.n=h=c[0];h.p=g}}function kc(c,a,e,g){this.x=c;this.z=a;this.o=e;this.e=g;this.v=!1;this.n=this.p=null}function re(c,a,e,g){return function(h,m){function L(a,p){var e=h(a,p);c(a=e[0],p=e[1])&&m.point(a,p)}function z(c,a){var p=h(c,a);t.point(p[0],p[1])}function b(){n.point=z;t.lineStart()}function qa(){n.point=L;t.lineEnd()}function k(c,a){C.push([c,a]);var p=h(c,a);q.point(p[0],p[1])}function f(){q.lineStart();C=[]}function l(){k(C[0][0],
C[0][1]);q.lineEnd();var c=q.clean(),a=w.buffer(),p=a.length;C.pop();B.push(C);C=null;if(p)if(c&1){var c=a[0],p=c.length-1,a=-1,e;if(0<p){I||(m.polygonStart(),I=!0);for(m.lineStart();++a<p;)m.point((e=c[a])[0],e[1]);m.lineEnd()}}else 1<p&&c&2&&a.push(a.pop().concat(a.shift())),r.push(a.filter(Hg))}var t=a(m),y=h.invert(g[0],g[1]),n={point:L,lineStart:b,lineEnd:qa,polygonStart:function(){n.point=k;n.lineStart=f;n.lineEnd=l;r=[];B=[]},polygonEnd:function(){n.point=L;n.lineStart=b;n.lineEnd=qa;r=x.merge(r);
var c,a=y;c=B;var p=a[0],g=a[1],h=[Math.sin(p),-Math.cos(p),0],z=0,k=0;lb.reset();for(var xa=0,f=c.length;xa<f;++xa){var l=c[xa],Ud=l.length;if(Ud)for(var t=l[0],Ja=t[0],a=t[1]/2+ia/4,w=Math.sin(a),q=Math.cos(a),C=1;;){C===Ud&&(C=0);var a=l[C],F=a[0],u=a[1]/2+ia/4,v=Math.sin(u),u=Math.cos(u),A=F-Ja,R=0<=A?1:-1,J=R*A,D=J>ia,w=w*v;lb.add(Math.atan2(w*R*Math.sin(J),q*u+w*Math.cos(J)));z+=D?A+R*Ha:A;D^Ja>=p^F>=p&&(t=ub(mb(t),mb(a)),hc(t),Ja=ub(h,t),hc(Ja),Ja=(D^0<=A?-1:1)*ea(Ja[2]),g>Ja||g===Ja&&(t[0]||
t[1]))&&(k+=D^0<=A?1:-1);if(!C++)break;Ja=F;w=v;q=u;t=a}}c=(-1E-6>z||1E-6>z&&0>lb)^k&1;r.length?(I||(m.polygonStart(),I=!0),pe(r,Ig,c,e,m)):c&&(I||(m.polygonStart(),I=!0),m.lineStart(),e(null,null,1,m),m.lineEnd());I&&(m.polygonEnd(),I=!1);r=B=null},sphere:function(){m.polygonStart();m.lineStart();e(null,null,1,m);m.lineEnd();m.polygonEnd()}},r,w=se(),q=a(w),I=!1,B,C;return n}}function Hg(c){return 1<c.length}function se(){var c=[],a;return{lineStart:function(){c.push(a=[])},point:function(c,g){a.push([c,
g])},lineEnd:E,buffer:function(){var e=c;c=[];a=null;return e},rejoin:function(){1<c.length&&c.push(c.pop().concat(c.shift()))}}}function Ig(c,a){return(0>(c=c.x)[0]?c[1]-wa-1E-6:wa-c[1])-(0>(a=a.x)[0]?a[1]-wa-1E-6:wa-a[1])}function Jg(c){function a(c,p){return Math.cos(c)*Math.cos(p)>h}function e(c,a,p){var e=mb(c),g=mb(a),m=[1,0,0],g=ub(e,g),z=fc(g,g),e=g[0],L=z-e*e;if(!L)return!p&&c;z=h*z/L;L=-h*e/L;e=ub(m,g);m=gc(m,z);g=gc(g,L);dd(m,g);g=fc(m,e);z=fc(e,e);L=g*g-z*(fc(m,m)-1);if(!(0>L)){var b=
Math.sqrt(L),L=gc(e,(-g-b)/z);dd(L,m);L=ic(L);if(!p)return L;p=c[0];var k=a[0];c=c[1];a=a[1];var f;k<p&&(f=p,p=k,k=f);var l=k-p,t=1E-6>ja(l-ia);!t&&a<c&&(f=c,c=a,a=f);if(t||1E-6>l?t?0<c+a^L[1]<(1E-6>ja(L[0]-p)?c:a):c<=L[1]&&L[1]<=a:l>ia^(p<=L[0]&&L[0]<=k))return a=gc(e,(-g+b)/z),dd(a,m),[L,ic(a)]}}function g(a,p){var e=m?c:ia-c,g=0;a<-e?g|=1:a>e&&(g|=2);p<-e?g|=4:p>e&&(g|=8);return g}var h=Math.cos(c),m=0<h,L=1E-6<ja(h),z=fd(c,6*ha);return re(a,function(c){var h,z,b,k,f;return{lineStart:function(){k=
b=!1;f=1},point:function(l,t){var n=[l,t],y,r=a(l,t),w=m?r?0:g(l,t):r?g(l+(0>l?ia:-ia),t):0;!h&&(k=b=r)&&c.lineStart();r!==b&&(y=e(h,n),jc(h,y)||jc(n,y))&&(n[0]+=1E-6,n[1]+=1E-6,r=a(n[0],n[1]));if(r!==b)f=0,r?(c.lineStart(),y=e(n,h),c.point(y[0],y[1])):(y=e(h,n),c.point(y[0],y[1]),c.lineEnd()),h=y;else if(L&&h&&m^r){var q;w&z||!(q=e(n,h,!0))||(f=0,m?(c.lineStart(),c.point(q[0][0],q[0][1]),c.point(q[1][0],q[1][1]),c.lineEnd()):(c.point(q[1][0],q[1][1]),c.lineEnd(),c.lineStart(),c.point(q[0][0],q[0][1])))}!r||
h&&jc(h,n)||c.point(n[0],n[1]);h=n;b=r;z=w},lineEnd:function(){b&&c.lineEnd();h=null},clean:function(){return f|(k&&b)<<1}}},z,m?[0,-c]:[-ia,c-ia])}function te(c,a,e,g){return function(h){var m=h.a,L=h.b,z=m.x,m=m.y,b=0,qa=1,k=L.x-z,L=L.y-m,f;f=c-z;if(k||!(0<f)){f/=k;if(0>k){if(f<b)return;f<qa&&(qa=f)}else if(0<k){if(f>qa)return;f>b&&(b=f)}f=e-z;if(k||!(0>f)){f/=k;if(0>k){if(f>qa)return;f>b&&(b=f)}else if(0<k){if(f<b)return;f<qa&&(qa=f)}f=a-m;if(L||!(0<f)){f/=L;if(0>L){if(f<b)return;f<qa&&(qa=f)}else if(0<
L){if(f>qa)return;f>b&&(b=f)}f=g-m;if(L||!(0>f)){f/=L;if(0>L){if(f>qa)return;f>b&&(b=f)}else if(0<L){if(f<b)return;f<qa&&(qa=f)}0<b&&(h.a={x:z+b*k,y:m+b*L});1>qa&&(h.b={x:z+qa*k,y:m+qa*L});return h}}}}}}function ue(c,a,e,g){function h(g,h){return 1E-6>ja(g[0]-c)?0<h?0:3:1E-6>ja(g[0]-e)?0<h?2:1:1E-6>ja(g[1]-a)?0<h?1:0:0<h?3:2}function m(c,a){return L(c.x,a.x)}function L(c,a){var p=h(c,1),e=h(a,1);return p!==e?p-e:0===p?a[1]-c[1]:1===p?c[0]-a[0]:2===p?c[1]-a[1]:a[0]-c[0]}return function(z){function b(m,
z,Z,k){var qa=0,f=0;if(null==m||(qa=h(m,Z))!==(f=h(z,Z))||0>L(m,z)^0<Z){do k.point(0===qa||3===qa?c:e,1<qa?g:a);while((qa=(qa+Z+4)%4)!==f)}else k.point(z[0],z[1])}function k(h,m){c<=h&&h<=e&&a<=m&&m<=g&&z.point(h,m)}function f(h,m){h=Math.max(-1E9,Math.min(1E9,h));m=Math.max(-1E9,Math.min(1E9,m));var L=c<=h&&h<=e&&a<=m&&m<=g;r&&w.push([h,m]);if(A)I=h,B=m,C=L,A=!1,L&&(z.lineStart(),z.point(h,m));else if(L&&v)z.point(h,m);else{var b={a:{x:F,y:u},b:{x:h,y:m}};n(b)?(v||(z.lineStart(),z.point(b.a.x,b.a.y)),
z.point(b.b.x,b.b.y),L||z.lineEnd(),R=!1):L&&(z.lineStart(),z.point(h,m),R=!1)}F=h;u=m;v=L}var l=z,t=se(),n=te(c,a,e,g),y,r,w,q={point:k,lineStart:function(){q.point=f;r&&r.push(w=[]);A=!0;v=!1;F=u=NaN},lineEnd:function(){y&&(f(I,B),C&&v&&t.rejoin(),y.push(t.buffer()));q.point=k;v&&z.lineEnd()},polygonStart:function(){z=t;y=[];r=[];R=!0},polygonEnd:function(){z=l;y=x.merge(y);var a;a=[c,g];for(var p=0,e=r.length,h=a[1],L=0;L<e;++L)for(var k=1,qa=r[L],f=qa.length,t=qa[0],xa;k<f;++k)xa=qa[k],t[1]<=
h?xa[1]>h&&0<ba(t,xa,a)&&++p:xa[1]<=h&&0>ba(t,xa,a)&&--p,t=xa;a=0!==p;p=R&&a;e=y.length;if(p||e)z.polygonStart(),p&&(z.lineStart(),b(null,null,1,z),z.lineEnd()),e&&pe(y,m,a,b,z),z.polygonEnd();y=r=w=null}},I,B,C,F,u,v,A,R;return q}}function ve(c,a){function e(e,h){return e=c(e,h),a(e[0],e[1])}c.invert&&a.invert&&(e.invert=function(e,h){return e=a.invert(e,h),e&&c.invert(e[0],e[1])});return e}function gd(c){var a=0,e=ia/3,g=hd(c);c=g(a,e);c.parallels=function(c){return arguments.length?g(a=c[0]*ia/
180,e=c[1]*ia/180):[a/ia*180,e/ia*180]};return c}function we(c,a){function e(c,a){var p=Math.sqrt(m-2*h*Math.sin(a))/h;return[p*Math.sin(c*=h),L-p*Math.cos(c)]}var g=Math.sin(c),h=(g+Math.sin(a))/2,m=1+g*(2*h-g),L=Math.sqrt(m)/h;e.invert=function(c,a){var p=L-a;return[Math.atan2(c,p)/h,ea((m-(c*c+p*p)*h*h)/(2*h))]};return e}function Kg(){function c(c,a){lc+=h*c-g*a;g=c;h=a}var a,e,g,h;fb.point=function(m,L){fb.point=c;a=g=m;e=h=L};fb.lineEnd=function(){c(a,e)}}function Lg(){function c(c,a){L.push("M",
c,",",a,m)}function a(c,p){L.push("M",c,",",p);z.point=e}function e(c,a){L.push("L",c,",",a)}function g(){z.point=c}function h(){L.push("Z")}var m=xe(4.5),L=[],z={point:c,lineStart:function(){z.point=a},lineEnd:g,polygonStart:function(){z.lineEnd=h},polygonEnd:function(){z.lineEnd=g;z.point=c},pointRadius:function(c){m=xe(c);return z},result:function(){if(L.length){var c=L.join("");L=[];return c}}};return z}function xe(c){return"m0,"+c+"a"+c+","+c+" 0 1,1 0,"+-2*c+"a"+c+","+c+" 0 1,1 0,"+2*c+"z"}
function nb(c,a){Za+=c;$a+=a;++Sa}function ye(){function c(c,h){var m=c-a,L=h-e,m=Math.sqrt(m*m+L*L);Ka+=m*(a+c)/2;La+=m*(e+h)/2;Da+=m;nb(a=c,e=h)}var a,e;Qa.point=function(g,h){Qa.point=c;nb(a=g,e=h)}}function ze(){Qa.point=nb}function Mg(){function c(c,a){var p=c-g,e=a-h,p=Math.sqrt(p*p+e*e);Ka+=p*(g+c)/2;La+=p*(h+a)/2;Da+=p;p=h*c-g*a;db+=p*(g+c);eb+=p*(h+a);Ta+=3*p;nb(g=c,h=a)}var a,e,g,h;Qa.point=function(m,b){Qa.point=c;nb(a=g=m,e=h=b)};Qa.lineEnd=function(){c(a,e)}}function Ng(c){function a(p,
e){c.moveTo(p,e);c.arc(p,e,b,0,Ha)}function e(a,p){c.moveTo(a,p);z.point=g}function g(a,p){c.lineTo(a,p)}function h(){z.point=a}function m(){c.closePath()}var b=4.5,z={point:a,lineStart:function(){z.point=e},lineEnd:h,polygonStart:function(){z.lineEnd=m},polygonEnd:function(){z.lineEnd=h;z.point=a},pointRadius:function(c){b=c;return z},result:E};return z}function Ae(c){function a(c){return(z?g:e)(c)}function e(a){return Be(a,function(p,e){p=c(p,e);a.point(p[0],p[1])})}function g(a){function p(e,g){e=
c(e,g);a.point(e[0],e[1])}function e(){q=NaN;F.point=g;a.lineStart()}function g(p,e){var m=mb([p,e]),b=c(p,e);h(q,I,w,x,B,C,q=b[0],I=b[1],w=p,x=m[0],B=m[1],C=m[2],z,a);a.point(q,I)}function m(){F.point=p;a.lineEnd()}function b(){e();F.point=L;F.lineEnd=k}function L(c,a){g(f=c,a);l=q;t=I;y=x;n=B;r=C;F.point=g}function k(){h(q,I,w,x,B,C,l,t,f,y,n,r,z,a);F.lineEnd=m;m()}var f,l,t,y,n,r,w,q,I,x,B,C,F={point:p,lineStart:e,lineEnd:m,polygonStart:function(){a.polygonStart();F.lineStart=b},polygonEnd:function(){a.polygonEnd();
F.lineStart=e}};return F}function h(a,p,e,g,z,k,f,l,t,y,n,r,q,w){var I=f-a,x=l-p,B=I*I+x*x;if(B>4*m&&q--){var C=g+y,F=z+n,u=k+r,v=Math.sqrt(C*C+F*F+u*u),A=Math.asin(u/=v),R=1E-6>ja(ja(u)-1)||1E-6>ja(e-t)?(e+t)/2:Math.atan2(F,C),J=c(R,A),A=J[0],J=J[1],D=A-a,M=J-p,V=x*D-I*M;if(V*V/B>m||.3<ja((I*D+x*M)/B-.5)||g*y+z*n+k*r<b)h(a,p,e,g,z,k,A,J,R,C/=v,F/=v,u,q,w),w.point(A,J),h(A,J,R,C,F,u,f,l,t,y,n,r,q,w)}}var m=.5,b=Math.cos(30*ha),z=16;a.precision=function(c){if(!arguments.length)return Math.sqrt(m);
z=0<(m=c*c)&&16;return a};return a}function Og(c){var a=Ae(function(a,p){return c([a*sa,p*sa])});return function(c){return Ce(a(c))}}function De(c){this.stream=c}function Be(c,a){return{point:a,sphere:function(){c.sphere()},lineStart:function(){c.lineStart()},lineEnd:function(){c.lineEnd()},polygonStart:function(){c.polygonStart()},polygonEnd:function(){c.polygonEnd()}}}function gb(c){return hd(function(){return c})()}function hd(c){function a(c){c=z(c[0]*ha,c[1]*ha);return[c[0]*k+w,I-c[1]*k]}function e(c){return(c=
z.invert((c[0]-w)/k,(I-c[1])/k))&&[c[0]*sa,c[1]*sa]}function g(){z=ve(b=id(n,r,q),m);var c=m(t,y);w=f-c[0]*k;I=l+c[1]*k;return h()}function h(){v&&(v.valid=!1,v=null);return a}var m,b,z,Z=Ae(function(c,a){c=m(c,a);return[c[0]*k+w,I-c[1]*k]}),k=150,f=480,l=250,t=0,y=0,n=0,r=0,q=0,w,I,C=Ee,B=va,F=null,u=null,v;a.stream=function(c){v&&(v.valid=!1);v=Ce(C(b,Z(B(c))));v.valid=!0;return v};a.clipAngle=function(c){if(!arguments.length)return F;C=null==c?(F=c,Ee):Jg((F=+c)*ha);return h()};a.clipExtent=function(c){if(!arguments.length)return u;
B=(u=c)?ue(c[0][0],c[0][1],c[1][0],c[1][1]):va;return h()};a.scale=function(c){if(!arguments.length)return k;k=+c;return g()};a.translate=function(c){if(!arguments.length)return[f,l];f=+c[0];l=+c[1];return g()};a.center=function(c){if(!arguments.length)return[t*sa,y*sa];t=c[0]%360*ha;y=c[1]%360*ha;return g()};a.rotate=function(c){if(!arguments.length)return[n*sa,r*sa,q*sa];n=c[0]%360*ha;r=c[1]%360*ha;q=2<c.length?c[2]%360*ha:0;return g()};x.rebind(a,Z,"precision");return function(){m=c.apply(this,
arguments);a.invert=m.invert&&e;return g()}}function Ce(c){return Be(c,function(a,e){c.point(a*ha,e*ha)})}function Ib(c,a){return[c,a]}function Fe(c,a){return[c>ia?c-Ha:c<-ia?c+Ha:c,a]}function id(c,a,e){return c?a||e?ve(Ge(c),He(a,e)):Ge(c):a||e?He(a,e):Fe}function Ie(c){return function(a,e){return a+=c,[a>ia?a-Ha:a<-ia?a+Ha:a,e]}}function Ge(c){var a=Ie(c);a.invert=Ie(-c);return a}function He(c,a){function e(c,a){var p=Math.cos(a),e=Math.cos(c)*p,p=Math.sin(c)*p,k=Math.sin(a),f=k*g+e*h;return[Math.atan2(p*
m-f*b,e*g-k*h),ea(f*m+p*b)]}var g=Math.cos(c),h=Math.sin(c),m=Math.cos(a),b=Math.sin(a);e.invert=function(c,a){var p=Math.cos(a),e=Math.cos(c)*p,p=Math.sin(c)*p,k=Math.sin(a),f=k*m-p*b;return[Math.atan2(p*m+k*b,e*g+f*h),ea(f*g-e*h)]};return e}function fd(c,a){var e=Math.cos(c),g=Math.sin(c);return function(h,m,b,z){var Z=b*a;if(null!=h){if(h=Je(e,h),m=Je(e,m),0<b?h<m:h>m)h+=b*Ha}else h=c+b*Ha,m=c-.5*Z;for(var k;0<b?h>m:h<m;h-=Z)z.point((k=ic([e,-g*Math.cos(h),-g*Math.sin(h)]))[0],k[1])}}function Je(c,
a){var e=mb(a);e[0]-=c;hc(e);var g=na(-e[1]);return((0>-e[2]?-g:g)+2*Math.PI-1E-6)%(2*Math.PI)}function Ke(c,a,e){var g=x.range(c,a-1E-6,e).concat(a);return function(c){return g.map(function(a){return[c,a]})}}function Le(c,a,e){var g=x.range(c,a-1E-6,e).concat(a);return function(c){return g.map(function(a){return[a,c]})}}function jd(c){return c.source}function kd(c){return c.target}function Pg(c,a,e,g){var h=Math.cos(a),m=Math.sin(a),b=Math.cos(g),z=Math.sin(g),Z=h*Math.cos(c),k=h*Math.sin(c),f=b*
Math.cos(e),l=b*Math.sin(e),t=2*Math.asin(Math.sqrt(pa(g-a)+h*b*pa(e-c))),y=1/Math.sin(t);e=t?function(c){var a=Math.sin(c*=t)*y,p=Math.sin(t-c)*y;c=p*Z+a*f;var e=p*k+a*l,a=p*m+a*z;return[Math.atan2(e,c)*sa,Math.atan2(a,Math.sqrt(c*c+e*e))*sa]}:function(){return[c*sa,a*sa]};e.distance=t;return e}function Jb(c,a){function e(a,p){var e=Math.cos(a),b=Math.cos(p),e=c(e*b);return[e*b*Math.sin(a),e*Math.sin(p)]}e.invert=function(c,e){var m=Math.sqrt(c*c+e*e),b=a(m),z=Math.sin(b),b=Math.cos(b);return[Math.atan2(c*
z,m*b),Math.asin(m&&e*z/m)]};return e}function Me(c,a){function e(c,a){0<m?a<-wa+1E-6&&(a=-wa+1E-6):a>wa-1E-6&&(a=wa-1E-6);var p=m/Math.pow(Math.tan(ia/4+a/2),h);return[p*Math.sin(h*c),m-p*Math.cos(h*c)]}var g=Math.cos(c),h=c===a?Math.sin(c):Math.log(g/Math.cos(a))/Math.log(Math.tan(ia/4+a/2)/Math.tan(ia/4+c/2)),m=g*Math.pow(Math.tan(ia/4+c/2),h)/h;if(!h)return mc;e.invert=function(c,a){var p=m-a,e=(0<h?1:0>h?-1:0)*Math.sqrt(c*c+p*p);return[Math.atan2(c,p)/h,2*Math.atan(Math.pow(m/e,1/h))-wa]};return e}
function Ne(c,a){function e(c,a){var p=m-a;return[p*Math.sin(h*c),m-p*Math.cos(h*c)]}var g=Math.cos(c),h=c===a?Math.sin(c):(g-Math.cos(a))/(a-c),m=g/h+c;if(1E-6>ja(h))return Ib;e.invert=function(c,a){var p=m-a;return[Math.atan2(c,p)/h,m-(0<h?1:0>h?-1:0)*Math.sqrt(c*c+p*p)]};return e}function mc(c,a){return[c,Math.log(Math.tan(ia/4+a/2))]}function Oe(c){var a=gb(c),e=a.scale,g=a.translate,h=a.clipExtent,m;a.scale=function(){var c=e.apply(a,arguments);return c===a?m?a.clipExtent(null):a:c};a.translate=
function(){var c=g.apply(a,arguments);return c===a?m?a.clipExtent(null):a:c};a.clipExtent=function(c){var b=h.apply(a,arguments);if(b===a){if(m=null==c){var Z=ia*e(),k=g();h([[k[0]-Z,k[1]-Z],[k[0]+Z,k[1]+Z]])}}else m&&(b=null);return b};return a.clipExtent(null)}function ld(c,a){return[Math.log(Math.tan(ia/4+a/2)),-c]}function xb(c){return c[0]}function Kb(c){return c[1]}function Pe(c){for(var a=c.length,e=[0,1],g=2,h=2;h<a;h++){for(;1<g&&0>=ba(c[e[g-2]],c[e[g-1]],c[h]);)--g;e[g++]=h}return e.slice(0,
g)}function Qg(c,a){return c[0]-a[0]||c[1]-a[1]}function md(c,a,e){return(e[0]-a[0])*(c[1]-a[1])<(e[1]-a[1])*(c[0]-a[0])}function Qe(c,a,e,g){var h=c[0],m=e[0],b=a[0]-h,z=g[0]-m;c=c[1];e=e[1];a=a[1]-c;g=g[1]-e;m=(z*(c-e)-g*(h-m))/(g*b-z*a);return[h+m*b,c+m*a]}function Re(c){var a=c[0];c=c[c.length-1];return!(a[0]-c[0]||a[1]-c[1])}function Rg(){nc(this);this.edge=this.site=this.circle=null}function Se(c){var a=Te.pop()||new Rg;a.site=c;return a}function nd(c){yb(c);zb.remove(c);Te.push(c);nc(c)}function Ue(c,
a){var e=c.site,g=e.x,h=e.y,m=h-a;if(!m)return g;var b=c.P;if(!b)return-Infinity;var e=b.site,b=e.x,e=e.y,z=e-a;if(!z)return b;var Z=b-g,k=1/m-1/z,f=Z/z;return k?(-f+Math.sqrt(f*f-2*k*(Z*Z/(-2*z)-e+z/2+h-m/2)))/k+g:(g+b)/2}function Ve(c){this.site=c;this.edges=[]}function We(c,a){return a.angle-c.angle}function Sg(){nc(this);this.x=this.y=this.arc=this.site=this.cy=null}function Ab(c){var a=c.P,e=c.N;if(a&&e){var g=a.site,a=c.site,h=e.site;if(g!==h){var e=a.x,m=a.y,b=g.x-e,z=g.y-m,g=h.x-e,h=h.y-m,
Z=2*(b*h-z*g);if(!(-1E-12<=Z)){var k=b*b+z*z,f=g*g+h*h,z=(h*k-z*f)/Z,b=(b*f-g*k)/Z,h=b+m,m=Xe.pop()||new Sg;m.arc=c;m.site=a;m.x=z+e;m.y=h+Math.sqrt(z*z+b*b);m.cy=h;c.circle=m;c=null;for(a=Lb._;a;)if(m.y<a.y||m.y===a.y&&m.x<=a.x)if(a.L)a=a.L;else{c=a.P;break}else if(a.R)a=a.R;else{c=a;break}Lb.insert(c,m);c||(od=m)}}}}function yb(c){var a=c.circle;a&&(a.P||(od=a.N),Lb.remove(a),Xe.push(a),nc(a),c.circle=null)}function Tg(c,a){var e=c.b;if(e)return!0;var g=c.a,e=a[0][0],h=a[1][0],m=a[0][1],b=a[1][1],
z=c.l,Z=c.r,k=z.x,z=z.y,f=Z.x,Z=Z.y,t=(k+f)/2,l;if(Z===z){if(t<e||t>=h)return;if(k>f){if(!g)g={x:t,y:m};else if(g.y>=b)return;e={x:t,y:b}}else{if(!g)g={x:t,y:b};else if(g.y<m)return;e={x:t,y:m}}}else if(l=(k-f)/(Z-z),t=(z+Z)/2-l*t,-1>l||1<l)if(k>f){if(!g)g={x:(m-t)/l,y:m};else if(g.y>=b)return;e={x:(b-t)/l,y:b}}else{if(!g)g={x:(b-t)/l,y:b};else if(g.y<m)return;e={x:(m-t)/l,y:m}}else if(z<Z){if(!g)g={x:e,y:l*e+t};else if(g.x>=h)return;e={x:h,y:l*h+t}}else{if(!g)g={x:h,y:l*h+t};else if(g.x<e)return;
e={x:e,y:l*e+t}}c.a=g;c.b=e;return!0}function Ye(c,a){this.l=c;this.r=a;this.a=this.b=null}function Mb(c,a,e,g){var h=new Ye(c,a);Bb.push(h);e&&oc(h,c,a,e);g&&oc(h,a,c,g);ob[c.i].edges.push(new pc(h,c,a));ob[a.i].edges.push(new pc(h,a,c));return h}function Ug(c,a,e){c=new Ye(c,null);c.a=a;c.b=e;Bb.push(c);return c}function oc(c,a,e,g){c.a||c.b?c.l===e?c.b=g:c.a=g:(c.a=g,c.l=a,c.r=e)}function pc(c,a,e){var g=c.a,h=c.b;this.edge=c;this.site=a;this.angle=e?Math.atan2(e.y-a.y,e.x-a.x):c.l===a?Math.atan2(h.x-
g.x,g.y-h.y):Math.atan2(g.x-h.x,h.y-g.y)}function pd(){this._=null}function nc(c){c.U=c.C=c.L=c.R=c.P=c.N=null}function Nb(c,a){var e=a.R,g=a.U;g?g.L===a?g.L=e:g.R=e:c._=e;e.U=g;a.U=e;a.R=e.L;a.R&&(a.R.U=a);e.L=a}function Ob(c,a){var e=a.L,g=a.U;g?g.L===a?g.L=e:g.R=e:c._=e;e.U=g;a.U=e;a.L=e.R;a.L&&(a.L.U=a);e.R=a}function Ze(c){for(;c.L;)c=c.L;return c}function qd(c,a){var e=c.sort(Vg).pop(),g,h,m;Bb=[];ob=Array(c.length);zb=new pd;for(Lb=new pd;;)if(m=od,e&&(!m||e.y<m.y||e.y===m.y&&e.x<m.x)){if(e.x!==
g||e.y!==h){ob[e.i]=new Ve(e);g=e;for(var b=g.x,z=g.y,k=m=h=void 0,f=void 0,t=zb._;t;)if(k=Ue(t,z)-b,1E-6<k)t=t.L;else{var l=t,f=z,y=l.N;y?f=Ue(y,f):(l=l.site,f=l.y===f?l.x:Infinity);f=b-f;if(1E-6<f){if(!t.R){h=t;break}t=t.R}else{-1E-6<k?(h=t.P,m=t):-1E-6<f?(h=t,m=t.N):h=m=t;break}}b=Se(g);zb.insert(h,b);if(h||m)if(h===m)yb(h),m=Se(h.site),zb.insert(b,m),b.edge=m.edge=Mb(h.site,b.site),Ab(h),Ab(m);else if(m){yb(h);yb(m);var z=h.site,t=z.x,f=z.y,l=g.x-t,y=g.y-f,k=m.site,n=k.x-t,r=k.y-f,w=2*(l*r-y*
n),q=l*l+y*y,I=n*n+r*r,t={x:(r*q-y*I)/w+t,y:(l*I-n*q)/w+f};oc(m.edge,z,k,t);b.edge=Mb(z,g,null,t);m.edge=Mb(g,k,null,t);Ab(h);Ab(m)}else b.edge=Mb(h.site,b.site);g=e.x;h=e.y}e=c.pop()}else if(m){k=m.arc;m=k.circle;z=m.x;t=m.cy;m={x:z,y:t};l=k.P;f=k.N;b=[k];nd(k);for(k=l;k.circle&&1E-6>ja(z-k.circle.x)&&1E-6>ja(t-k.circle.cy);)l=k.P,b.unshift(k),nd(k),k=l;b.unshift(k);yb(k);for(l=f;l.circle&&1E-6>ja(z-l.circle.x)&&1E-6>ja(t-l.circle.cy);)f=l.N,b.push(l),nd(l),l=f;b.push(l);yb(l);z=b.length;t=void 0;
for(t=1;t<z;++t)l=b[t],k=b[t-1],oc(l.edge,k.site,l.site,m);k=b[0];l=b[z-1];l.edge=Mb(k.site,l.site,null,m);Ab(k);Ab(l)}else break;if(a){e=Bb;g=te(a[0][0],a[0][1],a[1][0],a[1][1]);for(h=e.length;h--;)if(m=e[h],!Tg(m,a)||!g(m)||1E-6>ja(m.a.x-m.b.x)&&1E-6>ja(m.a.y-m.b.y))m.a=m.b=null,e.splice(h,1);e=a[0][0];g=a[1][0];h=a[0][1];m=a[1][1];t=ob;for(f=t.length;f--;)if((l=t[f])&&l.prepare())for(n=l.edges,r=n.length,y=0;y<r;)if(w=n[y].end(),z=w.x,k=w.y,q=n[++y%r].start(),b=q.x,q=q.y,1E-6<ja(z-b)||1E-6<ja(k-
q))n.splice(y,0,new pc(Ug(l.site,w,1E-6>ja(z-e)&&1E-6<m-k?{x:e,y:1E-6>ja(b-e)?q:m}:1E-6>ja(k-m)&&1E-6<g-z?{x:1E-6>ja(q-m)?b:g,y:m}:1E-6>ja(z-g)&&1E-6<k-h?{x:g,y:1E-6>ja(b-g)?q:h}:1E-6>ja(k-h)&&1E-6<z-e?{x:1E-6>ja(q-h)?b:e,y:h}:null),l.site,null)),++r}e={cells:ob,edges:Bb};zb=Lb=Bb=ob=null;return e}function Vg(c,a){return a.y-c.y||a.x-c.x}function Wg(c){return c.x}function Xg(c){return c.y}function $e(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Pb(c,a,e,g,h,m){if(!c(a,e,g,h,m)){var b=
.5*(e+h),z=.5*(g+m);a=a.nodes;a[0]&&Pb(c,a[0],e,g,b,z);a[1]&&Pb(c,a[1],b,g,h,z);a[2]&&Pb(c,a[2],e,z,b,m);a[3]&&Pb(c,a[3],b,z,h,m)}}function rd(c,a){c=x.rgb(c);a=x.rgb(a);var e=c.r,g=c.g,h=c.b,m=a.r-e,b=a.g-g,z=a.b-h;return function(c){return"#"+tb(Math.round(e+m*c))+tb(Math.round(g+b*c))+tb(Math.round(h+z*c))}}function af(c,a){var e={},g={},h;for(h in c)h in a?e[h]=pb(c[h],a[h]):g[h]=c[h];for(h in a)h in c||(g[h]=a[h]);return function(c){for(h in e)g[h]=e[h](c);return g}}function ab(c,a){a-=c=+c;
return function(e){return c+a*e}}function bf(c,a){var e=sd.lastIndex=td.lastIndex=0,g,h,m,b=-1,z=[],k=[];c+="";for(a+="";(g=sd.exec(c))&&(h=td.exec(a));)(m=h.index)>e&&(m=a.substring(e,m),z[b]?z[b]+=m:z[++b]=m),(g=g[0])===(h=h[0])?z[b]?z[b]+=h:z[++b]=h:(z[++b]=null,k.push({i:b,x:ab(g,h)})),e=td.lastIndex;e<a.length&&(m=a.substring(e),z[b]?z[b]+=m:z[++b]=m);return 2>z.length?k[0]?(a=k[0].x,function(c){return a(c)+""}):function(){return a}:(a=k.length,function(c){for(var e=0,g;e<a;++e)z[(g=k[e]).i]=
g.x(c);return z.join("")})}function pb(c,a){for(var e=x.interpolators.length,g;0<=--e&&!(g=x.interpolators[e](c,a)););return g}function qc(c,a){var e=[],g=[],h=c.length,m=a.length,b=Math.min(c.length,a.length),z;for(z=0;z<b;++z)e.push(pb(c[z],a[z]));for(;z<h;++z)g[z]=c[z];for(;z<m;++z)g[z]=a[z];return function(c){for(z=0;z<b;++z)g[z]=e[z](c);return g}}function Yg(c){return function(a){return 0>=a?0:1<=a?1:c(a)}}function cf(c){return function(a){return 1-c(1-a)}}function df(c){return function(a){return.5*
(.5>a?c(2*a):2-c(2-2*a))}}function Zg(c){return c*c}function $g(c){return c*c*c}function ah(c){if(0>=c)return 0;if(1<=c)return 1;var a=c*c,e=a*c;return 4*(.5>c?e:3*(c-a)+e-.75)}function bh(c){return 1-Math.cos(c*wa)}function ch(c){return Math.pow(2,10*(c-1))}function dh(c){return 1-Math.sqrt(1-c*c)}function eh(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375}function ef(c,a){a-=c;return function(e){return Math.round(c+
a*e)}}function ff(c){var a=[c.a,c.b],e=[c.c,c.d],g=gf(a),h=a[0]*e[0]+a[1]*e[1],m=-h;e[0]+=m*a[0];e[1]+=m*a[1];m=gf(e)||0;a[0]*e[1]<e[0]*a[1]&&(a[0]*=-1,a[1]*=-1,g*=-1,h*=-1);this.rotate=(g?Math.atan2(a[1],a[0]):Math.atan2(-e[0],e[1]))*sa;this.translate=[c.e,c.f];this.scale=[g,m];this.skew=m?Math.atan2(h,m)*sa:0}function gf(c){var a=Math.sqrt(c[0]*c[0]+c[1]*c[1]);a&&(c[0]/=a,c[1]/=a);return a}function hf(c,a){var e=[],g=[],h,m=x.transform(c),b=x.transform(a),z=m.translate,k=b.translate,f=m.rotate,
t=b.rotate,l=m.skew,y=b.skew,m=m.scale,b=b.scale;z[0]!=k[0]||z[1]!=k[1]?(e.push("translate(",null,",",null,")"),g.push({i:1,x:ab(z[0],k[0])},{i:3,x:ab(z[1],k[1])})):k[0]||k[1]?e.push("translate("+k+")"):e.push("");f!=t?(180<f-t?t+=360:180<t-f&&(f+=360),g.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:ab(f,t)})):t&&e.push(e.pop()+"rotate("+t+")");l!=y?g.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:ab(l,y)}):y&&e.push(e.pop()+"skewX("+y+")");m[0]!=b[0]||m[1]!=b[1]?(h=e.push(e.pop()+"scale(",null,",",
null,")"),g.push({i:h-4,x:ab(m[0],b[0])},{i:h-2,x:ab(m[1],b[1])})):1==b[0]&&1==b[1]||e.push(e.pop()+"scale("+b+")");h=g.length;return function(c){for(var a=-1,p;++a<h;)e[(p=g[a]).i]=p.x(c);return e.join("")}}function fh(c,a){a=a-(c=+c)?1/(a-c):0;return function(e){return(e-c)*a}}function gh(c,a){a=a-(c=+c)?1/(a-c):0;return function(e){return Math.max(0,Math.min(1,(e-c)*a))}}function hh(c){var a=c.source;c=c.target;var e;var g=c;if(a===g)e=a;else{e=jf(a);for(var g=jf(g),h=e.pop(),m=g.pop(),b=null;h===
m;)b=h,h=e.pop(),m=g.pop();e=b}for(g=[a];a!==e;)a=a.parent,g.push(a);for(a=g.length;c!==e;)g.splice(a,0,c),c=c.parent;return g}function jf(c){for(var a=[],e=c.parent;null!=e;)a.push(c),c=e,e=e.parent;a.push(c);return a}function ih(c){c.fixed|=2}function jh(c){c.fixed&=-7}function kh(c){c.fixed|=4;c.px=c.x;c.py=c.y}function lh(c){c.fixed&=-5}function kf(c,a,e){var g=0,h=0;c.charge=0;if(!c.leaf)for(var m=c.nodes,b=m.length,z=-1,k;++z<b;)k=m[z],null!=k&&(kf(k,a,e),c.charge+=k.charge,g+=k.charge*k.cx,
h+=k.charge*k.cy);c.point&&(c.leaf||(c.point.x+=Math.random()-.5,c.point.y+=Math.random()-.5),a*=e[c.point.index],c.charge+=c.pointCharge=a,g+=a*c.point.x,h+=a*c.point.y);c.cx=g/c.charge;c.cy=h/c.charge}function Qb(c,a){x.rebind(c,a,"sort","children","value");c.nodes=c;c.links=mh;return c}function Rb(c,a){for(var e=[c];null!=(c=e.pop());)if(a(c),(h=c.children)&&(g=h.length))for(var g,h;0<=--g;)e.push(h[g])}function Ua(c,a){for(var e=[c],g=[];null!=(c=e.pop());)if(g.push(c),(b=c.children)&&(m=b.length))for(var h=
-1,m,b;++h<m;)e.push(b[h]);for(;null!=(c=g.pop());)a(c)}function nh(c){return c.children}function oh(c){return c.value}function ph(c,a){return a.value-c.value}function mh(c){return x.merge(c.map(function(c){return(c.children||[]).map(function(a){return{source:c,target:a}})}))}function qh(c){return c.x}function rh(c){return c.y}function sh(c,a,e){c.y0=a;c.y=e}function ud(c){return x.range(c.length)}function vd(c){var a=-1;c=c[0].length;for(var e=[];++a<c;)e[a]=0;return e}function th(c){for(var a=1,
e=0,g=c[0][1],h,m=c.length;a<m;++a)(h=c[a][1])>g&&(e=a,g=h);return e}function uh(c){return c.reduce(vh,0)}function vh(c,a){return c+a[1]}function wh(c,a){return lf(c,Math.ceil(Math.log(a.length)/Math.LN2+1))}function lf(c,a){for(var e=-1,g=+c[0],h=(c[1]-g)/a,m=[];++e<=a;)m[e]=h*e+g;return m}function xh(c){return[x.min(c),x.max(c)]}function yh(c,a){return c.value-a.value}function wd(c,a){var e=c._pack_next;c._pack_next=a;a._pack_prev=c;a._pack_next=e;e._pack_prev=a}function mf(c,a){c._pack_next=a;
a._pack_prev=c}function nf(c,a){var e=a.x-c.x,g=a.y-c.y,h=c.r+a.r;return.999*h*h>e*e+g*g}function of(c){function a(c){g=Math.min(c.x-c.r,g);h=Math.max(c.x+c.r,h);m=Math.min(c.y-c.r,m);b=Math.max(c.y+c.r,b)}if((e=c.children)&&(n=e.length)){var e,g=Infinity,h=-Infinity,m=Infinity,b=-Infinity,z,k,f,t,l,y,n;e.forEach(zh);z=e[0];z.x=-z.r;z.y=0;a(z);if(1<n&&(k=e[1],k.x=k.r,k.y=0,a(k),2<n))for(f=e[2],pf(z,k,f),a(f),wd(z,f),z._pack_prev=f,wd(f,k),k=z._pack_next,t=3;t<n;t++){pf(z,k,f=e[t]);var r=0,q=1,w=1;
for(l=k._pack_next;l!==k;l=l._pack_next,q++)if(nf(l,f)){r=1;break}if(1==r)for(y=z._pack_prev;y!==l._pack_prev&&!nf(y,f);y=y._pack_prev,w++);r?(q<w||q==w&&k.r<z.r?mf(z,k=l):mf(z=y,k),t--):(wd(z,f),k=f,a(f))}z=(g+h)/2;k=(m+b)/2;for(t=l=0;t<n;t++)f=e[t],f.x-=z,f.y-=k,l=Math.max(l,f.r+Math.sqrt(f.x*f.x+f.y*f.y));c.r=l;e.forEach(Ah)}}function zh(c){c._pack_next=c._pack_prev=c}function Ah(c){delete c._pack_next;delete c._pack_prev}function qf(c,a,e,g){var h=c.children;c.x=a+=g*c.x;c.y=e+=g*c.y;c.r*=g;if(h){c=
-1;for(var m=h.length;++c<m;)qf(h[c],a,e,g)}}function pf(c,a,e){var g=c.r+e.r,h=a.x-c.x,m=a.y-c.y;if(g&&(h||m)){var b=a.r+e.r,z=h*h+m*m,b=b*b,g=g*g;a=.5+(g-b)/(2*z);b=Math.sqrt(Math.max(0,2*b*(g+z)-(g-=z)*g-b*b))/(2*z);e.x=c.x+a*h+b*m;e.y=c.y+a*m-b*h}else e.x=c.x+g,e.y=c.y}function rf(c,a){return c.parent==a.parent?1:2}function xd(c){var a=c.children;return a.length?a[0]:c.t}function yd(c){var a=c.children,e;return(e=a.length)?a[e-1]:c.t}function Bh(c){return 1+x.max(c,function(c){return c.y})}function Ch(c){return c.reduce(function(c,
a){return c+a.x},0)/c.length}function sf(c){var a=c.children;return a&&a.length?sf(a[0]):c}function tf(c){var a=c.children,e;return a&&(e=a.length)?tf(a[e-1]):c}function zd(c){return{x:c.x,y:c.y,dx:c.dx,dy:c.dy}}function uf(c,a){var e=c.x+a[3],g=c.y+a[0],h=c.dx-a[1]-a[3],m=c.dy-a[0]-a[2];0>h&&(e+=h/2,h=0);0>m&&(g+=m/2,m=0);return{x:e,y:g,dx:h,dy:m}}function Cb(c){var a=c[0];c=c[c.length-1];return a<c?[a,c]:[c,a]}function rc(c){return c.rangeExtent?c.rangeExtent():Cb(c.range())}function Dh(c,a,e,g){var h=
e(c[0],c[1]),m=g(a[0],a[1]);return function(c){return m(h(c))}}function sc(c,a){var e=0,g=c.length-1,h=c[e],m=c[g],b;m<h&&(b=e,e=g,g=b,b=h,h=m,m=b);c[e]=a.floor(h);c[g]=a.ceil(m);return c}function vf(c){return c?{floor:function(a){return Math.floor(a/c)*c},ceil:function(a){return Math.ceil(a/c)*c}}:Eh}function Fh(c,a,e,g){var h=[],m=[],b=0,z=Math.min(c.length,a.length)-1;c[z]<c[0]&&(c=c.slice().reverse(),a=a.slice().reverse());for(;++b<=z;)h.push(e(c[b-1],c[b])),m.push(g(a[b-1],a[b]));return function(a){var p=
x.bisect(c,a,1,z)-1;return m[p](h[p](a))}}function wf(c,a,e,g){function h(){var h=2<Math.min(c.length,a.length)?Fh:Dh,k=g?gh:fh;b=h(c,a,k,e);z=h(a,c,k,pb);return m}function m(c){return b(c)}var b,z;m.invert=function(c){return z(c)};m.domain=function(a){if(!arguments.length)return c;c=a.map(Number);return h()};m.range=function(c){if(!arguments.length)return a;a=c;return h()};m.rangeRound=function(c){return m.range(c).interpolate(ef)};m.clamp=function(c){if(!arguments.length)return g;g=c;return h()};
m.interpolate=function(c){if(!arguments.length)return e;e=c;return h()};m.ticks=function(a){return x.range.apply(x,hb(c,a))};m.tickFormat=function(a,p){return Ad(c,a,p)};m.nice=function(a){sc(c,vf(hb(c,a)[2]));return h()};m.copy=function(){return wf(c,a,e,g)};return h()}function Bd(c,a){return x.rebind(c,a,"range","rangeRound","interpolate","clamp")}function hb(c,a){null==a&&(a=10);var e=Cb(c),g=e[1]-e[0],h=Math.pow(10,Math.floor(Math.log(g/a)/Math.LN10)),g=a/g*h;.15>=g?h*=10:.35>=g?h*=5:.75>=g&&
(h*=2);e[0]=Math.ceil(e[0]/h)*h;e[1]=Math.floor(e[1]/h)*h+.5*h;e[2]=h;return e}function Ad(c,a,e){c=hb(c,a);if(e){a=fe.exec(e);a.shift();if("s"===a[8]){var g=x.formatPrefix(Math.max(ja(c[0]),ja(c[1])));a[7]||(a[7]="."+tc(g.scale(c[2])));a[8]="f";e=x.format(a.join(""));return function(c){return e(g.scale(c))+g.symbol}}a[7]||(a[7]="."+Gh(a[8],c));e=a.join("")}else e=",."+tc(c[2])+"f";return x.format(e)}function tc(c){return-Math.floor(Math.log(c)/Math.LN10+.01)}function Gh(c,a){var e=tc(a[2]);return c in
Hh?Math.abs(e-tc(Math.max(ja(a[0]),ja(a[1]))))+ +("e"!==c):e-2*("%"===c)}function xf(c,a,e,g){function h(c){return(e?Math.log(0>c?0:c):-Math.log(0<c?0:-c))/Math.log(a)}function m(c){return e?Math.pow(a,c):-Math.pow(a,-c)}function b(a){return c(h(a))}b.invert=function(a){return m(c.invert(a))};b.domain=function(a){if(!arguments.length)return g;e=0<=a[0];c.domain((g=a.map(Number)).map(h));return b};b.base=function(e){if(!arguments.length)return a;a=+e;c.domain(g.map(h));return b};b.nice=function(){var a=
sc(g.map(h),e?Math:Ih);c.domain(a);g=a.map(m);return b};b.ticks=function(){var c=Cb(g),b=[],k=c[0],c=c[1],f=Math.floor(h(k)),L=Math.ceil(h(c)),t=a%1?2:a;if(isFinite(L-f)){if(e){for(;f<L;f++)for(var l=1;l<t;l++)b.push(m(f)*l);b.push(m(f))}else for(b.push(m(f));f++<L;)for(l=t-1;0<l;l--)b.push(m(f)*l);for(f=0;b[f]<k;f++);for(L=b.length;b[L-1]>c;L--);b=b.slice(f,L)}return b};b.tickFormat=function(c,a){if(!arguments.length)return yf;2>arguments.length?a=yf:"function"!==typeof a&&(a=x.format(a));var p=
Math.max(.1,c/b.ticks().length),g=e?(k=1E-12,Math.ceil):(k=-1E-12,Math.floor),k;return function(c){return c/m(g(h(c)+k))<=p?a(c):""}};b.copy=function(){return xf(c.copy(),a,e,g)};return Bd(b,c)}function zf(c,a,e){function g(a){return c(h(a))}var h=uc(a),m=uc(1/a);g.invert=function(a){return m(c.invert(a))};g.domain=function(a){if(!arguments.length)return e;c.domain((e=a.map(Number)).map(h));return g};g.ticks=function(c){return x.range.apply(x,hb(e,c))};g.tickFormat=function(c,a){return Ad(e,c,a)};
g.nice=function(c){return g.domain(sc(e,vf(hb(e,c)[2])))};g.exponent=function(b){if(!arguments.length)return a;h=uc(a=b);m=uc(1/a);c.domain(e.map(h));return g};g.copy=function(){return zf(c.copy(),a,e)};return Bd(g,c)}function uc(c){return function(a){return 0>a?-Math.pow(-a,c):Math.pow(a,c)}}function Af(c,a){function e(e){return m[((h.get(e)||("range"===a.t?h.set(e,c.push(e)):NaN))-1)%m.length]}function g(a,p){return x.range(c.length).map(function(c){return a+p*c})}var h,m,b;e.domain=function(g){if(!arguments.length)return c;
c=[];h=new A;for(var m=-1,b=g.length,k;++m<b;)h.has(k=g[m])||h.set(k,c.push(k));return e[a.t].apply(e,a.a)};e.range=function(c){if(!arguments.length)return m;m=c;b=0;a={t:"range",a:arguments};return e};e.rangePoints=function(h,k){2>arguments.length&&(k=0);var f=h[0],t=h[1],l=(t-f)/(Math.max(1,c.length-1)+k);m=g(2>c.length?(f+t)/2:f+l*k/2,l);b=0;a={t:"rangePoints",a:arguments};return e};e.rangeBands=function(h,k,f){2>arguments.length&&(k=0);3>arguments.length&&(f=k);var t=h[1]<h[0],l=h[t-0],y=(h[1-
t]-l)/(c.length-k+2*f);m=g(l+y*f,y);t&&m.reverse();b=y*(1-k);a={t:"rangeBands",a:arguments};return e};e.rangeRoundBands=function(h,k,f){2>arguments.length&&(k=0);3>arguments.length&&(f=k);var t=h[1]<h[0],l=h[t-0],y=h[1-t],n=Math.floor((y-l)/(c.length-k+2*f));m=g(l+Math.round((y-l-(c.length-k)*n)/2),n);t&&m.reverse();b=Math.round(n*(1-k));a={t:"rangeRoundBands",a:arguments};return e};e.rangeBand=function(){return b};e.rangeExtent=function(){return Cb(a.a[0])};e.copy=function(){return Af(c,a)};return e.domain(c)}
function Bf(c,a){function e(){var e=0,b=a.length;for(h=[];++e<b;)h[e-1]=x.quantile(c,e/b);return g}function g(c){if(!isNaN(c=+c))return a[x.bisect(h,c)]}var h;g.domain=function(a){if(!arguments.length)return c;c=a.filter(u).sort(X);return e()};g.range=function(c){if(!arguments.length)return a;a=c;return e()};g.quantiles=function(){return h};g.invertExtent=function(e){e=a.indexOf(e);return 0>e?[NaN,NaN]:[0<e?h[e-1]:c[0],e<h.length?h[e]:c[c.length-1]]};g.copy=function(){return Bf(c,a)};return e()}function Cf(c,
a,e){function g(a){return e[Math.max(0,Math.min(b,Math.floor(m*(a-c))))]}function h(){m=e.length/(a-c);b=e.length-1;return g}var m,b;g.domain=function(e){if(!arguments.length)return[c,a];c=+e[0];a=+e[e.length-1];return h()};g.range=function(c){if(!arguments.length)return e;e=c;return h()};g.invertExtent=function(a){a=e.indexOf(a);a=0>a?NaN:a/m+c;return[a,a+1/m]};g.copy=function(){return Cf(c,a,e)};return h()}function Df(c,a){function e(e){if(e<=e)return a[x.bisect(c,e)]}e.domain=function(a){if(!arguments.length)return c;
c=a;return e};e.range=function(c){if(!arguments.length)return a;a=c;return e};e.invertExtent=function(e){e=a.indexOf(e);return[c[e-1],c[e]]};e.copy=function(){return Df(c,a)};return e}function Ef(c){function a(c){return+c}a.invert=a;a.domain=a.range=function(e){if(!arguments.length)return c;c=e.map(a);return a};a.ticks=function(a){return x.range.apply(x,hb(c,a))};a.tickFormat=function(a,p){return Ad(c,a,p)};a.copy=function(){return Ef(c)};return a}function Jh(c){return c.innerRadius}function Kh(c){return c.outerRadius}
function Ff(c){return c.startAngle}function Gf(c){return c.endAngle}function Hf(c){function a(p){function b(){f.push("M",m(c(L),k))}for(var f=[],L=[],t=-1,l=p.length,y,n=ra(e),r=ra(g);++t<l;)h.call(this,y=p[t],t)?L.push([+n.call(this,y,t),+r.call(this,y,t)]):L.length&&(b(),L=[]);L.length&&b();return f.length?f.join(""):null}var e=xb,g=Kb,h=wb,m=Ia,b=m.key,k=.7;a.x=function(c){if(!arguments.length)return e;e=c;return a};a.y=function(c){if(!arguments.length)return g;g=c;return a};a.defined=function(c){if(!arguments.length)return h;
h=c;return a};a.interpolate=function(c){if(!arguments.length)return b;b="function"===typeof c?m=c:(m=Cd.get(c)||Ia).key;return a};a.tension=function(c){if(!arguments.length)return k;k=c;return a};return a}function Ia(c){return c.join("L")}function Dd(c){for(var a=0,e=c.length,g=c[0],h=[g[0],",",g[1]];++a<e;)h.push("V",(g=c[a])[1],"H",g[0]);return h.join("")}function Ed(c){for(var a=0,e=c.length,g=c[0],h=[g[0],",",g[1]];++a<e;)h.push("H",(g=c[a])[0],"V",g[1]);return h.join("")}function vc(c,a){if(1>
a.length||c.length!=a.length&&c.length!=a.length+2)return Ia(c);var e=c.length!=a.length,g="",h=c[0],m=c[1],b=a[0],k=b,f=1;e&&(g+="Q"+(m[0]-2*b[0]/3)+","+(m[1]-2*b[1]/3)+","+m[0]+","+m[1],h=c[1],f=2);if(1<a.length)for(k=a[1],m=c[f],f++,g+="C"+(h[0]+b[0])+","+(h[1]+b[1])+","+(m[0]-k[0])+","+(m[1]-k[1])+","+m[0]+","+m[1],h=2;h<a.length;h++,f++)m=c[f],k=a[h],g+="S"+(m[0]-k[0])+","+(m[1]-k[1])+","+m[0]+","+m[1];e&&(e=c[f],g+="Q"+(m[0]+2*k[0]/3)+","+(m[1]+2*k[1]/3)+","+e[0]+","+e[1]);return g}function Fd(c,
a){for(var e=[],g=(1-a)/2,h,m=c[0],b=c[1],k=1,f=c.length;++k<f;)h=m,m=b,b=c[k],e.push([g*(b[0]-h[0]),g*(b[1]-h[1])]);return e}function If(c){if(3>c.length)return Ia(c);var a=1,e=c.length,g=c[0],h=g[0],m=g[1],b=[h,h,h,(g=c[1])[0]],k=[m,m,m,g[1]],h=[h,",",m,"L",Ma(ib,b),",",Ma(ib,k)];for(c.push(c[e-1]);++a<=e;)g=c[a],b.shift(),b.push(g[0]),k.shift(),k.push(g[1]),Gd(h,b,k);c.pop();h.push("L",g);return h.join("")}function Ma(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]}function Gd(c,a,e){c.push("C",
Ma(Jf,a),",",Ma(Jf,e),",",Ma(Kf,a),",",Ma(Kf,e),",",Ma(ib,a),",",Ma(ib,e))}function Hd(c,a){return(a[1]-c[1])/(a[0]-c[0])}function Lf(c){for(var a,e=-1,g=c.length,h,m;++e<g;)a=c[e],h=a[0],m=a[1]+qb,a[0]=h*Math.cos(m),a[1]=h*Math.sin(m);return c}function Mf(c){function a(p){function f(){n.push("M",k(c(r),y),l,t(c(Z.reverse()),y),"Z")}for(var n=[],Z=[],r=[],q=-1,w=p.length,I,C=ra(e),x=ra(h),B=e===g?function(){return u}:ra(g),F=h===m?function(){return v}:ra(m),u,v;++q<w;)b.call(this,I=p[q],q)?(Z.push([u=
+C.call(this,I,q),v=+x.call(this,I,q)]),r.push([+B.call(this,I,q),+F.call(this,I,q)])):Z.length&&(f(),Z=[],r=[]);Z.length&&f();return n.length?n.join(""):null}var e=xb,g=xb,h=0,m=Kb,b=wb,k=Ia,f=k.key,t=k,l="L",y=.7;a.x=function(c){if(!arguments.length)return g;e=g=c;return a};a.x0=function(c){if(!arguments.length)return e;e=c;return a};a.x1=function(c){if(!arguments.length)return g;g=c;return a};a.y=function(c){if(!arguments.length)return m;h=m=c;return a};a.y0=function(c){if(!arguments.length)return h;
h=c;return a};a.y1=function(c){if(!arguments.length)return m;m=c;return a};a.defined=function(c){if(!arguments.length)return b;b=c;return a};a.interpolate=function(c){if(!arguments.length)return f;f="function"===typeof c?k=c:(k=Cd.get(c)||Ia).key;t=k.reverse||k;l=k.closed?"M":"L";return a};a.tension=function(c){if(!arguments.length)return y;y=c;return a};return a}function Lh(c){return c.radius}function Nf(c){return[c.x,c.y]}function Mh(c){return function(){var a=c.apply(this,arguments),e=a[0],a=a[1]+
qb;return[e*Math.cos(a),e*Math.sin(a)]}}function Nh(){return 64}function Oh(){return"circle"}function Of(c){c=Math.sqrt(c/ia);return"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"Z"}function Sb(c,a){Ub(c,ua);c.id=a;return c}function Id(c,a,e,g){var h=c.id;return I(c,"function"===typeof e?function(c,b,k){c.__transition__[h].tween.set(a,g(e.call(c,c.__data__,b,k)))}:(e=g(e),function(c){c.__transition__[h].tween.set(a,e)}))}function Ph(c){null==c&&(c="");return function(){this.textContent=
c}}function wc(c,a,e,g){var h=c.__transition__||(c.__transition__={active:0,count:0}),m=h[e];if(!m){var b=g.time,m=h[e]={tween:new A,time:b,ease:g.ease,delay:g.delay,duration:g.duration};++h.count;x.timer(function(g){function k(g){if(h.active>e)return t();h.active=e;m.event&&m.event.start.call(c,l,a);m.tween.forEach(function(e,g){(g=g.call(c,l,a))&&w.push(g)});x.timer(function(){q.c=f(g||1)?wb:f;return 1},0,b)}function f(g){if(h.active!==e)return t();g/=r;for(var b=y(g),k=w.length;0<k;)w[--k].call(c,
b);if(1<=g)return m.event&&m.event.end.call(c,l,a),t()}function t(){--h.count?delete h[e]:delete c.__transition__;return 1}var l=c.__data__,y=m.ease,n=m.delay,r=m.duration,q=Xa,w=[];q.t=n+b;if(n<=g)return k(g-n);q.c=k},0,b)}}function Pf(c,a){c.attr("transform",function(c){return"translate("+a(c)+",0)"})}function Qf(c,a){c.attr("transform",function(c){return"translate(0,"+a(c)+")"})}function Jd(c){return c.toISOString()}function Kd(c,a,e){function g(a){return c(a)}function h(c,e){var g=(c[1]-c[0])/
e,h=x.bisect(xc,g);return h==xc.length?[a.year,hb(c.map(function(c){return c/31536E6}),e)[2]]:h?a[g/xc[h-1]<xc[h]/g?h-1:h]:[Qh,hb(c,e)[2]]}g.invert=function(a){return rb(c.invert(a))};g.domain=function(a){if(!arguments.length)return c.domain().map(rb);c.domain(a);return g};g.nice=function(c,a){function e(p){return!isNaN(p)&&!c.range(p,rb(+p+1),a).length}var p=g.domain(),b=Cb(p);if(b=null==c?h(b,10):"number"===typeof c&&h(b,c))c=b[0],a=b[1];return g.domain(sc(p,1<a?{floor:function(a){for(;e(a=c.floor(a));)a=
rb(a-1);return a},ceil:function(a){for(;e(a=c.ceil(a));)a=rb(+a+1);return a}}:c))};g.ticks=function(c,a){var e=Cb(g.domain()),p=null==c?h(e,10):"number"===typeof c?h(e,c):!c.range&&[{range:c},a];p&&(c=p[0],a=p[1]);return c.range(e[0],rb(+e[1]+1),1>a?1:a)};g.tickFormat=function(){return e};g.copy=function(){return Kd(c.copy(),a,e)};return Bd(g,c)}function rb(c){return new Date(c)}function Rh(c){return JSON.parse(c.responseText)}function Sh(c){var a=Ra.createRange();a.selectNode(Ra.body);return a.createContextualFragment(c.responseText)}
var x={version:"3.4.9"};Date.now||(Date.now=function(){return+new Date});var Rf=[].slice,cb=function(c){return Rf.call(c)},Ra=document,Wa=Ra.documentElement,za=window;try{cb(Wa.childNodes)[0].nodeType}catch(ri){cb=function(c){for(var a=c.length,e=Array(a);a--;)e[a]=c[a];return e}}try{Ra.createElement("div").style.setProperty("opacity",0,"")}catch(si){var yc=za.Element.prototype,Th=yc.setAttribute,Uh=yc.setAttributeNS,Sf=za.CSSStyleDeclaration.prototype,Vh=Sf.setProperty;yc.setAttribute=function(c,
a){Th.call(this,c,a+"")};yc.setAttributeNS=function(c,a,e){Uh.call(this,c,a,e+"")};Sf.setProperty=function(c,a,e){Vh.call(this,c,a+"",e)}}x.ascending=X;x.descending=function(c,a){return a<c?-1:a>c?1:a>=c?0:NaN};x.min=function(c,a){var e=-1,g=c.length,h,b;if(1===arguments.length){for(;++e<g&&!(null!=(h=c[e])&&h<=h);)h=void 0;for(;++e<g;)null!=(b=c[e])&&h>b&&(h=b)}else{for(;++e<g&&!(null!=(h=a.call(c,c[e],e))&&h<=h);)h=void 0;for(;++e<g;)null!=(b=a.call(c,c[e],e))&&h>b&&(h=b)}return h};x.max=function(c,
a){var e=-1,g=c.length,h,b;if(1===arguments.length){for(;++e<g&&!(null!=(h=c[e])&&h<=h);)h=void 0;for(;++e<g;)null!=(b=c[e])&&b>h&&(h=b)}else{for(;++e<g&&!(null!=(h=a.call(c,c[e],e))&&h<=h);)h=void 0;for(;++e<g;)null!=(b=a.call(c,c[e],e))&&b>h&&(h=b)}return h};x.extent=function(c,a){var e=-1,g=c.length,h,b,k;if(1===arguments.length){for(;++e<g&&!(null!=(h=k=c[e])&&h<=h);)h=k=void 0;for(;++e<g;)null!=(b=c[e])&&(h>b&&(h=b),k<b&&(k=b))}else{for(;++e<g&&!(null!=(h=k=a.call(c,c[e],e))&&h<=h);)h=void 0;
for(;++e<g;)null!=(b=a.call(c,c[e],e))&&(h>b&&(h=b),k<b&&(k=b))}return[h,k]};x.sum=function(c,a){var e=0,g=c.length,h,b=-1;if(1===arguments.length)for(;++b<g;)isNaN(h=+c[b])||(e+=h);else for(;++b<g;)isNaN(h=+a.call(c,c[b],b))||(e+=h);return e};x.mean=function(c,a){var e=0,g=c.length,h,b=-1,k=g;if(1===arguments.length)for(;++b<g;)u(h=c[b])?e+=h:--k;else for(;++b<g;)u(h=a.call(c,c[b],b))?e+=h:--k;return k?e/k:void 0};x.quantile=function(c,a){var e=(c.length-1)*a+1,g=Math.floor(e),h=+c[g-1];return(e-=
g)?h+e*(c[g]-h):h};x.median=function(c,a){1<arguments.length&&(c=c.map(a));c=c.filter(u);return c.length?x.quantile(c.sort(X),.5):void 0};var Tf=a(X);x.bisectLeft=Tf.left;x.bisect=x.bisectRight=Tf.right;x.bisector=function(c){return a(1===c.length?function(a,e){return X(c(a),e)}:c)};x.shuffle=function(c){for(var a=c.length,e,g;a;)g=Math.random()*a--|0,e=c[a],c[a]=c[g],c[g]=e;return c};x.permute=function(c,a){for(var e=a.length,g=Array(e);e--;)g[e]=c[a[e]];return g};x.pairs=function(c){for(var a=0,
e=c.length-1,g=c[0],h=Array(0>e?0:e);a<e;)h[a]=[g,g=c[++a]];return h};x.zip=function(){if(!(h=arguments.length))return[];for(var c=-1,a=x.min(arguments,b),e=Array(a);++c<a;)for(var g=-1,h,m=e[c]=Array(h);++g<h;)m[g]=arguments[g][c];return e};x.transpose=function(c){return x.zip.apply(x,c)};x.keys=function(c){var a=[],e;for(e in c)a.push(e);return a};x.values=function(c){var a=[],e;for(e in c)a.push(c[e]);return a};x.entries=function(c){var a=[],e;for(e in c)a.push({key:e,value:c[e]});return a};x.merge=
function(c){var a=c.length,e;e=-1;for(var g=0,h,b;++e<a;)g+=c[e].length;for(h=Array(g);0<=--a;)for(b=c[a],e=b.length;0<=--e;)h[--g]=b[e];return h};var ja=Math.abs;x.range=function(c,a,e){3>arguments.length&&(e=1,2>arguments.length&&(a=c,c=0));if(Infinity===(a-c)/e)throw Error("infinite range");var g=[],h;h=ja(e);for(var b=1;h*b%1;)b*=10;h=b;var b=-1,k;c*=h;a*=h;e*=h;if(0>e)for(;(k=c+e*++b)>a;)g.push(k/h);else for(;(k=c+e*++b)<a;)g.push(k/h);return g};x.map=function(c){var a=new A;if(c instanceof A)c.forEach(function(c,
e){a.set(c,e)});else for(var e in c)a.set(e,c[e]);return a};n(A,{has:r,get:function(c){return this[jb+c]},set:function(c,a){return this[jb+c]=a},remove:function(c){c=jb+c;return c in this&&delete this[c]},keys:l,values:function(){var c=[];this.forEach(function(a,e){c.push(e)});return c},entries:function(){var c=[];this.forEach(function(a,e){c.push({key:a,value:e})});return c},size:f,empty:v,forEach:function(c){for(var a in this)a.charCodeAt(0)===Tb&&c.call(this,a.substring(1),this[a])}});var jb="\x00",
Tb=jb.charCodeAt(0);x.nest=function(){function c(a,p,h){if(h>=g.length)return k?k.call(e,p):b?p.sort(b):p;for(var f=-1,t=p.length,l=g[h++],y,n,r=new A,q;++f<t;)(q=r.get(y=l(n=p[f])))?q.push(n):r.set(y,[n]);a?(n=a(),p=function(e,p){n.set(e,c(a,p,h))}):(n={},p=function(e,p){n[e]=c(a,p,h)});r.forEach(p);return n}function a(c,e){if(e>=g.length)return c;var b=[],m=h[e++];c.forEach(function(c,g){b.push({key:c,values:a(g,e)})});return m?b.sort(function(c,a){return m(c.key,a.key)}):b}var e={},g=[],h=[],b,
k;e.map=function(a,e){return c(e,a,0)};e.entries=function(e){return a(c(x.map,e,0),0)};e.key=function(c){g.push(c);return e};e.sortKeys=function(c){h[g.length-1]=c;return e};e.sortValues=function(c){b=c;return e};e.rollup=function(c){k=c;return e};return e};x.set=function(c){var a=new q;if(c)for(var e=0,g=c.length;e<g;++e)a.add(c[e]);return a};n(q,{has:r,add:function(c){this[jb+c]=!0;return c},remove:function(c){c=jb+c;return c in this&&delete this[c]},values:l,size:f,empty:v,forEach:function(c){for(var a in this)a.charCodeAt(0)===
Tb&&c.call(this,a.substring(1))}});x.behavior={};x.rebind=function(c,a){for(var e=1,g=arguments.length,h;++e<g;)c[h=arguments[e]]=K(c,a,a[h]);return c};var Sd="webkit ms moz Moz o O".split(" ");x.dispatch=function(){for(var c=new H,a=-1,e=arguments.length;++a<e;)c[arguments[a]]=D(c);return c};H.prototype.on=function(c,a){var e=c.indexOf("."),g="";0<=e&&(g=c.substring(e+1),c=c.substring(0,e));if(c)return 2>arguments.length?this[c].on(g):this[c].on(g,a);if(2===arguments.length){if(null==a)for(c in this)if(this.hasOwnProperty(c))this[c].on(g,
null);return this}};x.event=null;x.requote=function(c){return c.replace(Wh,"\\$&")};var Wh=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ub={}.__proto__?function(c,a){c.__proto__=a}:function(c,a){for(var e in a)c[e]=a[e]},Oc=function(c,a){return a.querySelector(c)},Pc=function(c,a){return a.querySelectorAll(c)},Xh=Wa.matches||Wa[G(Wa,"matchesSelector")],Td=function(c,a){return Xh.call(c,a)};"function"===typeof Sizzle&&(Oc=function(c,a){return Sizzle(c,a)[0]||null},Pc=Sizzle,Td=Sizzle.matchesSelector);x.selection=
function(){return Uf};var oa=x.selection.prototype=[];oa.select=function(c){var a=[],e,g,h,b;c=Q(c);for(var k=-1,z=this.length;++k<z;){a.push(e=[]);e.parentNode=(h=this[k]).parentNode;for(var f=-1,t=h.length;++f<t;)(b=h[f])?(e.push(g=c.call(b,b.__data__,f,k)),g&&"__data__"in b&&(g.__data__=b.__data__)):e.push(null)}return N(a)};oa.selectAll=function(c){var a=[],e,g;c=J(c);for(var h=-1,b=this.length;++h<b;)for(var k=this[h],z=-1,f=k.length;++z<f;)if(g=k[z])a.push(e=cb(c.call(g,g.__data__,z,h))),e.parentNode=
g;return N(a)};var Ld={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};x.ns={prefix:Ld,qualify:function(c){var a=c.indexOf(":"),e=c;0<=a&&(e=c.substring(0,a),c=c.substring(a+1));return Ld.hasOwnProperty(e)?{space:Ld[e],local:c}:c}};oa.attr=function(c,a){if(2>arguments.length){if("string"===typeof c){var e=this.node();c=x.ns.qualify(c);return c.local?e.getAttributeNS(c.space,
c.local):e.getAttribute(c)}for(a in c)this.each(T(a,c[a]));return this}return this.each(T(c,a))};oa.classed=function(c,a){if(2>arguments.length){if("string"===typeof c){var e=this.node(),g=(c=(c+"").trim().split(/^|\s+/)).length,b=-1;if(a=e.classList)for(;++b<g;){if(!a.contains(c[b]))return!1}else for(a=e.getAttribute("class");++b<g;)if(!O(c[b]).test(a))return!1;return!0}for(a in c)this.each(w(a,c[a]));return this}return this.each(w(c,a))};oa.style=function(c,a,e){var g=arguments.length;if(3>g){if("string"!==
typeof c){2>g&&(a="");for(e in c)this.each(F(e,c[e],a));return this}if(2>g)return za.getComputedStyle(this.node(),null).getPropertyValue(c);e=""}return this.each(F(c,a,e))};oa.property=function(c,a){if(2>arguments.length){if("string"===typeof c)return this.node()[c];for(a in c)this.each(t(a,c[a]));return this}return this.each(t(c,a))};oa.text=function(c){return arguments.length?this.each("function"===typeof c?function(){var a=c.apply(this,arguments);this.textContent=null==a?"":a}:null==c?function(){this.textContent=
""}:function(){this.textContent=c}):this.node().textContent};oa.html=function(c){return arguments.length?this.each("function"===typeof c?function(){var a=c.apply(this,arguments);this.innerHTML=null==a?"":a}:null==c?function(){this.innerHTML=""}:function(){this.innerHTML=c}):this.node().innerHTML};oa.append=function(c){c=R(c);return this.select(function(){return this.appendChild(c.apply(this,arguments))})};oa.insert=function(c,a){c=R(c);a=Q(a);return this.select(function(){return this.insertBefore(c.apply(this,
arguments),a.apply(this,arguments)||null)})};oa.remove=function(){return this.each(function(){var c=this.parentNode;c&&c.removeChild(this)})};oa.data=function(c,a){function e(c,e){var g,b=c.length,h=e.length,m=Math.min(b,h),k=Array(h),l=Array(h),L=Array(b),y,n;if(a){var m=new A,r=new A,q=[],w;for(g=-1;++g<b;)w=a.call(y=c[g],y.__data__,g),m.has(w)?L[g]=y:m.set(w,y),q.push(w);for(g=-1;++g<h;)w=a.call(e,n=e[g],g),(y=m.get(w))?(k[g]=y,y.__data__=n):r.has(w)||(l[g]={__data__:n}),r.set(w,n),m.remove(w);
for(g=-1;++g<b;)m.has(q[g])&&(L[g]=c[g])}else{for(g=-1;++g<m;)y=c[g],n=e[g],y?(y.__data__=n,k[g]=y):l[g]={__data__:n};for(;g<h;++g)l[g]={__data__:e[g]};for(;g<b;++g)L[g]=c[g]}l.update=k;l.parentNode=k.parentNode=L.parentNode=c.parentNode;z.push(l);f.push(k);t.push(L)}var g=-1,b=this.length,m,k;if(!arguments.length){for(c=Array(b=(m=this[0]).length);++g<b;)if(k=m[g])c[g]=k.__data__;return c}var z=aa([]),f=N([]),t=N([]);if("function"===typeof c)for(;++g<b;)e(m=this[g],c.call(m,m.parentNode.__data__,
g));else for(;++g<b;)e(m=this[g],c);f.enter=function(){return z};f.exit=function(){return t};return f};oa.datum=function(c){return arguments.length?this.property("__data__",c):this.property("__data__")};oa.filter=function(c){var a=[],e,g,b;"function"!==typeof c&&(c=V(c));for(var m=0,k=this.length;m<k;m++){a.push(e=[]);e.parentNode=(g=this[m]).parentNode;for(var f=0,t=g.length;f<t;f++)(b=g[f])&&c.call(b,b.__data__,f,m)&&e.push(b)}return N(a)};oa.order=function(){for(var c=-1,a=this.length;++c<a;)for(var e=
this[c],g=e.length-1,b=e[g],m;0<=--g;)if(m=e[g])b&&b!==m.nextSibling&&b.parentNode.insertBefore(m,b),b=m;return this};oa.sort=function(c){c=U.apply(this,arguments);for(var a=-1,e=this.length;++a<e;)this[a].sort(c);return this.order()};oa.each=function(c){return I(this,function(a,e,g){c.call(a,a.__data__,e,g)})};oa.call=function(c){var a=cb(arguments);c.apply(a[0]=this,a);return this};oa.empty=function(){return!this.node()};oa.node=function(){for(var c=0,a=this.length;c<a;c++)for(var e=this[c],g=0,
b=e.length;g<b;g++){var m=e[g];if(m)return m}return null};oa.size=function(){var c=0;this.each(function(){++c});return c};var Va=[];x.selection.enter=aa;x.selection.enter.prototype=Va;Va.append=oa.append;Va.empty=oa.empty;Va.node=oa.node;Va.call=oa.call;Va.size=oa.size;Va.select=function(c){for(var a=[],e,g,b,m,k,f=-1,t=this.length;++f<t;){b=(m=this[f]).update;a.push(e=[]);e.parentNode=m.parentNode;for(var l=-1,y=m.length;++l<y;)(k=m[l])?(e.push(b[l]=g=c.call(m.parentNode,k.__data__,l,f)),g.__data__=
k.__data__):e.push(null)}return N(a)};Va.insert=function(c,a){2>arguments.length&&(a=W(this));return oa.insert.call(this,c,a)};oa.transition=function(){for(var c=sb||++Vf,a=[],e,g,b=zc||{time:Date.now(),ease:ah,delay:0,duration:250},m=-1,k=this.length;++m<k;){a.push(e=[]);for(var f=this[m],t=-1,l=f.length;++t<l;)(g=f[t])&&wc(g,t,c,b),e.push(g)}return Sb(a,c)};oa.interrupt=function(){return this.each(k)};x.select=function(c){c=["string"===typeof c?Oc(c,Ra):c];c.parentNode=Wa;return N([c])};x.selectAll=
function(c){c=cb("string"===typeof c?Pc(c,Ra):c);c.parentNode=Wa;return N([c])};var Uf=x.select(Wa);oa.on=function(c,a,e){var g=arguments.length;if(3>g){if("string"!==typeof c){2>g&&(a=!1);for(e in c)this.each(y(e,c[e],a));return this}if(2>g)return(g=this.node()["__on"+c])&&g._;e=!1}return this.each(y(c,a,e))};var Qc=x.map({mouseenter:"mouseover",mouseleave:"mouseout"});Qc.forEach(function(c){"on"+c in Ra&&Qc.remove(c)});var Fb="onselectstart"in Ra?null:G(Wa.style,"userSelect"),lg=0;x.mouse=function(c){return Y(c,
S())};var Rc=/WebKit/.test(za.navigator.userAgent)?-1:0;x.touches=function(c,a){2>arguments.length&&(a=S().touches);return a?cb(a).map(function(a){var g=Y(c,a);g.identifier=a.identifier;return g}):[]};x.behavior.drag=function(){function c(){this.on("mousedown.drag",b).on("touchstart.drag",m)}function a(c,b,p,h,m){return function(){var a=x.event.target,k=this.parentNode,f=e.of(this,arguments),t=0,l=c(),y=".drag"+(null==l?"":"-"+l),n,r=x.select(p()).on(h+y,function(){var c=b(k,l),a,e;c&&(a=c[0]-w[0],
e=c[1]-w[1],t=t|a|e,w=c,f({type:"drag",x:c[0]+n[0],y:c[1]+n[1],dx:a,dy:e}))}).on(m+y,function(){b(k,l)&&(r.on(h+y,null).on(m+y,null),q(t&&x.event.target===a),f({type:"dragend"}))}),q=ma(),w=b(k,l);g?(n=g.apply(this,arguments),n=[n.x-w[0],n.y-w[1]]):n=[0,0];f({type:"dragstart"})}}var e=B(c,"drag","dragstart","dragend"),g=null,b=a(E,x.mouse,da,"mousemove","mouseup"),m=a(fa,x.touch,ga,"touchmove","touchend");c.origin=function(a){if(!arguments.length)return g;g=a;return c};return x.rebind(c,e,"on")};
var ia=Math.PI,Ha=2*ia,wa=ia/2,ha=ia/180,sa=180/ia,Ac=Math.SQRT2;x.interpolateZoom=function(c,a){function e(c){var a=c*w;if(q){c=Aa(r);var e,p=Ac*a+r;e=((p=Math.exp(2*p))-1)/(p+1);e*=c;var k=r,p=((k=Math.exp(k))-1/k)/2;e=m/(2*y)*(e-p);return[g+e*f,b+e*t,m*c/Aa(Ac*a+r)]}return[g+c*f,b+c*t,m*Math.exp(Ac*a)]}var g=c[0],b=c[1],m=c[2],k=a[2],f=a[0]-g,t=a[1]-b,l=f*f+t*t,y=Math.sqrt(l),n=(k*k-m*m+4*l)/(4*m*y),l=(k*k-m*m-4*l)/(4*k*y),r=Math.log(Math.sqrt(n*n+1)-n),q=Math.log(Math.sqrt(l*l+1)-l)-r,w=(q||Math.log(k/
m))/Ac;e.duration=1E3*w;return e};x.behavior.zoom=function(){function c(c){c.on("mousedown.zoom",t).on(Yh+".zoom",y).on("mousemove.zoom",n).on("dblclick.zoom",r).on("touchstart.zoom",l)}function a(c){return[(c[0]-q.x)/q.k,(c[1]-q.y)/q.k]}function e(c){q.k=Math.max(F[0],Math.min(F[1],c))}function g(c,a){a=[a[0]*q.k+q.x,a[1]*q.k+q.y];q.x+=c[0]-a[0];q.y+=c[1]-a[1]}function b(){J&&J.domain(R.range().map(function(c){return(c-q.x)/q.k}).map(R.invert));V&&V.domain(D.range().map(function(c){return(c-q.y)/
q.k}).map(D.invert))}function m(c){c({type:"zoomstart"})}function f(c){b();c({type:"zoom",scale:q.k,translate:[q.x,q.y]})}function z(c){c({type:"zoomend"})}function t(){var c=this,e=x.event.target,b=A.of(c,arguments),h=0,l=x.select(za).on("mousemove.zoom",function(){h=1;g(x.mouse(c),y);f(b)}).on("mouseup.zoom",function(){l.on("mousemove.zoom",za===c?n:null).on("mouseup.zoom",null);q(h&&x.event.target===e);z(b)}),y=a(x.mouse(c)),q=ma();k.call(c);m(b)}function l(){function c(){var e=x.touches(n);C=
q.k;e.forEach(function(c){c.identifier in w&&(w[c.identifier]=a(c))});return e}function b(){var a=x.event.target;x.select(a).on(B,h).on(u,y);R.push(a);for(var a=x.event.changedTouches,p=0,m=a.length;p<m;++p)w[a[p].identifier]=null;m=c();p=Date.now();1===m.length?(500>p-v&&(a=m[0],m=w[a.identifier],e(2*q.k),g(a,m),M(),f(r)),v=p):1<m.length&&(a=m[0],m=m[1],p=a[0]-m[0],a=a[1]-m[1],I=p*p+a*a)}function h(){for(var c=x.touches(n),a,b,p,m,k=0,z=c.length;k<z;++k,m=null)if(p=c[k],m=w[p.identifier]){if(b)break;
a=p;b=m}if(m){var l=(l=p[0]-a[0])*l+(l=p[1]-a[1])*l,c=I&&Math.sqrt(l/I);a=[(a[0]+p[0])/2,(a[1]+p[1])/2];b=[(b[0]+m[0])/2,(b[1]+m[1])/2];e(c*C)}v=null;g(a,b);f(r)}function y(){if(x.event.touches.length){for(var a=x.event.changedTouches,e=0,g=a.length;e<g;++e)delete w[a[e].identifier];for(var b in w)return void c()}x.selectAll(R).on(F,null);J.on("mousedown.zoom",t).on("touchstart.zoom",l);D();z(r)}var n=this,r=A.of(n,arguments),w={},I=0,C,F=".zoom-"+x.event.changedTouches[0].identifier,B="touchmove"+
F,u="touchend"+F,R=[],J=x.select(n).on("mousedown.zoom",null).on("touchstart.zoom",b),D=ma();k.call(n);b();m(r)}function y(){var c=A.of(this,arguments);u?clearTimeout(u):(k.call(this),m(c));u=setTimeout(function(){u=null;z(c)},50);M();var b=I||x.mouse(this);w||(w=a(b));e(Math.pow(2,.002*Bc())*q.k);g(b,w);f(c)}function n(){w=null}function r(){var c=A.of(this,arguments),b=x.mouse(this),h=a(b),k=Math.log(q.k)/Math.LN2;m(c);e(Math.pow(2,x.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1));g(b,h);f(c);z(c)}
var q={x:0,y:0,k:1},w,I,C=[960,500],F=Wf,u,v,A=B(c,"zoomstart","zoom","zoomend"),R,J,D,V;c.event=function(c){c.each(function(){var c=A.of(this,arguments),a=q;sb?x.select(this).transition().each("start.zoom",function(){q=this.__chart__||{x:0,y:0,k:1};m(c)}).tween("zoom:zoom",function(){var e=C[0],g=e/2,b=C[1]/2,p=x.interpolateZoom([(g-q.x)/q.k,(b-q.y)/q.k,e/q.k],[(g-a.x)/a.k,(b-a.y)/a.k,e/a.k]);return function(a){a=p(a);var h=e/a[2];this.__chart__=q={x:g-a[0]*h,y:b-a[1]*h,k:h};f(c)}}).each("end.zoom",
function(){z(c)}):(this.__chart__=q,m(c),f(c),z(c))})};c.translate=function(a){if(!arguments.length)return[q.x,q.y];q={x:+a[0],y:+a[1],k:q.k};b();return c};c.scale=function(a){if(!arguments.length)return q.k;q={x:q.x,y:q.y,k:+a};b();return c};c.scaleExtent=function(a){if(!arguments.length)return F;F=null==a?Wf:[+a[0],+a[1]];return c};c.center=function(a){if(!arguments.length)return I;I=a&&[+a[0],+a[1]];return c};c.size=function(a){if(!arguments.length)return C;C=a&&[+a[0],+a[1]];return c};c.x=function(a){if(!arguments.length)return J;
J=a;R=a.copy();q={x:0,y:0,k:1};return c};c.y=function(a){if(!arguments.length)return V;V=a;D=a.copy();q={x:0,y:0,k:1};return c};return x.rebind(c,A,"on")};var Wf=[0,Infinity],Bc,Yh="onwheel"in Ra?(Bc=function(){return-x.event.deltaY*(x.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ra?(Bc=function(){return x.event.wheelDelta},"mousewheel"):(Bc=function(){return-x.event.detail},"MozMousePixelScroll");x.color=Ea;Ea.prototype.toString=function(){return this.rgb()+""};x.hsl=Fa;var Md=Fa.prototype=
new Ea;Md.brighter=function(c){c=Math.pow(.7,arguments.length?c:1);return new Fa(this.h,this.s,this.l/c)};Md.darker=function(c){c=Math.pow(.7,arguments.length?c:1);return new Fa(this.h,this.s,c*this.l)};Md.rgb=function(){return Sc(this.h,this.s,this.l)};x.hcl=Na;var Nd=Na.prototype=new Ea;Nd.brighter=function(c){return new Na(this.h,this.c,Math.min(100,this.l+Cc*(arguments.length?c:1)))};Nd.darker=function(c){return new Na(this.h,this.c,Math.max(0,this.l-Cc*(arguments.length?c:1)))};Nd.rgb=function(){return Tc(this.h,
this.c,this.l).rgb()};x.lab=Oa;var Cc=18,$d=.95047,ae=1,be=1.08883,Od=Oa.prototype=new Ea;Od.brighter=function(c){return new Oa(Math.min(100,this.l+Cc*(arguments.length?c:1)),this.a,this.b)};Od.darker=function(c){return new Oa(Math.max(0,this.l-Cc*(arguments.length?c:1)),this.a,this.b)};Od.rgb=function(){return Zd(this.l,this.a,this.b)};x.rgb=Ba;var Dc=Ba.prototype=new Ea;Dc.brighter=function(c){c=Math.pow(.7,arguments.length?c:1);var a=this.r,e=this.g,g=this.b;if(!a&&!e&&!g)return new Ba(30,30,30);
a&&30>a&&(a=30);e&&30>e&&(e=30);g&&30>g&&(g=30);return new Ba(Math.min(255,a/c),Math.min(255,e/c),Math.min(255,g/c))};Dc.darker=function(c){c=Math.pow(.7,arguments.length?c:1);return new Ba(c*this.r,c*this.g,c*this.b)};Dc.hsl=function(){return Wd(this.r,this.g,this.b)};Dc.toString=function(){return"#"+tb(this.r)+tb(this.g)+tb(this.b)};var Wb=x.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,
blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,
darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,
lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,
mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,
red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Wb.forEach(function(c,a){Wb.set(c,
new Ba(a>>16,a>>8&255,a&255))});x.functor=ra;x.xhr=Zc(va);x.dsv=function(c,a){function e(c,e,m){3>arguments.length&&(m=e,e=null);var k=Xb(c,a,null==e?g:b(e),m);k.row=function(c){return arguments.length?k.response(null==(e=c)?g:b(c)):e};return k}function g(c){return e.parse(c.responseText)}function b(c){return function(a){return e.parse(a.responseText,c)}}function m(a){return a.map(k).join(c)}function k(c){return f.test(c)?'"'+c.replace(/\"/g,'""')+'"':c}var f=new RegExp('["'+c+"\n]"),l=c.charCodeAt(0);
e.parse=function(c,a){var g;return e.parseRows(c,function(c,e){if(g)return g(c,e-1);var b=new Function("d","return {"+c.map(function(c,a){return JSON.stringify(c)+": d["+a+"]"}).join(",")+"}");g=a?function(c,e){return a(b(c),e)}:b})};e.parseRows=function(c,a){function e(){if(m>=h)return b;if(z)return z=!1,g;var a=m;if(34===c.charCodeAt(a)){for(var p=a;p++<h;)if(34===c.charCodeAt(p)){if(34!==c.charCodeAt(p+1))break;++p}m=p+2;var k=c.charCodeAt(p+1);13===k?(z=!0,10===c.charCodeAt(p+2)&&++m):10===k&&
(z=!0);return c.substring(a+1,p).replace(/""/g,'"')}for(;m<h;){k=c.charCodeAt(m++);p=1;if(10===k)z=!0;else if(13===k)z=!0,10===c.charCodeAt(m)&&(++m,++p);else if(k!==l)continue;return c.substring(a,m-p)}return c.substring(a)}for(var g={},b={},p=[],h=c.length,m=0,k=0,f,z;(f=e())!==b;){for(var t=[];f!==g&&f!==b;)t.push(f),f=e();a&&!(t=a(t,k++))||p.push(t)}return p};e.format=function(a){if(Array.isArray(a[0]))return e.formatRows(a);var g=new q,b=[];a.forEach(function(c){for(var a in c)g.has(a)||b.push(g.add(a))});
return[b.map(k).join(c)].concat(a.map(function(a){return b.map(function(c){return k(a[c])}).join(c)})).join("\n")};e.formatRows=function(c){return c.map(m).join("\n")};return e};x.csv=x.dsv(",","text/csv");x.tsv=x.dsv("\t","text/tab-separated-values");x.touch=function(c,a,e){3>arguments.length&&(e=a,a=S().changedTouches);if(a)for(var g=0,b=a.length,m;g<b;++g)if((m=a[g]).identifier===e)return Y(c,m)};var $b,ac,Zb,Yb,Xa,ee=za[G(za,"requestAnimationFrame")]||function(c){setTimeout(c,17)};x.timer=function(c,
a,e){var g=arguments.length;2>g&&(a=0);3>g&&(e=Date.now());g={c:c,t:e+a,f:!1,n:null};ac?ac.n=g:$b=g;ac=g;Zb||(Yb=clearTimeout(Yb),Zb=1,ee($c))};x.timer.flush=function(){ce();de()};x.round=function(c,a){return a?Math.round(c*(a=Math.pow(10,a)))/a:Math.round(c)};var Zh="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(c,a){var e=Math.pow(10,3*ja(8-a));return{scale:8<a?function(c){return c/e}:function(c){return c*e},symbol:c}});x.formatPrefix=function(c,a){var e=0;c&&(0>c&&(c*=-1),a&&(c=
x.round(c,ad(c,a))),e=1+Math.floor(1E-12+Math.log(c)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3))));return Zh[8+e/3]};var fe=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,og=x.map({b:function(c){return c.toString(2)},c:function(c){return String.fromCharCode(c)},o:function(c){return c.toString(8)},x:function(c){return c.toString(16)},X:function(c){return c.toString(16).toUpperCase()},g:function(c,a){return c.toPrecision(a)},e:function(c,a){return c.toExponential(a)},
f:function(c,a){return c.toFixed(a)},r:function(c,a){return(c=x.round(c,ad(c,a))).toFixed(Math.max(0,Math.min(20,ad(c*(1+1E-15),a))))}}),ca=x.time={},ya=Date;Ya.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},
getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){bb.setUTCDate.apply(this._,arguments)},setDay:function(){bb.setUTCDay.apply(this._,arguments)},setFullYear:function(){bb.setUTCFullYear.apply(this._,arguments)},setHours:function(){bb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){bb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){bb.setUTCMinutes.apply(this._,
arguments)},setMonth:function(){bb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){bb.setUTCSeconds.apply(this._,arguments)},setTime:function(){bb.setTime.apply(this._,arguments)}};var bb=Date.prototype;ca.year=kb(function(c){c=ca.day(c);c.setMonth(0,1);return c},function(c,a){c.setFullYear(c.getFullYear()+a)},function(c){return c.getFullYear()});ca.years=ca.year.range;ca.years.utc=ca.year.utc.range;ca.day=kb(function(c){var a=new ya(2E3,0);a.setFullYear(c.getFullYear(),c.getMonth(),c.getDate());
return a},function(c,a){c.setDate(c.getDate()+a)},function(c){return c.getDate()-1});ca.days=ca.day.range;ca.days.utc=ca.day.utc.range;ca.dayOfYear=function(c){var a=ca.year(c);return Math.floor((c-a-6E4*(c.getTimezoneOffset()-a.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(c,a){a=7-a;var e=ca[c]=kb(function(c){(c=ca.day(c)).setDate(c.getDate()-(c.getDay()+a)%7);return c},function(c,a){c.setDate(c.getDate()+7*Math.floor(a))},function(c){var e=
ca.year(c).getDay();return Math.floor((ca.dayOfYear(c)+(e+a)%7)/7)-(e!==a)});ca[c+"s"]=e.range;ca[c+"s"].utc=e.utc.range;ca[c+"OfYear"]=function(c){var e=ca.year(c).getDay();return Math.floor((ca.dayOfYear(c)+(e+a)%7)/7)}});ca.week=ca.sunday;ca.weeks=ca.sunday.range;ca.weeks.utc=ca.sunday.utc.range;ca.weekOfYear=ca.sundayOfYear;var ge={"-":"",_:" ",0:"0"},ta=/^\s*\d+/,je=/^%/;x.locale=function(c){return{numberFormat:ng(c),timeFormat:qg(c)}};var Xf=x.locale({decimal:".",thousands:",",grouping:[3],
currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});x.format=Xf.numberFormat;x.geo={};bd.prototype={s:0,t:0,add:function(c){ke(c,this.t,Ec);ke(Ec.s,this.s,
this);this.s?this.t+=Ec.t:this.s=Ec.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ec=new bd;x.geo.stream=function(c,a){if(c&&Yf.hasOwnProperty(c.type))Yf[c.type](c,a);else ec(c,a)};var Yf={Feature:function(c,a){ec(c.geometry,a)},FeatureCollection:function(c,a){for(var e=c.features,g=-1,b=e.length;++g<b;)ec(e[g].geometry,a)}},le={Sphere:function(c,a){a.sphere()},Point:function(c,a){c=c.coordinates;a.point(c[0],c[1],c[2])},MultiPoint:function(c,a){for(var e=c.coordinates,
g=-1,b=e.length;++g<b;)c=e[g],a.point(c[0],c[1],c[2])},LineString:function(c,a){cd(c.coordinates,a,0)},MultiLineString:function(c,a){for(var e=c.coordinates,g=-1,b=e.length;++g<b;)cd(e[g],a,0)},Polygon:function(c,a){me(c.coordinates,a)},MultiPolygon:function(c,a){for(var e=c.coordinates,g=-1,b=e.length;++g<b;)me(e[g],a)},GeometryCollection:function(c,a){for(var e=c.geometries,g=-1,b=e.length;++g<b;)ec(e[g],a)}};x.geo.area=function(c){Db=0;x.geo.stream(c,Ga);return Db};var Db,lb=new bd,Ga={sphere:function(){Db+=
4*ia},point:E,lineStart:E,lineEnd:E,polygonStart:function(){lb.reset();Ga.lineStart=Fg},polygonEnd:function(){var c=2*lb;Db+=0>c?4*ia+c:c;Ga.lineStart=Ga.lineEnd=Ga.point=E}};x.geo.bounds=function(){function c(c,a){u.push(v=[y=c,q=c]);a<n&&(n=a);a>r&&(r=a)}function a(e,g){var b=mb([e*ha,g*ha]);if(F){var h=ub(F,b),h=ub([h[1],-h[0],0],h);hc(h);var h=ic(h),p=e-w,m=0<p?1:-1,k=h[0]*sa*m,p=180<ja(p);p^(m*w<k&&k<m*e)?(h=h[1]*sa,h>r&&(r=h)):(k=(k+360)%360-180,p^(m*w<k&&k<m*e))?(h=-h[1]*sa,h<n&&(n=h)):(g<
n&&(n=g),g>r&&(r=g));p?e<w?f(y,e)>f(y,q)&&(q=e):f(e,q)>f(y,q)&&(y=e):q>=y?(e<y&&(y=e),e>q&&(q=e)):e>w?f(y,e)>f(y,q)&&(q=e):f(e,q)>f(y,q)&&(y=e)}else c(e,g);F=b;w=e}function e(){A.point=a}function g(){v[0]=y;v[1]=q;A.point=c;F=null}function b(c,e){if(F){var g=c-w;B+=180<ja(g)?g+(0<g?360:-360):g}else I=c,C=e;Ga.point(c,e);a(c,e)}function m(){Ga.lineStart()}function k(){b(I,C);Ga.lineEnd();1E-6<ja(B)&&(y=-(q=180));v[0]=y;v[1]=q;F=null}function f(c,a){return 0>(a-=c)?a+360:a}function l(c,a){return c[0]-
a[0]}function t(c,a){return a[0]<=a[1]?a[0]<=c&&c<=a[1]:c<a[0]||a[1]<c}var y,n,q,r,w,I,C,F,B,u,v,A={point:c,lineStart:e,lineEnd:g,polygonStart:function(){A.point=b;A.lineStart=m;A.lineEnd=k;B=0;Ga.polygonStart()},polygonEnd:function(){Ga.polygonEnd();A.point=c;A.lineStart=e;A.lineEnd=g;0>lb?(y=-(q=180),n=-(r=90)):1E-6<B?r=90:-1E-6>B&&(n=-90);v[0]=y;v[1]=q}};return function(c){r=q=-(y=n=Infinity);u=[];x.geo.stream(c,A);if(c=u.length){u.sort(l);for(var a=1,e=u[0],g,b=[e];a<c;++a)g=u[a],t(g[0],e)||t(g[1],
e)?(f(e[0],g[1])>f(e[0],e[1])&&(e[1]=g[1]),f(g[0],e[1])>f(e[0],e[1])&&(e[0]=g[0])):b.push(e=g);var h=-Infinity,p;c=b.length-1;a=0;for(e=b[c];a<=c;e=g,++a)g=b[a],(p=f(e[1],g[0]))>h&&(h=p,y=g[0],q=e[1])}u=v=null;return Infinity===y||Infinity===n?[[NaN,NaN],[NaN,NaN]]:[[y,n],[q,r]]}}();x.geo.centroid=function(c){Hb=vb=Za=$a=Sa=Ka=La=Da=db=eb=Ta=0;x.geo.stream(c,Pa);c=db;var a=eb,e=Ta,g=c*c+a*a+e*e;return 1E-12>g&&(c=Ka,a=La,e=Da,1E-6>vb&&(c=Za,a=$a,e=Sa),g=c*c+a*a+e*e,1E-12>g)?[NaN,NaN]:[Math.atan2(a,
c)*sa,ea(e/Math.sqrt(g))*sa]};var Hb,vb,Za,$a,Sa,Ka,La,Da,db,eb,Ta,Pa={sphere:E,point:ed,lineStart:ne,lineEnd:oe,polygonStart:function(){Pa.lineStart=Gg},polygonEnd:function(){Pa.lineStart=ne}},Ee=re(wb,function(c){var a=NaN,e=NaN,g=NaN,b;return{lineStart:function(){c.lineStart();b=1},point:function(m,k){var f=0<m?ia:-ia,l=ja(m-a);if(1E-6>ja(l-ia))c.point(a,e=0<(e+k)/2?wa:-wa),c.point(g,e),c.lineEnd(),c.lineStart(),c.point(f,e),c.point(m,e),b=0;else if(g!==f&&l>=ia){1E-6>ja(a-g)&&(a-=1E-6*g);1E-6>
ja(m-f)&&(m-=1E-6*f);var l=a,t=e,y=m,q,n,r=Math.sin(l-y);e=1E-6<ja(r)?Math.atan((Math.sin(t)*(n=Math.cos(k))*Math.sin(y)-Math.sin(k)*(q=Math.cos(t))*Math.sin(l))/(q*n*r)):(t+k)/2;c.point(g,e);c.lineEnd();c.lineStart();c.point(f,e);b=0}c.point(a=m,e=k);g=f},lineEnd:function(){c.lineEnd();a=e=NaN},clean:function(){return 2-b}}},function(c,a,e,g){null==c?(e*=wa,g.point(-ia,e),g.point(0,e),g.point(ia,e),g.point(ia,0),g.point(ia,-e),g.point(0,-e),g.point(-ia,-e),g.point(-ia,0),g.point(-ia,e)):1E-6<ja(c[0]-
a[0])?(c=c[0]<a[0]?ia:-ia,e=e*c/2,g.point(-c,e),g.point(0,e),g.point(c,e)):g.point(a[0],a[1])},[-ia,-ia/2]);x.geo.clipExtent=function(){var c,a,e,g,b,m,k={stream:function(c){b&&(b.valid=!1);b=m(c);b.valid=!0;return b},extent:function(f){if(!arguments.length)return[[c,a],[e,g]];m=ue(c=+f[0][0],a=+f[0][1],e=+f[1][0],g=+f[1][1]);b&&(b.valid=!1,b=null);return k}};return k.extent([[0,0],[960,500]])};(x.geo.conicEqualArea=function(){return gd(we)}).raw=we;x.geo.albers=function(){return x.geo.conicEqualArea().rotate([96,
0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};x.geo.albersUsa=function(){function c(c){var a=c[0];c=c[1];b=null;(k(a,c),b)||(f(a,c),b)||l(a,c);return b}var a=x.geo.albers(),e=x.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=x.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),b,m={point:function(c,a){b=[c,a]}},k,f,l;c.invert=function(c){var b=a.scale(),h=a.translate(),m=(c[0]-h[0])/b,b=(c[1]-h[1])/b;return(.12<=b&&.234>b&&-.425<=m&&-.214>
m?e:.166<=b&&.234>b&&-.214<=m&&-.115>m?g:a).invert(c)};c.stream=function(c){var b=a.stream(c),h=e.stream(c),m=g.stream(c);return{point:function(c,a){b.point(c,a);h.point(c,a);m.point(c,a)},sphere:function(){b.sphere();h.sphere();m.sphere()},lineStart:function(){b.lineStart();h.lineStart();m.lineStart()},lineEnd:function(){b.lineEnd();h.lineEnd();m.lineEnd()},polygonStart:function(){b.polygonStart();h.polygonStart();m.polygonStart()},polygonEnd:function(){b.polygonEnd();h.polygonEnd();m.polygonEnd()}}};
c.precision=function(b){if(!arguments.length)return a.precision();a.precision(b);e.precision(b);g.precision(b);return c};c.scale=function(b){if(!arguments.length)return a.scale();a.scale(b);e.scale(.35*b);g.scale(b);return c.translate(a.translate())};c.translate=function(b){if(!arguments.length)return a.translate();var h=a.scale(),t=+b[0],y=+b[1];k=a.translate(b).clipExtent([[t-.455*h,y-.238*h],[t+.455*h,y+.238*h]]).stream(m).point;f=e.translate([t-.307*h,y+.201*h]).clipExtent([[t-.425*h+1E-6,y+.12*
h+1E-6],[t-.214*h-1E-6,y+.234*h-1E-6]]).stream(m).point;l=g.translate([t-.205*h,y+.212*h]).clipExtent([[t-.214*h+1E-6,y+.166*h+1E-6],[t-.115*h-1E-6,y+.234*h-1E-6]]).stream(m).point;return c};return c.scale(1070)};var Fc,lc,fb={point:E,lineStart:E,lineEnd:E,polygonStart:function(){lc=0;fb.lineStart=Kg},polygonEnd:function(){fb.lineStart=fb.lineEnd=fb.point=E;Fc+=ja(lc/2)}},Gc,Hc,Ic,Jc,$h={point:function(c,a){c<Gc&&(Gc=c);c>Ic&&(Ic=c);a<Hc&&(Hc=a);a>Jc&&(Jc=a)},lineStart:E,lineEnd:E,polygonStart:E,
polygonEnd:E},Qa={point:nb,lineStart:ye,lineEnd:ze,polygonStart:function(){Qa.lineStart=Mg},polygonEnd:function(){Qa.point=nb;Qa.lineStart=ye;Qa.lineEnd=ze}};x.geo.path=function(){function c(c){c&&("function"===typeof e&&k.pointRadius(+e.apply(this,arguments)),f&&f.valid||(f=m(k)),x.geo.stream(c,f));return k.result()}function a(){f=null;return c}var e=4.5,b,h,m,k,f;c.area=function(c){Fc=0;x.geo.stream(c,m(fb));return Fc};c.centroid=function(c){Za=$a=Sa=Ka=La=Da=db=eb=Ta=0;x.geo.stream(c,m(Qa));return Ta?
[db/Ta,eb/Ta]:Da?[Ka/Da,La/Da]:Sa?[Za/Sa,$a/Sa]:[NaN,NaN]};c.bounds=function(c){Ic=Jc=-(Gc=Hc=Infinity);x.geo.stream(c,m($h));return[[Gc,Hc],[Ic,Jc]]};c.projection=function(c){if(!arguments.length)return b;m=(b=c)?c.stream||Og(c):va;return a()};c.context=function(c){if(!arguments.length)return h;k=null==(h=c)?new Lg:new Ng(c);"function"!==typeof e&&k.pointRadius(e);return a()};c.pointRadius=function(a){if(!arguments.length)return e;e="function"===typeof a?a:(k.pointRadius(+a),+a);return c};return c.projection(x.geo.albersUsa()).context(null)};
x.geo.transform=function(c){return{stream:function(a){a=new De(a);for(var e in c)a[e]=c[e];return a}}};De.prototype={point:function(c,a){this.stream.point(c,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};x.geo.projection=gb;x.geo.projectionMutator=hd;(x.geo.equirectangular=function(){return gb(Ib)}).raw=Ib.invert=
Ib;x.geo.rotation=function(c){function a(e){e=c(e[0]*ha,e[1]*ha);return e[0]*=sa,e[1]*=sa,e}c=id(c[0]%360*ha,c[1]*ha,2<c.length?c[2]*ha:0);a.invert=function(a){a=c.invert(a[0]*ha,a[1]*ha);return a[0]*=sa,a[1]*=sa,a};return a};Fe.invert=Ib;x.geo.circle=function(){function c(){var c="function"===typeof a?a.apply(this,arguments):a,e=id(-c[0]*ha,-c[1]*ha,0).invert,b=[];h(null,null,1,{point:function(c,a){b.push(c=e(c,a));c[0]*=sa;c[1]*=sa}});return{type:"Polygon",coordinates:[b]}}var a=[0,0],e,b=6,h;c.origin=
function(e){if(!arguments.length)return a;a=e;return c};c.angle=function(a){if(!arguments.length)return e;h=fd((e=+a)*ha,b*ha);return c};c.precision=function(a){if(!arguments.length)return b;h=fd(e*ha,(b=+a)*ha);return c};return c.angle(90)};x.geo.distance=function(c,a){var e=(a[0]-c[0])*ha,b=c[1]*ha,h=a[1]*ha,m=Math.sin(e),e=Math.cos(e),k=Math.sin(b),b=Math.cos(b),f=Math.sin(h),h=Math.cos(h),t;return Math.atan2(Math.sqrt((t=h*m)*t+(t=b*f-k*h*e)*t),k*f+b*h*e)};x.geo.graticule=function(){function c(){return{type:"MultiLineString",
coordinates:a()}}function a(){return x.range(Math.ceil(m/n)*n,h,n).map(C).concat(x.range(Math.ceil(l/r)*r,t,r).map(F)).concat(x.range(Math.ceil(b/y)*y,e,y).filter(function(c){return 1E-6<ja(c%n)}).map(w)).concat(x.range(Math.ceil(f/q)*q,k,q).filter(function(c){return 1E-6<ja(c%r)}).map(I))}var e,b,h,m,k,f,t,l,y=10,q=y,n=90,r=360,w,I,C,F,B=2.5;c.lines=function(){return a().map(function(c){return{type:"LineString",coordinates:c}})};c.outline=function(){return{type:"Polygon",coordinates:[C(m).concat(F(t).slice(1),
C(h).reverse().slice(1),F(l).reverse().slice(1))]}};c.extent=function(a){return arguments.length?c.majorExtent(a).minorExtent(a):c.minorExtent()};c.majorExtent=function(a){if(!arguments.length)return[[m,l],[h,t]];m=+a[0][0];h=+a[1][0];l=+a[0][1];t=+a[1][1];m>h&&(a=m,m=h,h=a);l>t&&(a=l,l=t,t=a);return c.precision(B)};c.minorExtent=function(a){if(!arguments.length)return[[b,f],[e,k]];b=+a[0][0];e=+a[1][0];f=+a[0][1];k=+a[1][1];b>e&&(a=b,b=e,e=a);f>k&&(a=f,f=k,k=a);return c.precision(B)};c.step=function(a){return arguments.length?
c.majorStep(a).minorStep(a):c.minorStep()};c.majorStep=function(a){if(!arguments.length)return[n,r];n=+a[0];r=+a[1];return c};c.minorStep=function(a){if(!arguments.length)return[y,q];y=+a[0];q=+a[1];return c};c.precision=function(a){if(!arguments.length)return B;B=+a;w=Ke(f,k,90);I=Le(b,e,B);C=Ke(l,t,90);F=Le(m,h,B);return c};return c.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,-80.000001],[180,80.000001]])};x.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[e||
b.apply(this,arguments),h||g.apply(this,arguments)]}}var b=jd,e,g=kd,h;a.distance=function(){return x.geo.distance(e||b.apply(this,arguments),h||g.apply(this,arguments))};a.source=function(g){if(!arguments.length)return b;b=g;e="function"===typeof g?null:g;return a};a.target=function(e){if(!arguments.length)return g;g=e;h="function"===typeof e?null:e;return a};a.precision=function(){return arguments.length?a:0};return a};x.geo.interpolate=function(a,b){return Pg(a[0]*ha,a[1]*ha,b[0]*ha,b[1]*ha)};
x.geo.length=function(a){Kc=0;x.geo.stream(a,Eb);return Kc};var Kc,Eb={sphere:E,point:E,lineStart:function(){function a(c,m){var k=Math.sin(m*=ha),f=Math.cos(m),t=ja((c*=ha)-b),l=Math.cos(t);Kc+=Math.atan2(Math.sqrt((t=f*Math.sin(t))*t+(t=g*k-e*f*l)*t),e*k+g*f*l);b=c;e=k;g=f}var b,e,g;Eb.point=function(h,m){b=h*ha;e=Math.sin(m*=ha);g=Math.cos(m);Eb.point=a};Eb.lineEnd=function(){Eb.point=Eb.lineEnd=E}},lineEnd:E,polygonStart:E,polygonEnd:E},Zf=Jb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*
Math.asin(a/2)});(x.geo.azimuthalEqualArea=function(){return gb(Zf)}).raw=Zf;var $f=Jb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},va);(x.geo.azimuthalEquidistant=function(){return gb($f)}).raw=$f;(x.geo.conicConformal=function(){return gd(Me)}).raw=Me;(x.geo.conicEquidistant=function(){return gd(Ne)}).raw=Ne;var ag=Jb(function(a){return 1/a},Math.atan);(x.geo.gnomonic=function(){return gb(ag)}).raw=ag;mc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-wa]};(x.geo.mercator=function(){return Oe(mc)}).raw=
mc;var bg=Jb(function(){return 1},Math.asin);(x.geo.orthographic=function(){return gb(bg)}).raw=bg;var cg=Jb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(x.geo.stereographic=function(){return gb(cg)}).raw=cg;ld.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-wa]};(x.geo.transverseMercator=function(){var a=Oe(ld),b=a.center,e=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[-a[1],a[0]])};a.rotate=function(a){return a?e([a[0],a[1],2<a.length?a[2]+90:90]):(a=
e(),[a[0],a[1],a[2]-90])};return a.rotate([0,0])}).raw=ld;x.geom={};x.geom.hull=function(a){function b(a){if(3>a.length)return[];var c=ra(e),p=ra(g),k,f=a.length,t=[],l=[];for(k=0;k<f;k++)t.push([+c.call(this,a[k],k),+p.call(this,a[k],k),k]);t.sort(Qg);for(k=0;k<f;k++)l.push([t[k][0],-t[k][1]]);var c=Pe(t),l=Pe(l),p=l[0]===c[0],f=l[l.length-1]===c[c.length-1],y=[];for(k=c.length-1;0<=k;--k)y.push(a[t[c[k]][2]]);for(k=+p;k<l.length-f;++k)y.push(a[t[l[k]][2]]);return y}var e=xb,g=Kb;if(arguments.length)return b(a);
b.x=function(a){return arguments.length?(e=a,b):e};b.y=function(a){return arguments.length?(g=a,b):g};return b};x.geom.polygon=function(a){Ub(a,Lc);return a};var Lc=x.geom.polygon.prototype=[];Lc.area=function(){for(var a=-1,b=this.length,e,g=this[b-1],h=0;++a<b;)e=g,g=this[a],h+=e[1]*g[0]-e[0]*g[1];return.5*h};Lc.centroid=function(a){var b=-1,e=this.length,g=0,h=0,m,k=this[e-1],f;for(arguments.length||(a=-1/(6*this.area()));++b<e;)m=k,k=this[b],f=m[0]*k[1]-k[0]*m[1],g+=(m[0]+k[0])*f,h+=(m[1]+k[1])*
f;return[g*a,h*a]};Lc.clip=function(a){for(var b,e=Re(a),g=-1,h=this.length-Re(this),m,k,f=this[h-1],t,l,y;++g<h;){b=a.slice();a.length=0;t=this[g];l=b[(k=b.length-e)-1];for(m=-1;++m<k;)y=b[m],md(y,f,t)?(md(l,f,t)||a.push(Qe(l,y,f,t)),a.push(y)):md(l,f,t)&&a.push(Qe(l,y,f,t)),l=y;e&&a.push(a[0]);f=t}return a};var Bb,ob,zb,Te=[],od,Lb,Xe=[];Ve.prototype.prepare=function(){for(var a=this.edges,b=a.length,e;b--;)e=a[b].edge,e.b&&e.a||a.splice(b,1);a.sort(We);return a.length};pc.prototype={start:function(){return this.edge.l===
this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};pd.prototype={insert:function(a,b){var e,g,h;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;e=a}else this._?(a=Ze(this._),b.P=null,b.N=a,a.P=a.L=b,e=a):(b.P=b.N=null,this._=b,e=null);b.L=b.R=null;b.U=e;b.C=!0;for(a=b;e&&e.C;)g=e.U,e===g.L?(h=g.R)&&h.C?(e.C=h.C=!1,g.C=!0,a=g):(a===e.R&&(Nb(this,e),a=e,e=a.U),e.C=!1,g.C=!0,Ob(this,g)):(h=g.L)&&h.C?(e.C=h.C=!1,
g.C=!0,a=g):(a===e.L&&(Ob(this,e),a=e,e=a.U),e.C=!1,g.C=!0,Nb(this,g)),e=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b=a.U,e=a.L,g=a.R,h,m;h=e?g?Ze(g):e:g;b?b.L===a?b.L=h:b.R=h:this._=h;e&&g?(m=h.C,h.C=a.C,h.L=e,e.U=h,h!==g?(b=h.U,h.U=a.U,a=h.R,b.L=a,h.R=g,g.U=h):(h.U=b,b=h,a=h.R)):(m=a.C,a=h);a&&(a.U=b);if(!m)if(a&&a.C)a.C=!1;else{do{if(a===this._)break;if(a===b.L){if(a=b.R,a.C&&(a.C=!1,b.C=!0,Nb(this,b),a=b.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=
!1,a.C=!0,Ob(this,a),a=b.R);a.C=b.C;b.C=a.R.C=!1;Nb(this,b);a=this._;break}}else if(a=b.L,a.C&&(a.C=!1,b.C=!0,Ob(this,b),a=b.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,Nb(this,a),a=b.L);a.C=b.C;b.C=a.L.C=!1;Ob(this,b);a=this._;break}a.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=!1)}}};x.geom.voronoi=function(a){function b(a){var c=Array(a.length),g=f[0][0],h=f[0][1],m=f[1][0],k=f[1][1];qd(e(a),f).cells.forEach(function(e,b){var p=e.edges,f=e.site;(c[b]=p.length?p.map(function(a){a=a.start();return[a.x,
a.y]}):f.x>=g&&f.x<=m&&f.y>=h&&f.y<=k?[[g,k],[m,k],[m,h],[g,h]]:[]).point=a[b]});return c}function e(a){return a.map(function(a,c){return{x:1E-6*Math.round(m(a,c)/1E-6),y:1E-6*Math.round(k(a,c)/1E-6),i:c}})}var g=xb,h=Kb,m=g,k=h,f=Mc;if(a)return b(a);b.links=function(a){return qd(e(a)).edges.filter(function(a){return a.l&&a.r}).map(function(c){return{source:a[c.l.i],target:a[c.r.i]}})};b.triangles=function(a){var c=[];qd(e(a)).cells.forEach(function(e,b){for(var g=e.site,h=e.edges.sort(We),m=-1,k=
h.length,p,f=h[k-1].edge,f=f.l===g?f.r:f.l;++m<k;)p=f,f=h[m].edge,f=f.l===g?f.r:f.l,b<p.i&&b<f.i&&0>(g.x-f.x)*(p.y-g.y)-(g.x-p.x)*(f.y-g.y)&&c.push([a[b],a[p.i],a[f.i]])});return c};b.x=function(a){return arguments.length?(m=ra(g=a),b):g};b.y=function(a){return arguments.length?(k=ra(h=a),b):h};b.clipExtent=function(a){if(!arguments.length)return f===Mc?null:f;f=null==a?Mc:a;return b};b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):f===Mc?null:f&&f[1]};return b};var Mc=[[-1E6,
-1E6],[1E6,1E6]];x.geom.delaunay=function(a){return x.geom.voronoi().triangles(a)};x.geom.quadtree=function(a,b,e,g,h){function m(a){function c(a,e,b,g,h,k,p,f){if(!isNaN(b)&&!isNaN(g))if(a.leaf){var l=a.x,t=a.y;if(null!=l){if(!(.01>ja(l-b)+ja(t-g))){var y=a.point;a.x=a.y=a.point=null;m(a,y,l,t,h,k,p,f)}m(a,e,b,g,h,k,p,f)}else a.x=b,a.y=g,a.point=e}else m(a,e,b,g,h,k,p,f)}function m(a,e,b,g,h,k,p,f){var l=.5*(h+p),t=.5*(k+f),y=b>=l,z=g>=t,n=(z<<1)+y;a.leaf=!1;a=a.nodes[n]||(a.nodes[n]=$e());y?h=l:
p=l;z?k=t:f=t;c(a,e,b,g,h,k,p,f)}var l,y=ra(k),q=ra(f),n,r,w,I,C,F,B,u;if(null!=b)C=b,F=e,B=g,u=h;else if(B=u=-(C=F=Infinity),n=[],r=[],I=a.length,t)for(w=0;w<I;++w)l=a[w],l.x<C&&(C=l.x),l.y<F&&(F=l.y),l.x>B&&(B=l.x),l.y>u&&(u=l.y),n.push(l.x),r.push(l.y);else for(w=0;w<I;++w){var x=+y(l=a[w],w);l=+q(l,w);x<C&&(C=x);l<F&&(F=l);x>B&&(B=x);l>u&&(u=l);n.push(x);r.push(l)}x=B-C;l=u-F;x>l?u=F+x:B=C+l;var v=$e();v.add=function(a){c(v,a,+y(a,++w),+q(a,w),C,F,B,u)};v.visit=function(a){Pb(a,v,C,F,B,u)};w=
-1;if(null==b){for(;++w<I;)c(v,a[w],n[w],r[w],C,F,B,u);--w}else a.forEach(v.add);n=r=a=l=null;return v}var k=xb,f=Kb,t;if(t=arguments.length)return k=Wg,f=Xg,3===t&&(h=e,g=b,e=b=0),m(a);m.x=function(a){return arguments.length?(k=a,m):k};m.y=function(a){return arguments.length?(f=a,m):f};m.extent=function(a){if(!arguments.length)return null==b?null:[[b,e],[g,h]];null==a?b=e=g=h=null:(b=+a[0][0],e=+a[0][1],g=+a[1][0],h=+a[1][1]);return m};m.size=function(a){if(!arguments.length)return null==b?null:
[g-b,h-e];null==a?b=e=g=h=null:(b=e=0,g=+a[0],h=+a[1]);return m};return m};x.interpolateRgb=rd;x.interpolateObject=af;x.interpolateNumber=ab;x.interpolateString=bf;var sd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,td=new RegExp(sd.source,"g");x.interpolate=pb;x.interpolators=[function(a,b){var e=typeof b;return("string"===e?Wb.has(b)||/^(#|rgb\(|hsl\()/.test(b)?rd:bf:b instanceof Ea?rd:Array.isArray(b)?qc:"object"===e&&isNaN(b)?af:ab)(a,b)}];x.interpolateArray=qc;var dg=function(){return va},ai=
x.map({linear:dg,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return Zg},cubic:function(){return $g},sin:function(){return bh},exp:function(){return ch},circle:function(){return dh},elastic:function(a,b){var e;2>arguments.length&&(b=.45);arguments.length?e=b/Ha*Math.asin(1/a):(a=1,e=b/4);return function(g){return 1+a*Math.pow(2,-10*g)*Math.sin((g-e)*Ha/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return eh}}),bi=x.map({"in":va,
out:cf,"in-out":df,"out-in":function(a){return df(cf(a))}});x.ease=function(a){var b=a.indexOf("-"),e=0<=b?a.substring(0,b):a,b=0<=b?a.substring(b+1):"in",e=ai.get(e)||dg,b=bi.get(b)||va;return Yg(b(e.apply(null,Rf.call(arguments,1))))};x.interpolateHcl=function(a,b){a=x.hcl(a);b=x.hcl(b);var e=a.h,g=a.c,h=a.l,m=b.h-e,k=b.c-g,f=b.l-h;isNaN(k)&&(k=0,g=isNaN(g)?b.c:g);isNaN(m)?(m=0,e=isNaN(e)?b.h:e):180<m?m-=360:-180>m&&(m+=360);return function(a){return Tc(e+m*a,g+k*a,h+f*a)+""}};x.interpolateHsl=
function(a,b){a=x.hsl(a);b=x.hsl(b);var e=a.h,g=a.s,h=a.l,m=b.h-e,k=b.s-g,f=b.l-h;isNaN(k)&&(k=0,g=isNaN(g)?b.s:g);isNaN(m)?(m=0,e=isNaN(e)?b.h:e):180<m?m-=360:-180>m&&(m+=360);return function(a){return Sc(e+m*a,g+k*a,h+f*a)+""}};x.interpolateLab=function(a,b){a=x.lab(a);b=x.lab(b);var e=a.l,g=a.a,h=a.b,m=b.l-e,k=b.a-g,f=b.b-h;return function(a){return Zd(e+m*a,g+k*a,h+f*a)+""}};x.interpolateRound=ef;x.transform=function(a){var b=Ra.createElementNS(x.ns.prefix.svg,"g");return(x.transform=function(a){if(null!=
a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new ff(c?c.matrix:ci)})(a)};ff.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ci={a:1,b:0,c:0,d:1,e:0,f:0};x.interpolateTransform=hf;x.layout={};x.layout.bundle=function(){return function(a){for(var b=[],e=-1,g=a.length;++e<g;)b.push(hh(a[e]));return b}};x.layout.chord=function(){function a(){var c={},e=[],n=x.range(k),q=[],r,w,I,
C,F;g=[];h=[];r=0;for(C=-1;++C<k;){w=0;for(F=-1;++F<k;)w+=m[C][F];e.push(w);q.push(x.range(k));r+=w}l&&n.sort(function(a,c){return l(e[a],e[c])});t&&q.forEach(function(a,c){a.sort(function(a,e){return t(m[c][a],m[c][e])})});r=(Ha-f*k)/r;w=0;for(C=-1;++C<k;){I=w;for(F=-1;++F<k;){var B=n[C],u=q[B][F],v=m[B][u],A=w,R=w+=v*r;c[B+"-"+u]={index:B,subindex:u,startAngle:A,endAngle:R,value:v}}h[B]={index:B,startAngle:I,endAngle:w,value:(w-I)/r};w+=f}for(C=-1;++C<k;)for(F=C-1;++F<k;)n=c[C+"-"+F],q=c[F+"-"+
C],(n.value||q.value)&&g.push(n.value<q.value?{source:q,target:n}:{source:n,target:q});y&&b()}function b(){g.sort(function(a,c){return y((a.source.value+a.target.value)/2,(c.source.value+c.target.value)/2)})}var e={},g,h,m,k,f=0,l,t,y;e.matrix=function(a){if(!arguments.length)return m;k=(m=a)&&m.length;g=h=null;return e};e.padding=function(a){if(!arguments.length)return f;f=a;g=h=null;return e};e.sortGroups=function(a){if(!arguments.length)return l;l=a;g=h=null;return e};e.sortSubgroups=function(a){if(!arguments.length)return t;
t=a;g=null;return e};e.sortChords=function(a){if(!arguments.length)return y;y=a;g&&b();return e};e.chords=function(){g||a();return g};e.groups=function(){h||a();return h};return e};x.layout.force=function(){function a(c){return function(a,e,b,g){if(a.point!==c){b=a.cx-c.x;var h=a.cy-c.y;e=g-e;g=b*b+h*h;if(e*e/w<g)return g<n&&(e=a.charge/g,c.px-=b*e,c.py-=h*e),!0;a.point&&g&&g<n&&(e=a.pointCharge/g,c.px-=b*e,c.py-=h*e)}return!a.charge}}function b(a){a.px=x.event.x;a.py=x.event.y;e.resume()}var e={},
g=x.dispatch("start","tick","end"),h=[1,1],m,k,f=.9,l=di,t=ei,y=-30,n=fi,q=.1,w=.64,r=[],C=[],I,F,B;e.tick=function(){if(.005>(k*=.99))return g.end({type:"end",alpha:k=0}),!0;var e=r.length,b=C.length,m,p,l,t,n,w,u;for(m=0;m<b;++m)if(p=C[m],l=p.source,t=p.target,w=t.x-l.x,u=t.y-l.y,n=w*w+u*u)n=k*F[m]*((n=Math.sqrt(n))-I[m])/n,w*=n,u*=n,t.x-=w*(n=l.weight/(t.weight+l.weight)),t.y-=u*n,l.x+=w*(n=1-n),l.y+=u*n;if(n=k*q)if(w=h[0]/2,u=h[1]/2,m=-1,n)for(;++m<e;)p=r[m],p.x+=(w-p.x)*n,p.y+=(u-p.y)*n;if(y)for(kf(b=
x.geom.quadtree(r),k,B),m=-1;++m<e;)(p=r[m]).fixed||b.visit(a(p));for(m=-1;++m<e;)p=r[m],p.fixed?(p.x=p.px,p.y=p.py):(p.x-=(p.px-(p.px=p.x))*f,p.y-=(p.py-(p.py=p.y))*f);g.tick({type:"tick",alpha:k})};e.nodes=function(a){if(!arguments.length)return r;r=a;return e};e.links=function(a){if(!arguments.length)return C;C=a;return e};e.size=function(a){if(!arguments.length)return h;h=a;return e};e.linkDistance=function(a){if(!arguments.length)return l;l="function"===typeof a?a:+a;return e};e.distance=e.linkDistance;
e.linkStrength=function(a){if(!arguments.length)return t;t="function"===typeof a?a:+a;return e};e.friction=function(a){if(!arguments.length)return f;f=+a;return e};e.charge=function(a){if(!arguments.length)return y;y="function"===typeof a?a:+a;return e};e.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(n);n=a*a;return e};e.gravity=function(a){if(!arguments.length)return q;q=+a;return e};e.theta=function(a){if(!arguments.length)return Math.sqrt(w);w=a*a;return e};e.alpha=function(a){if(!arguments.length)return k;
a=+a;k?k=0<a?a:0:0<a&&(g.start({type:"start",alpha:k=a}),x.timer(e.tick));return e};e.start=function(){function a(e,g){if(!p){p=Array(b);for(m=0;m<b;++m)p[m]=[];for(m=0;m<k;++m){var h=C[m];p[h.source.index].push(h.target);p[h.target.index].push(h.source)}}for(var h=p[c],m=-1,k=h.length,f;++m<k;)if(!isNaN(f=h[m][e]))return f;return Math.random()*g}var c,b=r.length,g=C.length,m=h[0],k=h[1],p,f;for(c=0;c<b;++c)(f=r[c]).index=c,f.weight=0;for(c=0;c<g;++c)f=C[c],"number"==typeof f.source&&(f.source=r[f.source]),
"number"==typeof f.target&&(f.target=r[f.target]),++f.source.weight,++f.target.weight;for(c=0;c<b;++c)f=r[c],isNaN(f.x)&&(f.x=a("x",m)),isNaN(f.y)&&(f.y=a("y",k)),isNaN(f.px)&&(f.px=f.x),isNaN(f.py)&&(f.py=f.y);I=[];if("function"===typeof l)for(c=0;c<g;++c)I[c]=+l.call(this,C[c],c);else for(c=0;c<g;++c)I[c]=l;F=[];if("function"===typeof t)for(c=0;c<g;++c)F[c]=+t.call(this,C[c],c);else for(c=0;c<g;++c)F[c]=t;B=[];if("function"===typeof y)for(c=0;c<b;++c)B[c]=+y.call(this,r[c],c);else for(c=0;c<b;++c)B[c]=
y;return e.resume()};e.resume=function(){return e.alpha(.1)};e.stop=function(){return e.alpha(0)};e.drag=function(){m||(m=x.behavior.drag().origin(va).on("dragstart.force",ih).on("drag.force",b).on("dragend.force",jh));if(!arguments.length)return m;this.on("mouseover.force",kh).on("mouseout.force",lh).call(m)};return x.rebind(e,g,"on")};var di=20,ei=1,fi=Infinity;x.layout.hierarchy=function(){function a(h){var m=[h],k=[],f;for(h.depth=0;null!=(f=m.pop());)if(k.push(f),(t=e.call(a,f,f.depth))&&(l=
t.length)){for(var l,t,y;0<=--l;)m.push(y=t[l]),y.parent=f,y.depth=f.depth+1;g&&(f.value=0);f.children=t}else g&&(f.value=+g.call(a,f,f.depth)||0),delete f.children;Ua(h,function(a){var c,e;b&&(c=a.children)&&c.sort(b);g&&(e=a.parent)&&(e.value+=a.value)});return k}var b=ph,e=nh,g=oh;a.sort=function(e){if(!arguments.length)return b;b=e;return a};a.children=function(b){if(!arguments.length)return e;e=b;return a};a.value=function(e){if(!arguments.length)return g;g=e;return a};a.revalue=function(e){g&&
(Rb(e,function(a){a.children&&(a.value=0)}),Ua(e,function(e){var b;e.children||(e.value=+g.call(a,e,e.depth)||0);if(b=e.parent)b.value+=e.value}));return e};return a};x.layout.partition=function(){function a(e,b,g,h){var k=e.children;e.x=b;e.y=e.depth*h;e.dx=g;e.dy=h;if(k&&(f=k.length)){var p=-1,f,l;for(g=e.value?g/e.value:0;++p<f;)a(l=k[p],b,e=l.value*g,h),b+=e}}function b(a){a=a.children;var c=0;if(a&&(g=a.length))for(var e=-1,g;++e<g;)c=Math.max(c,b(a[e]));return 1+c}function e(e,k){var f=g.call(this,
e,k);a(f[0],0,h[0],h[1]/b(f[0]));return f}var g=x.layout.hierarchy(),h=[1,1];e.size=function(a){if(!arguments.length)return h;h=a;return e};return Qb(e,g)};x.layout.pie=function(){function a(m){var k=m.map(function(e,g){return+b.call(a,e,g)}),f=+("function"===typeof g?g.apply(this,arguments):g),l=(("function"===typeof h?h.apply(this,arguments):h)-f)/x.sum(k),t=x.range(m.length);null!=e&&t.sort(e===eg?function(a,c){return k[c]-k[a]}:function(a,c){return e(m[a],m[c])});var y=[];t.forEach(function(a){var c;
y[a]={data:m[a],value:c=k[a],startAngle:f,endAngle:f+=c*l}});return y}var b=Number,e=eg,g=0,h=Ha;a.value=function(e){if(!arguments.length)return b;b=e;return a};a.sort=function(b){if(!arguments.length)return e;e=b;return a};a.startAngle=function(e){if(!arguments.length)return g;g=e;return a};a.endAngle=function(e){if(!arguments.length)return h;h=e;return a};return a};var eg={};x.layout.stack=function(){function a(l,t){var y=l.map(function(e,g){return b.call(a,e,g)}),n=y.map(function(e){return e.map(function(e,
b){return[k.call(a,e,b),f.call(a,e,b)]})}),q=e.call(a,n,t),y=x.permute(y,q),n=x.permute(n,q),q=g.call(a,n,t),w=y.length,r=y[0].length,C,I,F;for(I=0;I<r;++I)for(h.call(a,y[0][I],F=q[I],n[0][I][1]),C=1;C<w;++C)h.call(a,y[C][I],F+=n[C-1][I][1],n[C][I][1]);return l}var b=va,e=ud,g=vd,h=sh,k=qh,f=rh;a.values=function(e){if(!arguments.length)return b;b=e;return a};a.order=function(b){if(!arguments.length)return e;e="function"===typeof b?b:gi.get(b)||ud;return a};a.offset=function(e){if(!arguments.length)return g;
g="function"===typeof e?e:hi.get(e)||vd;return a};a.x=function(e){if(!arguments.length)return k;k=e;return a};a.y=function(e){if(!arguments.length)return f;f=e;return a};a.out=function(e){if(!arguments.length)return h;h=e;return a};return a};var gi=x.map({"inside-out":function(a){var b=a.length,e,g=a.map(th),h=a.map(uh),k=x.range(b).sort(function(a,c){return g[a]-g[c]}),f=0,l=0,t=[],y=[];for(a=0;a<b;++a)e=k[a],f<l?(f+=h[e],t.push(e)):(l+=h[e],y.push(e));return y.reverse().concat(t)},reverse:function(a){return x.range(a.length).reverse()},
"default":ud}),hi=x.map({silhouette:function(a){var b=a.length,e=a[0].length,g=[],h=0,k,f,l,t=[];for(f=0;f<e;++f){for(l=k=0;k<b;k++)l+=a[k][f][1];l>h&&(h=l);g.push(l)}for(f=0;f<e;++f)t[f]=(h-g[f])/2;return t},wiggle:function(a){var b=a.length,e=a[0],g=e.length,h,k,f,l,t,y,n,q,w,r=[];r[0]=q=w=0;for(k=1;k<g;++k){for(l=h=0;h<b;++h)l+=a[h][k][1];t=h=0;for(n=e[k][0]-e[k-1][0];h<b;++h){f=0;for(y=(a[h][k][1]-a[h][k-1][1])/(2*n);f<h;++f)y+=(a[f][k][1]-a[f][k-1][1])/n;t+=y*a[h][k][1]}r[k]=q-=l?t/l*n:0;q<w&&
(w=q)}for(k=0;k<g;++k)r[k]-=w;return r},expand:function(a){var b=a.length,e=a[0].length,g=1/b,h,k,f,l=[];for(k=0;k<e;++k){for(f=h=0;h<b;h++)f+=a[h][k][1];if(f)for(h=0;h<b;h++)a[h][k][1]/=f;else for(h=0;h<b;h++)a[h][k][1]=g}for(k=0;k<e;++k)l[k]=0;return l},zero:vd});x.layout.histogram=function(){function a(c,k){var f=[],l=c.map(e,this),t=g.call(this,l,k),y=h.call(this,t,l,k),n;k=-1;for(var q=l.length,w=y.length-1,r=b?1:1/q;++k<w;)n=f[k]=[],n.dx=y[k+1]-(n.x=y[k]),n.y=0;if(0<w)for(k=-1;++k<q;)n=l[k],
n>=t[0]&&n<=t[1]&&(n=f[x.bisect(y,n,1,w)-1],n.y+=r,n.push(c[k]));return f}var b=!0,e=Number,g=xh,h=wh;a.value=function(b){if(!arguments.length)return e;e=b;return a};a.range=function(e){if(!arguments.length)return g;g=ra(e);return a};a.bins=function(e){if(!arguments.length)return h;h="number"===typeof e?function(a){return lf(a,e)}:ra(e);return a};a.frequency=function(e){if(!arguments.length)return b;b=!!e;return a};return a};x.layout.pack=function(){function a(c,k){var f=b.call(this,c,k),l=f[0],t=
g[0],y=g[1],n=null==h?Math.sqrt:"function"===typeof h?h:function(){return h};l.x=l.y=0;Ua(l,function(a){a.r=+n(a.value)});Ua(l,of);if(e){var q=e*(h?1:Math.max(2*l.r/t,2*l.r/y))/2;Ua(l,function(a){a.r+=q});Ua(l,of);Ua(l,function(a){a.r-=q})}qf(l,t/2,y/2,h?1:1/Math.max(2*l.r/t,2*l.r/y));return f}var b=x.layout.hierarchy().sort(yh),e=0,g=[1,1],h;a.size=function(e){if(!arguments.length)return g;g=e;return a};a.radius=function(e){if(!arguments.length)return h;h=null==e||"function"===typeof e?e:+e;return a};
a.padding=function(b){if(!arguments.length)return e;e=+b;return a};return Qb(a,b)};x.layout.tree=function(){function a(c,y){var n=k.call(this,c,y),q=n[0],w=b(q);Ua(w,e);w.parent.m=-w.z;Rb(w,g);if(t)Rb(q,h);else{var r=q,C=q,I=q;Rb(q,function(a){a.x<r.x&&(r=a);a.x>C.x&&(C=a);a.depth>I.depth&&(I=a)});var F=f(r,C)/2-r.x,B=l[0]/(C.x+f(C,r)/2+F),u=l[1]/(I.depth||1);Rb(q,function(a){a.x=(a.x+F)*B;a.y=a.depth*u})}return n}function b(a){a={A:null,children:[a]};for(var c=[a],e;null!=(e=c.pop());)for(var g=
e.children,h,k=0,m=g.length;k<m;++k)c.push((g[k]=h={_:g[k],parent:e,children:(h=g[k].children)&&h.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:k}).a=h);return a.children[0]}function e(a){var c=a.children,e=a.parent.children,b=a.i?e[a.i-1]:null;if(c.length){for(var g=0,h=0,k=a.children,m=k.length,p;0<=--m;)p=k[m],p.z+=g,p.m+=g,g+=p.s+(h+=p.c);c=(c[0].z+c[c.length-1].z)/2;b?(a.z=b.z+f(a._,b._),a.m=a.z-c):a.z=c}else b&&(a.z=b.z+f(a._,b._));c=a.parent;e=a.parent.A||e[0];if(b){h=g=a;k=g.parent.children[0];
m=g.m;p=h.m;for(var l=b.m,t=k.m,y;b=yd(b),g=xd(g),b&&g;){k=xd(k);h=yd(h);h.a=a;y=b.z+l-g.z-m+f(b._,g._);if(0<y){var n=b.a.parent===a.parent?b.a:e,q=a,w=y,r=w/(q.i-n.i);q.c-=r;q.s+=w;n.c+=r;q.z+=w;q.m+=w;m+=y;p+=y}l+=b.m;m+=g.m;t+=k.m;p+=h.m}b&&!yd(h)&&(h.t=b,h.m+=l-p);g&&!xd(k)&&(k.t=g,k.m+=m-t,e=a)}c.A=e}function g(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function h(a){a.x*=l[0];a.y=a.depth*l[1]}var k=x.layout.hierarchy().sort(null).value(null),f=rf,l=[1,1],t=null;a.separation=function(e){if(!arguments.length)return f;
f=e;return a};a.size=function(e){if(!arguments.length)return t?null:l;t=null==(l=e)?h:null;return a};a.nodeSize=function(e){if(!arguments.length)return t?l:null;t=null==(l=e)?null:h;return a};return Qb(a,k)};x.layout.cluster=function(){function a(c,k){var f=b.call(this,c,k),l=f[0],t,y=0;Ua(l,function(a){var c=a.children;c&&c.length?(a.x=Ch(c),a.y=Bh(c)):(a.x=t?y+=e(a,t):0,a.y=0,t=a)});var n=sf(l),q=tf(l),w=n.x-e(n,q)/2,r=q.x+e(q,n)/2;Ua(l,h?function(a){a.x=(a.x-l.x)*g[0];a.y=(l.y-a.y)*g[1]}:function(a){a.x=
(a.x-w)/(r-w)*g[0];a.y=(1-(l.y?a.y/l.y:1))*g[1]});return f}var b=x.layout.hierarchy().sort(null).value(null),e=rf,g=[1,1],h=!1;a.separation=function(b){if(!arguments.length)return e;e=b;return a};a.size=function(e){if(!arguments.length)return h?null:g;h=null==(g=e);return a};a.nodeSize=function(e){if(!arguments.length)return h?g:null;h=null!=(g=e);return a};return Qb(a,b)};x.layout.treemap=function(){function a(c,e){for(var b=-1,g=c.length,h,k;++b<g;)k=(h=c[b]).value*(0>e?0:e),h.area=isNaN(k)||0>=
k?0:k}function b(e){var h=e.children;if(h&&h.length){var k=y(e),f=[],m=h.slice(),l=Infinity,t,n="slice"===w?k.dx:"dice"===w?k.dy:"slice-dice"===w?e.depth&1?k.dy:k.dx:Math.min(k.dx,k.dy);a(m,k.dx*k.dy/e.value);for(f.area=0;0<(e=m.length);){f.push(e=m[e-1]);f.area+=e.area;if(!(e="squarify"!==w)){t=n;e=f.area;for(var q=void 0,C=0,I=Infinity,F=-1,z=f.length;++F<z;)if(q=f[F].area)q<I&&(I=q),q>C&&(C=q);e*=e;t*=t;e=(t=e?Math.max(t*C*r/e,e/(t*I*r)):Infinity)<=l}e?(m.pop(),l=t):(f.area-=f.pop().area,g(f,n,
k,!1),n=Math.min(k.dx,k.dy),f.length=f.area=0,l=Infinity)}f.length&&(g(f,n,k,!0),f.length=f.area=0);h.forEach(b)}}function e(b){var h=b.children;if(h&&h.length){var k=y(b),f=h.slice(),m=[];a(f,k.dx*k.dy/b.value);for(m.area=0;b=f.pop();)m.push(b),m.area+=b.area,null!=b.z&&(g(m,b.z?k.dx:k.dy,k,!f.length),m.length=m.area=0);h.forEach(e)}}function g(a,c,e,b){var g=-1,h=a.length,k=e.x,m=e.y,p=c?f(a.area/c):0,l;if(c==e.dx){if(b||p>e.dy)p=e.dy;for(;++g<h;)l=a[g],l.x=k,l.y=m,l.dy=p,k+=l.dx=Math.min(e.x+e.dx-
k,p?f(l.area/p):0);l.z=!0;l.dx+=e.x+e.dx-k;e.y+=p;e.dy-=p}else{if(b||p>e.dx)p=e.dx;for(;++g<h;)l=a[g],l.x=k,l.y=m,l.dx=p,m+=l.dy=Math.min(e.y+e.dy-m,p?f(l.area/p):0);l.z=!1;l.dy+=e.y+e.dy-m;e.x+=p;e.dx-=p}}function h(g){g=q||k(g);var h=g[0];h.x=0;h.y=0;h.dx=l[0];h.dy=l[1];q&&k.revalue(h);a([h],h.dx*h.dy/h.value);(q?e:b)(h);n&&(q=g);return g}var k=x.layout.hierarchy(),f=Math.round,l=[1,1],t=null,y=zd,n=!1,q,w="squarify",r=.5*(1+Math.sqrt(5));h.size=function(a){if(!arguments.length)return l;l=a;return h};
h.padding=function(a){function c(e){var b=a.call(h,e,e.depth);return null==b?zd(e):uf(e,"number"===typeof b?[b,b,b,b]:b)}function e(c){return uf(c,a)}if(!arguments.length)return t;var b;y=null==(t=a)?zd:"function"===(b=typeof a)?c:"number"===b?(a=[a,a,a,a],e):e;return h};h.round=function(a){if(!arguments.length)return f!=Number;f=a?Math.round:Number;return h};h.sticky=function(a){if(!arguments.length)return n;n=a;q=null;return h};h.ratio=function(a){if(!arguments.length)return r;r=a;return h};h.mode=
function(a){if(!arguments.length)return w;w=a+"";return h};return Qb(h,k)};x.random={normal:function(a,b){var e=arguments.length;2>e&&(b=1);1>e&&(a=0);return function(){var e,h;do e=2*Math.random()-1,h=2*Math.random()-1,h=e*e+h*h;while(!h||1<h);return a+b*e*Math.sqrt(-2*Math.log(h)/h)}},logNormal:function(){var a=x.random.normal.apply(x,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=x.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=
0,e=0;e<a;e++)b+=Math.random();return b}}};x.scale={};var Eh={floor:va,ceil:va};x.scale.linear=function(){return wf([0,1],[0,1],pb,!1)};var Hh={s:1,g:1,p:1,r:1,e:1};x.scale.log=function(){return xf(x.scale.linear().domain([0,1]),10,!0,[1,10])};var yf=x.format(".0e"),Ih={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};x.scale.pow=function(){return zf(x.scale.linear(),1,[0,1])};x.scale.sqrt=function(){return x.scale.pow().exponent(.5)};x.scale.ordinal=function(){return Af([],
{t:"range",a:[[]]})};x.scale.category10=function(){return x.scale.ordinal().range(ii)};x.scale.category20=function(){return x.scale.ordinal().range(ji)};x.scale.category20b=function(){return x.scale.ordinal().range(ki)};x.scale.category20c=function(){return x.scale.ordinal().range(li)};var ii=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Vb),ji=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,
16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Vb),ki=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Vb),li=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Vb);x.scale.quantile=function(){return Bf([],[])};x.scale.quantize=
function(){return Cf(0,1,[0,1])};x.scale.threshold=function(){return Df([.5],[0,1])};x.scale.identity=function(){return Ef([0,1])};x.svg={};x.svg.arc=function(){function a(){var c=b.apply(this,arguments),k=e.apply(this,arguments),f=g.apply(this,arguments)+qb,l=h.apply(this,arguments)+qb,t=(l<f&&(t=f,f=l,l=t),l-f),y=t<ia?"0":"1",n=Math.cos(f),f=Math.sin(f),q=Math.cos(l),l=Math.sin(l);return t>=mi?c?"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"M0,"+c+"A"+c+","+c+" 0 1,0 0,"+-c+"A"+
c+","+c+" 0 1,0 0,"+c+"Z":"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z":c?"M"+k*n+","+k*f+"A"+k+","+k+" 0 "+y+",1 "+k*q+","+k*l+"L"+c*q+","+c*l+"A"+c+","+c+" 0 "+y+",0 "+c*n+","+c*f+"Z":"M"+k*n+","+k*f+"A"+k+","+k+" 0 "+y+",1 "+k*q+","+k*l+"L0,0Z"}var b=Jh,e=Kh,g=Ff,h=Gf;a.innerRadius=function(e){if(!arguments.length)return b;b=ra(e);return a};a.outerRadius=function(b){if(!arguments.length)return e;e=ra(b);return a};a.startAngle=function(e){if(!arguments.length)return g;g=ra(e);
return a};a.endAngle=function(e){if(!arguments.length)return h;h=ra(e);return a};a.centroid=function(){var a=(b.apply(this,arguments)+e.apply(this,arguments))/2,c=(g.apply(this,arguments)+h.apply(this,arguments))/2+qb;return[Math.cos(c)*a,Math.sin(c)*a]};return a};var qb=-wa,mi=Ha-1E-6;x.svg.line=function(){return Hf(va)};var Cd=x.map({linear:Ia,"linear-closed":function(a){return Ia(a)+"Z"},step:function(a){for(var b=0,e=a.length,g=a[0],h=[g[0],",",g[1]];++b<e;)h.push("H",(g[0]+(g=a[b])[0])/2,"V",
g[1]);1<e&&h.push("H",g[0]);return h.join("")},"step-before":Dd,"step-after":Ed,basis:If,"basis-open":function(a){if(4>a.length)return Ia(a);for(var b=[],e=-1,g=a.length,h,k=[0],f=[0];3>++e;)h=a[e],k.push(h[0]),f.push(h[1]);b.push(Ma(ib,k)+","+Ma(ib,f));for(--e;++e<g;)h=a[e],k.shift(),k.push(h[0]),f.shift(),f.push(h[1]),Gd(b,k,f);return b.join("")},"basis-closed":function(a){for(var b,e=-1,g=a.length,h=g+4,k,f=[],l=[];4>++e;)k=a[e%g],f.push(k[0]),l.push(k[1]);b=[Ma(ib,f),",",Ma(ib,l)];for(--e;++e<
h;)k=a[e%g],f.shift(),f.push(k[0]),l.shift(),l.push(k[1]),Gd(b,f,l);return b.join("")},bundle:function(a,b){var e=a.length-1;if(e)for(var g=a[0][0],k=a[0][1],f=a[e][0]-g,l=a[e][1]-k,t=-1,y,n;++t<=e;)y=a[t],n=t/e,y[0]=b*y[0]+(1-b)*(g+n*f),y[1]=b*y[1]+(1-b)*(k+n*l);return If(a)},cardinal:function(a,b){return 3>a.length?Ia(a):a[0]+vc(a,Fd(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ia(a):a[1]+vc(a.slice(1,a.length-1),Fd(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Ia(a):a[0]+vc((a.push(a[0]),
a),Fd([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Ia(a);else{var b=a[0],e=[],g,k,f,l;g=0;k=a.length-1;var t=[];f=a[1];for(l=t[0]=Hd(a[0],f);++g<k;)t[g]=(l+(l=Hd(f,f=a[g+1])))/2;t[g]=l;for(var y=-1,n=a.length-1;++y<n;)g=Hd(a[y],a[y+1]),1E-6>ja(g)?t[y]=t[y+1]=0:(k=t[y]/g,f=t[y+1]/g,l=k*k+f*f,9<l&&(l=3*g/Math.sqrt(l),t[y]=l*k,t[y+1]=l*f));for(y=-1;++y<=n;)l=(a[Math.min(n,y+1)][0]-a[Math.max(0,y-1)][0])/(6*(1+t[y]*t[y])),e.push([l||0,t[y]*l||0]);a=b+vc(a,e)}return a}});
Cd.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var Jf=[0,2/3,1/3,0],Kf=[0,1/3,2/3,0],ib=[0,1/6,2/3,1/6];x.svg.line.radial=function(){var a=Hf(Lf);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Dd.reverse=Ed;Ed.reverse=Dd;x.svg.area=function(){return Mf(va)};x.svg.area.radial=function(){var a=Mf(Lf);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};
x.svg.chord=function(){function a(c,f){var m=b(this,g,c,f),l=b(this,k,c,f);return"M"+m.p0+e(m.r,m.p1,m.a1-m.a0)+(m.a0==l.a0&&m.a1==l.a1?"Q 0,0 "+m.p0:"Q 0,0 "+l.p0+e(l.r,l.p1,l.a1-l.a0)+("Q 0,0 "+m.p0))+"Z"}function b(a,c,e,g){var k=c.call(a,e,g);c=f.call(a,k,g);e=l.call(a,k,g)+qb;a=t.call(a,k,g)+qb;return{r:c,a0:e,a1:a,p0:[c*Math.cos(e),c*Math.sin(e)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function e(a,c,e){return"A"+a+","+a+" 0 "+ +(e>ia)+",1 "+c}var g=jd,k=kd,f=Lh,l=Ff,t=Gf;a.radius=function(e){if(!arguments.length)return f;
f=ra(e);return a};a.source=function(e){if(!arguments.length)return g;g=ra(e);return a};a.target=function(e){if(!arguments.length)return k;k=ra(e);return a};a.startAngle=function(e){if(!arguments.length)return l;l=ra(e);return a};a.endAngle=function(e){if(!arguments.length)return t;t=ra(e);return a};return a};x.svg.diagonal=function(){function a(c,k){var f=b.call(this,c,k),l=e.call(this,c,k),t=(f.y+l.y)/2,f=[f,{x:f.x,y:t},{x:l.x,y:t},l],f=f.map(g);return"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var b=jd,
e=kd,g=Nf;a.source=function(e){if(!arguments.length)return b;b=ra(e);return a};a.target=function(b){if(!arguments.length)return e;e=ra(b);return a};a.projection=function(e){if(!arguments.length)return g;g=e;return a};return a};x.svg.diagonal.radial=function(){var a=x.svg.diagonal(),b=Nf,e=a.projection;a.projection=function(a){return arguments.length?e(Mh(b=a)):b};return a};x.svg.symbol=function(){function a(c,k){return(fg.get(b.call(this,c,k))||Of)(e.call(this,c,k))}var b=Oh,e=Nh;a.type=function(e){if(!arguments.length)return b;
b=ra(e);return a};a.size=function(b){if(!arguments.length)return e;e=ra(b);return a};return a};var fg=x.map({circle:Of,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*gg));var b=a*gg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/
Nc);var b=a*Nc/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Nc);var b=a*Nc/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});x.svg.symbolTypes=fg.keys();var Nc=Math.sqrt(3),gg=Math.tan(30*ha),ua=[],Vf=0,sb,zc;ua.call=oa.call;ua.empty=oa.empty;ua.node=oa.node;ua.size=oa.size;x.transition=function(a){return arguments.length?sb?a.transition():a:Uf.transition()};x.transition.prototype=ua;ua.select=function(a){var b=this.id,e=[],g,k,f;a=Q(a);for(var l=-1,t=this.length;++l<
t;){e.push(g=[]);for(var y=this[l],n=-1,q=y.length;++n<q;)(f=y[n])&&(k=a.call(f,f.__data__,n,l))?("__data__"in f&&(k.__data__=f.__data__),wc(k,n,b,f.__transition__[b]),g.push(k)):g.push(null)}return Sb(e,b)};ua.selectAll=function(a){var b=this.id,e=[],g,k,f,l;a=J(a);for(var t=-1,y=this.length;++t<y;)for(var n=this[t],q=-1,w=n.length;++q<w;)if(g=n[q]){l=g.__transition__[b];k=a.call(g,g.__data__,q,t);e.push(g=[]);for(var r=-1,C=k.length;++r<C;)(f=k[r])&&wc(f,r,b,l),g.push(f)}return Sb(e,b)};ua.filter=
function(a){var b=[],e,g,k;"function"!==typeof a&&(a=V(a));for(var f=0,l=this.length;f<l;f++){b.push(e=[]);g=this[f];for(var t=0,y=g.length;t<y;t++)(k=g[t])&&a.call(k,k.__data__,t,f)&&e.push(k)}return Sb(b,this.id)};ua.tween=function(a,b){var e=this.id;return 2>arguments.length?this.node().__transition__[e].tween.get(a):I(this,null==b?function(b){b.__transition__[e].tween.remove(a)}:function(g){g.__transition__[e].tween.set(a,b)})};ua.attr=function(a,b){function e(){this.removeAttribute(t)}function g(){this.removeAttributeNS(t.space,
t.local)}function k(a){return null==a?e:(a+="",function(){var c=this.getAttribute(t),e;return c!==a&&(e=l(c,a),function(a){this.setAttribute(t,e(a))})})}function f(a){return null==a?g:(a+="",function(){var c=this.getAttributeNS(t.space,t.local),e;return c!==a&&(e=l(c,a),function(a){this.setAttributeNS(t.space,t.local,e(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var l="transform"==a?hf:pb,t=x.ns.qualify(a);return Id(this,"attr."+a,b,t.local?f:k)};ua.attrTween=function(a,
b){function e(a,c){var e=b.call(this,a,c,this.getAttribute(k));return e&&function(a){this.setAttribute(k,e(a))}}function g(a,c){var e=b.call(this,a,c,this.getAttributeNS(k.space,k.local));return e&&function(a){this.setAttributeNS(k.space,k.local,e(a))}}var k=x.ns.qualify(a);return this.tween("attr."+a,k.local?g:e)};ua.style=function(a,b,e){function g(){this.style.removeProperty(a)}var k=arguments.length;if(3>k){if("string"!==typeof a){2>k&&(b="");for(e in a)this.style(e,a[e],b);return this}e=""}return Id(this,
"style."+a,b,function(b){return null==b?g:(b+="",function(){var g=za.getComputedStyle(this,null).getPropertyValue(a),k;return g!==b&&(k=pb(g,b),function(b){this.style.setProperty(a,k(b),e)})})})};ua.styleTween=function(a,b,e){3>arguments.length&&(e="");return this.tween("style."+a,function(g,k){var f=b.call(this,g,k,za.getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),e)}})};ua.text=function(a){return Id(this,"text",a,Ph)};ua.remove=function(){return this.each("end.transition",
function(){var a;2>this.__transition__.count&&(a=this.parentNode)&&a.removeChild(this)})};ua.ease=function(a){var b=this.id;if(1>arguments.length)return this.node().__transition__[b].ease;"function"!==typeof a&&(a=x.ease.apply(x,arguments));return I(this,function(e){e.__transition__[b].ease=a})};ua.delay=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].delay:I(this,"function"===typeof a?function(e,g,k){e.__transition__[b].delay=+a.call(e,e.__data__,g,k)}:(a=+a,function(e){e.__transition__[b].delay=
a}))};ua.duration=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].duration:I(this,"function"===typeof a?function(e,g,k){e.__transition__[b].duration=Math.max(1,a.call(e,e.__data__,g,k))}:(a=Math.max(1,a),function(e){e.__transition__[b].duration=a}))};ua.each=function(a,b){var e=this.id;if(2>arguments.length){var g=zc,k=sb;sb=e;I(this,function(b,g,k){zc=b.__transition__[e];a.call(b,b.__data__,g,k)});zc=g;sb=k}else I(this,function(g){g=g.__transition__[e];(g.event||
(g.event=x.dispatch("start","end"))).on(a,b)});return this};ua.transition=function(){for(var a=this.id,b=++Vf,e=[],g,k,f,l,t=0,y=this.length;t<y;t++){e.push(g=[]);k=this[t];for(var n=0,q=k.length;n<q;n++){if(f=k[n])l=Object.create(f.__transition__[a]),l.delay+=l.duration,wc(f,n,b,l);g.push(f)}}return Sb(e,b)};x.svg.axis=function(){function a(c){c.each(function(){var a=x.select(this),c=this.__chart__||b,n=this.__chart__=b.copy(),q=null==t?n.ticks?n.ticks.apply(n,l):n.domain():t,w=null==y?n.tickFormat?
n.tickFormat.apply(n,l):va:y,r=a.selectAll(".tick").data(q,n),q=r.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6),C=x.transition(r.exit()).style("opacity",1E-6).remove(),I=x.transition(r.order()).style("opacity",1),F,B=rc(n),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),x.transition(a));q.append("line");q.append("text");var u=q.select("line"),v=I.select("line"),w=r.select("text").text(w),r=q.select("text"),A=I.select("text");switch(e){case "bottom":F=
Pf;u.attr("y2",g);r.attr("y",Math.max(g,0)+f);v.attr("x2",0).attr("y2",g);A.attr("x",0).attr("y",Math.max(g,0)+f);w.attr("dy",".71em").style("text-anchor","middle");a.attr("d","M"+B[0]+","+k+"V0H"+B[1]+"V"+k);break;case "top":F=Pf;u.attr("y2",-g);r.attr("y",-(Math.max(g,0)+f));v.attr("x2",0).attr("y2",-g);A.attr("x",0).attr("y",-(Math.max(g,0)+f));w.attr("dy","0em").style("text-anchor","middle");a.attr("d","M"+B[0]+","+-k+"V0H"+B[1]+"V"+-k);break;case "left":F=Qf;u.attr("x2",-g);r.attr("x",-(Math.max(g,
0)+f));v.attr("x2",-g).attr("y2",0);A.attr("x",-(Math.max(g,0)+f)).attr("y",0);w.attr("dy",".32em").style("text-anchor","end");a.attr("d","M"+-k+","+B[0]+"H0V"+B[1]+"H"+-k);break;case "right":F=Qf,u.attr("x2",g),r.attr("x",Math.max(g,0)+f),v.attr("x2",g).attr("y2",0),A.attr("x",Math.max(g,0)+f).attr("y",0),w.attr("dy",".32em").style("text-anchor","start"),a.attr("d","M"+k+","+B[0]+"H0V"+B[1]+"H"+k)}if(n.rangeBand)var R=n,J=R.rangeBand()/2,c=n=function(a){return R(a)+J};else c.rangeBand?c=n:C.call(F,
n);q.call(F,c);I.call(F,n)})}var b=x.scale.linear(),e=hg,g=6,k=6,f=3,l=[10],t=null,y;a.scale=function(e){if(!arguments.length)return b;b=e;return a};a.orient=function(b){if(!arguments.length)return e;e=b in ni?b+"":hg;return a};a.ticks=function(){if(!arguments.length)return l;l=arguments;return a};a.tickValues=function(b){if(!arguments.length)return t;t=b;return a};a.tickFormat=function(b){if(!arguments.length)return y;y=b;return a};a.tickSize=function(b){var e=arguments.length;if(!e)return g;g=+b;
k=+arguments[e-1];return a};a.innerTickSize=function(b){if(!arguments.length)return g;g=+b;return a};a.outerTickSize=function(b){if(!arguments.length)return k;k=+b;return a};a.tickPadding=function(b){if(!arguments.length)return f;f=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var hg="bottom",ni={top:1,right:1,bottom:1,left:1};x.svg.brush=function(){function a(f){f.each(function(){var f=x.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color",
"rgba(0,0,0,0)").on("mousedown.brush",k).on("touchstart.brush",k),m=f.selectAll(".background").data([0]);m.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var y=f.selectAll(".resize").data(I,va);y.exit().remove();y.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return oi[a]}).append("rect").attr("x",
function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");y.style("display",a.empty()?"none":null);f=x.transition(f);m=x.transition(m);l&&(y=rc(l),m.attr("x",y[0]).attr("width",y[1]-y[0]),e(f));t&&(y=rc(t),m.attr("y",y[0]).attr("height",y[1]-y[0]),g(f));b(f)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+y[+/e$/.test(a)]+","+n[+/^s/.test(a)]+")"})}function e(a){a.select(".extent").attr("x",
y[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",y[1]-y[0])}function g(a){a.select(".extent").attr("y",n[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",n[1]-n[0])}function k(){function h(){var a=x.mouse(B),c=!1;E&&(a[0]+=E[0],a[1]+=E[1]);V||(x.event.altKey?(U||(U=[(y[0]+y[1])/2,(n[0]+n[1])/2]),N[0]=y[+(a[0]<U[0])],N[1]=n[+(a[1]<U[1])]):U=null);J&&I(a,l,0)&&(e(A),c=!0);D&&I(a,t,1)&&(g(A),c=!0);c&&(b(A),v({type:"brush",mode:V?"move":"resize"}))}function I(a,c,b){var e=rc(c);c=e[0];
var g=e[1],e=N[b],k=b?n:y,h=k[1]-k[0];V&&(c-=e,g-=h+e);a=(b?C:r)?Math.max(c,Math.min(g,a[b])):a[b];V?c=(a+=e)+h:(U&&(e=Math.max(c,Math.min(g,2*U[b]-a))),e<a?(c=a,a=e):c=e);if(k[0]!=a||k[1]!=c)return b?w=null:q=null,k[0]=a,k[1]=c,!0}function F(){h();A.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);x.select("body").style("cursor",null);pa.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",
null).on("keyup.brush",null);T();v({type:"brushend"})}var B=this,u=x.select(x.event.target),v=f.of(B,arguments),A=x.select(B),R=u.datum(),J=!/^(n|s)$/.test(R)&&l,D=!/^(e|w)$/.test(R)&&t,V=u.classed("extent"),T=ma(),U,N=x.mouse(B),E,pa=x.select(za).on("keydown.brush",function(){32==x.event.keyCode&&(V||(U=null,N[0]-=y[1],N[1]-=n[1],V=2),M())}).on("keyup.brush",function(){32==x.event.keyCode&&2==V&&(N[0]+=y[1],N[1]+=n[1],V=0,M())});if(x.event.changedTouches)pa.on("touchmove.brush",h).on("touchend.brush",
F);else pa.on("mousemove.brush",h).on("mouseup.brush",F);A.interrupt().selectAll("*").interrupt();if(V)N[0]=y[0]-N[0],N[1]=n[0]-N[1];else if(R){var O=+/w$/.test(R),R=+/^n/.test(R);E=[y[1-O]-N[0],n[1-R]-N[1]];N[0]=y[O];N[1]=n[R]}else x.event.altKey&&(U=N.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null);x.select("body").style("cursor",u.style("cursor"));v({type:"brushstart"});h()}var f=B(a,"brushstart","brush","brushend"),l=null,t=null,y=[0,0],n=[0,0],q,w,r=!0,C=
!0,I=Pd[0];a.event=function(a){a.each(function(){var a=f.of(this,arguments),c={x:y,y:n,i:q,j:w},b=this.__chart__||c;this.__chart__=c;sb?x.select(this).transition().each("start.brush",function(){q=b.i;w=b.j;y=b.x;n=b.y;a({type:"brushstart"})}).tween("brush:brush",function(){var b=qc(y,c.x),e=qc(n,c.y);q=w=null;return function(g){y=c.x=b(g);n=c.y=e(g);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){q=c.i;w=c.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),
a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(b){if(!arguments.length)return l;l=b;I=Pd[!l<<1|!t];return a};a.y=function(b){if(!arguments.length)return t;t=b;I=Pd[!l<<1|!t];return a};a.clamp=function(b){if(!arguments.length)return l&&t?[r,C]:l?r:t?C:null;l&&t?(r=!!b[0],C=!!b[1]):l?r=!!b:t&&(C=!!b);return a};a.extent=function(b){var e,g,k,h,f;if(!arguments.length)return l&&(q?(e=q[0],g=q[1]):(e=y[0],g=y[1],l.invert&&(e=l.invert(e),g=l.invert(g)),g<e&&(f=e,e=g,g=f))),t&&(w?(k=
w[0],h=w[1]):(k=n[0],h=n[1],t.invert&&(k=t.invert(k),h=t.invert(h)),h<k&&(f=k,k=h,h=f))),l&&t?[[e,k],[g,h]]:l?[e,g]:t&&[k,h];l&&(e=b[0],g=b[1],t&&(e=e[0],g=g[0]),q=[e,g],l.invert&&(e=l(e),g=l(g)),g<e&&(f=e,e=g,g=f),e!=y[0]||g!=y[1])&&(y=[e,g]);t&&(k=b[0],h=b[1],l&&(k=k[1],h=h[1]),w=[k,h],t.invert&&(k=t(k),h=t(h)),h<k&&(f=k,k=h,h=f),k!=n[0]||h!=n[1])&&(n=[k,h]);return a};a.clear=function(){a.empty()||(y=[0,0],n=[0,0],q=w=null);return a};a.empty=function(){return!!l&&y[0]==y[1]||!!t&&n[0]==n[1]};return x.rebind(a,
f,"on")};var oi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pd=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],Qd=ca.format=Xf.timeFormat,ig=Qd.utc,jg=ig("%Y-%m-%dT%H:%M:%S.%LZ");Qd.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jd:jg;Jd.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Jd.toString=jg.toString;ca.second=kb(function(a){return new ya(1E3*Math.floor(a/1E3))},function(a,
b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});ca.seconds=ca.second.range;ca.seconds.utc=ca.second.utc.range;ca.minute=kb(function(a){return new ya(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});ca.minutes=ca.minute.range;ca.minutes.utc=ca.minute.utc.range;ca.hour=kb(function(a){var b=a.getTimezoneOffset()/60;return new ya(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*
Math.floor(b))},function(a){return a.getHours()});ca.hours=ca.hour.range;ca.hours.utc=ca.hour.utc.range;ca.month=kb(function(a){a=ca.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});ca.months=ca.month.range;ca.months.utc=ca.month.utc.range;var xc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Rd=[[ca.second,1],[ca.second,5],[ca.second,15],[ca.second,30],[ca.minute,1],[ca.minute,5],[ca.minute,
15],[ca.minute,30],[ca.hour,1],[ca.hour,3],[ca.hour,6],[ca.hour,12],[ca.day,1],[ca.day,2],[ca.week,1],[ca.month,1],[ca.month,3],[ca.year,1]],pi=Qd.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",wb]]),Qh={range:function(a,
b,e){return x.range(Math.ceil(a/e)*e,+b,e).map(rb)},floor:va,ceil:va};Rd.year=ca.year;ca.scale=function(){return Kd(x.scale.linear(),Rd,pi)};var kg=Rd.map(function(a){return[a[0].utc,a[1]]}),qi=ig.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],
["%B",function(a){return a.getUTCMonth()}],["%Y",wb]]);kg.year=ca.year.utc;ca.scale.utc=function(){return Kd(x.scale.linear(),kg,qi)};x.text=Zc(function(a){return a.responseText});x.json=function(a,b){return Xb(a,"application/json",Rh,b)};x.html=function(a,b){return Xb(a,"text/html",Sh,b)};x.xml=Zc(function(a){return a.responseXML});"function"===typeof define&&define.amd?define(x):"object"===typeof module&&module.exports?module.exports=x:this.d3=x}();
(function(){function X(a,b){return(new Date(b,a+1,0)).getDate()}var u=window.nv||{};u.version="1.1.15b";u.dev=!0;window.nv=u;u.tooltip=u.tooltip||{};u.utils=u.utils||{};u.models=u.models||{};u.charts={};u.graphs=[];u.logs={};u.dispatch=d3.dispatch("render_start","render_end");u.dev&&(u.dispatch.on("render_start",function(a){u.logs.startTime=+new Date}),u.dispatch.on("render_end",function(a){u.logs.endTime=+new Date;u.logs.totalTime=u.logs.endTime-u.logs.startTime;u.log("total",u.logs.totalTime)}));
u.log=function(){u.dev&&console.log&&console.log.apply?console.log.apply(console,arguments):u.dev&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments);return arguments[arguments.length-1]};u.render=function(a){a=a||1;u.render.active=!0;u.dispatch.render_start();setTimeout(function(){for(var b,n,A=0;A<a&&(n=u.render.queue[A]);A++)b=n.generate(),typeof n.callback==typeof Function&&n.callback(b),u.graphs.push(b);u.render.queue.splice(0,
A);u.render.queue.length?setTimeout(arguments.callee,0):(u.dispatch.render_end(),u.render.active=!1)},0)};u.render.active=!1;u.render.queue=[];u.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});u.render.queue.push(a);u.render.active||u.render()};u.identity=function(a){return a};u.strip=function(a){return a.replace(/(\s|&)/g,"")};d3.time.monthEnd=function(a){return new Date(a.getFullYear(),a.getMonth(),0)};d3.time.monthEnds=function(a,b,n){return function(u,r,l){var f=
a(u),v=[];f<u&&b(f);if(1<l)for(;f<r;)u=new Date(+f),0===n(u)%l&&v.push(u),b(f);else for(;f<r;)v.push(new Date(+f)),b(f);return v}}(d3.time.monthEnd,function(a){a.setUTCDate(a.getUTCDate()+1);a.setDate(X(a.getMonth()+1,a.getFullYear()))},function(a){return a.getMonth()});u.interactiveGuideline=function(){function a(G){G.each(function(E){function H(){var n=d3.mouse(this),q=n[0],n=n[1],B=!0,u=!1;K&&(q=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(B=!1),d3.event.target.className.baseVal.match("nv-legend")&&
(u=!0));B&&(q-=r.left,n-=r.top);0>q||0>n||q>M||n>S||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||u?K&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(b.nvPointerEventsClass)||(f.elementMouseout({mouseX:q,mouseY:n}),a.renderGuideLine(null)):(B=l.invert(q),f.elementMousemove({mouseX:q,mouseY:n,pointXValue:B}),"dblclick"===d3.event.type&&f.elementDblclick({mouseX:q,mouseY:n,pointXValue:B}))}var D=d3.select(this),
M=n||960,S=A||400,B=D.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([E]);B.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");q&&(q.on("mousemove",H,!0).on("mouseout",H,!0).on("dblclick",H),a.renderGuideLine=function(a){v&&(a=B.select(".nv-interactiveGuideLine").selectAll("line").data(null!=a?[u.utils.NaNtoZero(a)]:[],String),a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",
function(a){return a}).attr("y1",S).attr("y2",0),a.exit().remove())})})}var b=u.models.tooltip(),n=null,A=null,r={left:0,top:0},l=d3.scale.linear();d3.scale.linear();var f=d3.dispatch("elementMousemove","elementMouseout","elementDblclick"),v=!0,q=null,K=-1!==navigator.userAgent.indexOf("MSIE");a.dispatch=f;a.tooltip=b;a.margin=function(b){if(!arguments.length)return r;r.top="undefined"!=typeof b.top?b.top:r.top;r.left="undefined"!=typeof b.left?b.left:r.left;return a};a.width=function(b){if(!arguments.length)return n;
n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.showGuideLine=function(b){if(!arguments.length)return v;v=b;return a};a.svgContainer=function(b){if(!arguments.length)return q;q=b;return a};return a};u.interactiveBisect=function(a,b,n){if(!a instanceof Array)return null;"function"!==typeof n&&(n=function(a,b){return a.x});var u=d3.bisector(n).left,u=d3.max([0,u(a,b)-1]),r=n(a[u],u);"undefined"===typeof r&&
(r=u);if(r===b)return u;var l=d3.min([u+1,a.length-1]);a=n(a[l],l);"undefined"===typeof a&&(a=l);return Math.abs(a-b)>=Math.abs(r-b)?u:l};u.nearestValueIndex=function(a,b,n){var u=Infinity,r=null;a.forEach(function(a,f){var v=Math.abs(b-a);v<=u&&v<n&&(u=v,r=f)});return r};(function(){window.nv.tooltip={};window.nv.models.tooltip=function(){function a(){if(E){var b;b=n&&n.series&&0<n.series.length?!0:!1;if(b){if(q){b=d3.select(q);"svg"!==b.node().tagName&&(b=b.select("svg"));var D=b.node()?b.attr("viewBox"):
null;D&&(D=D.split(" "),b=parseInt(b.style("width"))/D[2],G.left*=b,G.top*=b)}b=G.left;var D=null!=f?f:G.top,M;M=S(n);var J;J=q?d3.select(q):d3.select("body");var T=J.select(".nvtooltip");null===T.node()&&(T=J.append("div").attr("class","nvtooltip "+(v?v:"xy-tooltip")).attr("id",H));T.node().innerHTML=M;T.style("top",0).style("left",0).style("opacity",0);T.selectAll("div, table, td, tr").classed("nv-pointer-events-none",!0);T.classed("nv-pointer-events-none",!0);K=M=T.node();if(q){(T=q.getElementsByTagName("svg")[0])?
T.getBoundingClientRect():q.getBoundingClientRect();var P=0;J=0;if(T){T=T.getBoundingClientRect();P=q.getBoundingClientRect();J=T.top;if(0>J){var O=q.getBoundingClientRect();J=Math.abs(J)>O.height?0:J}J=Math.abs(J-P.top);P=Math.abs(T.left-P.left)}b+=q.offsetLeft+P-2*q.scrollLeft;D+=q.offsetTop+J-2*q.scrollTop}l&&0<l&&(D=Math.floor(D/l)*l);u.tooltip.calcTooltipPosition([b,D],A,r,M);return a}}}var b=null,n=null,A="w",r=50,l=25,f=null,v=null,q=null,K=null,G={left:null,top:null},E=!0,H="nvtooltip-"+Math.floor(1E5*
Math.random()),D=function(a,b){return a},M=function(a){return a},S=function(a){if(null!=b)return b;if(null==a)return"";var f=d3.select(document.createElement("table"));f.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(M(a.value));var l=f.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});
l.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color});l.append("td").classed("key",!0).html(function(a){return a.key});l.append("td").classed("value",!0).html(function(a,b){return D(a.value,b)});l.selectAll("td").each(function(a){a.highlight&&(a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),d3.select(this).style("border-bottom-color",a(.6)).style("border-top-color",a(.6)))});f=f.node().outerHTML;void 0!==a.footer&&(f+="<div class='footer'>"+
a.footer+"</div>");return f};a.nvPointerEventsClass="nv-pointer-events-none";a.content=function(f){if(!arguments.length)return b;b=f;return a};a.tooltipElem=function(){return K};a.contentGenerator=function(b){if(!arguments.length)return S;"function"===typeof b&&(S=b);return a};a.data=function(b){if(!arguments.length)return n;n=b;return a};a.gravity=function(b){if(!arguments.length)return A;A=b;return a};a.distance=function(b){if(!arguments.length)return r;r=b;return a};a.snapDistance=function(b){if(!arguments.length)return l;
l=b;return a};a.classes=function(b){if(!arguments.length)return v;v=b;return a};a.chartContainer=function(b){if(!arguments.length)return q;q=b;return a};a.position=function(b){if(!arguments.length)return G;G.left="undefined"!==typeof b.left?b.left:G.left;G.top="undefined"!==typeof b.top?b.top:G.top;return a};a.fixedTop=function(b){if(!arguments.length)return f;f=b;return a};a.enabled=function(b){if(!arguments.length)return E;E=b;return a};a.valueFormatter=function(b){if(!arguments.length)return D;
"function"===typeof b&&(D=b);return a};a.headerFormatter=function(b){if(!arguments.length)return M;"function"===typeof b&&(M=b);return a};a.id=function(){return H};return a};u.tooltip.show=function(a,b,n,A,r,l){var f=document.createElement("div");f.className="nvtooltip "+(l?l:"xy-tooltip");l=r;if(!r||r.tagName.match(/g|svg/i))l=document.getElementsByTagName("body")[0];f.style.left=0;f.style.top=0;f.style.opacity=0;f.innerHTML=b;l.appendChild(f);r&&(a[0]-=r.scrollLeft,a[1]-=r.scrollTop);u.tooltip.calcTooltipPosition(a,
n,A,f)};u.tooltip.findFirstNonSVGParent=function(a){for(;null!==a.tagName.match(/^g|svg$/i);)a=a.parentNode;return a};u.tooltip.findTotalOffsetTop=function(a,b){var n=b;do isNaN(a.offsetTop)||(n+=a.offsetTop);while(a=a.offsetParent);return n};u.tooltip.findTotalOffsetLeft=function(a,b){var n=b;do isNaN(a.offsetLeft)||(n+=a.offsetLeft);while(a=a.offsetParent);return n};u.tooltip.calcTooltipPosition=function(a,b,n,A){var r=parseInt(A.offsetHeight),l=parseInt(A.offsetWidth),f=u.utils.windowSize().width,
v=u.utils.windowSize().height,q=window.pageYOffset,K=window.pageXOffset,G,E,v=window.innerWidth>=document.body.scrollWidth?v:v-16,f=window.innerHeight>=document.body.scrollHeight?f:f-16;n=n||20;var H=function(a){return u.tooltip.findTotalOffsetTop(a,E)},D=function(a){return u.tooltip.findTotalOffsetLeft(a,G)};switch(b||"s"){case "e":G=a[0]-l-n;E=a[1]-r/2;b=D(A);H=H(A);b<K&&(G=a[0]+n>K?a[0]+n:K-b+G);H<q&&(E=q-H+E);H+r>q+v&&(E=q+v-H+E-r);break;case "w":G=a[0]+n;E=a[1]-r/2;b=D(A);H=H(A);b+l>f&&(G=a[0]-
l-n);H<q&&(E=q+5);H+r>q+v&&(E=q+v-H+E-r);break;case "n":G=a[0]-l/2-5;E=a[1]+n;b=D(A);H=H(A);b<K&&(G=K+5);b+l>f&&(G=G-l/2+5);H+r>q+v&&(E=q+v-H+E-r);break;case "s":G=a[0]-l/2;E=a[1]-r-n;b=D(A);H=H(A);b<K&&(G=K+5);b+l>f&&(G=G-l/2+5);q>H&&(E=q);break;case "none":G=a[0],E=a[1]-n,b=D(A),H=H(A)}A.style.left=G+"px";A.style.top=E+"px";A.style.opacity=1;A.style.position="absolute";return A};u.tooltip.cleanup=function(){for(var a=document.getElementsByClassName("nvtooltip"),b=[];a.length;)b.push(a[0]),a[0].style.transitionDelay=
"0 !important",a[0].style.opacity=0,a[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;b.length;){var a=b.pop();a.parentNode.removeChild(a)}},500)}})();u.utils.windowSize=function(){var a={width:640,height:480};document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight);
window.innerWidth&&window.innerHeight&&(a.width=window.innerWidth,a.height=window.innerHeight);return a};u.utils.windowResize=function(a){if(void 0!==a){var b=window.onresize;window.onresize=function(n){"function"==typeof b&&b(n);a(n)}}};u.utils.getColor=function(a){return arguments.length?"[object Array]"===Object.prototype.toString.call(a)?function(b,n){return b.color||a[n%a.length]}:a:u.utils.defaultColor()};u.utils.defaultColor=function(){var a=d3.scale.category20().range();return function(b,
n){return b.color||a[n%a.length]}};u.utils.customTheme=function(a,b,n){b=b||function(a){return a.key};n=n||d3.scale.category20().range();var u=n.length;return function(r,l){var f=b(r);u||(u=n.length);return"undefined"!==typeof a[f]?"function"===typeof a[f]?a[f]():a[f]:n[--u]}};u.utils.pjax=function(a,b){function n(n){d3.html(n,function(n){var l=d3.select(b).node();l.parentNode.replaceChild(d3.select(n).select(b).node(),l);u.utils.pjax(a,b)})}d3.selectAll(a).on("click",function(){history.pushState(this.href,
this.textContent,this.href);n(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&n(d3.event.state)})};u.utils.calcApproxTextWidth=function(a){if("function"===typeof a.style&&"function"===typeof a.text){var b=parseInt(a.style("font-size").replace("px",""));return a.text().length*b*.5}return 0};u.utils.NaNtoZero=function(a){return"number"!==typeof a||isNaN(a)||null===a||Infinity===a?0:a};u.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,n){if("function"===
typeof this[a])this[a](n)}.bind(this));return this};u.models.axis=function(){function a(r){r.each(function(a){a=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");var r=a.select("g");null!==D?b.ticks(D):"top"!=b.orient()&&"bottom"!=b.orient()||b.ticks(Math.abs(l.range()[1]-l.range()[0])/100);r.transition().call(b);S=S||b.scale();var u=b.tickFormat();null==u&&(u=S.tickFormat());var B=r.selectAll("text.nv-axislabel").data([f||
null]);B.exit().remove();switch(b.orient()){case "top":B.enter().append("text").attr("class","nv-axislabel");var P=2==l.range().length?l.range()[1]:l.range()[l.range().length-1]+(l.range()[1]-l.range()[0]);B.attr("text-anchor","middle").attr("y",0).attr("x",P/2);v&&(P=a.selectAll("g.nv-axisMaxMin").data(l.domain()),P.enter().append("g").attr("class","nv-axisMaxMin").append("text"),P.exit().remove(),P.attr("transform",function(a,b){return"translate("+l(a)+",0)"}).select("text").attr("dy","-0.5em").attr("y",
-b.tickPadding()).attr("text-anchor","middle").text(function(a,b){var f=u(a);return(""+f).match("NaN")?"":f}),P.transition().attr("transform",function(a,b){return"translate("+l.range()[b]+",0)"}));break;case "bottom":var O=36,w=30,C=r.selectAll("g").select("text");K%360&&(C.each(function(a,b){var f=this.getBBox().width;f>w&&(w=f)}),P=Math.abs(Math.sin(K*Math.PI/180)),O=(P?P*w:w)+30,C.attr("transform",function(a,b,f){return"rotate("+K+" 0,0)"}).style("text-anchor",0<K%360?"start":"end"));B.enter().append("text").attr("class",
"nv-axislabel");P=2==l.range().length?l.range()[1]:l.range()[l.range().length-1]+(l.range()[1]-l.range()[0]);B.attr("text-anchor","middle").attr("y",O).attr("x",P/2);v&&(P=a.selectAll("g.nv-axisMaxMin").data([l.domain()[0],l.domain()[l.domain().length-1]]),P.enter().append("g").attr("class","nv-axisMaxMin").append("text"),P.exit().remove(),P.attr("transform",function(a,b){return"translate("+(l(a)+(H?l.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",
function(a,b,f){return"rotate("+K+" 0,0)"}).style("text-anchor",K?0<K%360?"start":"end":"middle").text(function(a,b){var f=u(a);return(""+f).match("NaN")?"":f}),P.transition().attr("transform",function(a,b){return"translate("+(l(a)+(H?l.rangeBand()/2:0))+",0)"}));E&&C.attr("transform",function(a,b){return"translate(0,"+(0==b%2?"0":"12")+")"});break;case "right":B.enter().append("text").attr("class","nv-axislabel");B.style("text-anchor",G?"middle":"begin").attr("transform",G?"rotate(90)":"").attr("y",
G?-Math.max(n.right,A)+12:-10).attr("x",G?l.range()[0]/2:b.tickPadding());v&&(P=a.selectAll("g.nv-axisMaxMin").data(l.domain()),P.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),P.exit().remove(),P.attr("transform",function(a,b){return"translate(0,"+l(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a,b){var f=u(a);return(""+f).match("NaN")?"":f}),P.transition().attr("transform",function(a,
b){return"translate(0,"+l.range()[b]+")"}).select("text").style("opacity",1));break;case "left":B.enter().append("text").attr("class","nv-axislabel"),B.style("text-anchor",G?"middle":"end").attr("transform",G?"rotate(-90)":"").attr("y",G?-Math.max(n.left,A)+M:-10).attr("x",G?-l.range()[0]/2:-b.tickPadding()),v&&(P=a.selectAll("g.nv-axisMaxMin").data(l.domain()),P.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),P.exit().remove(),P.attr("transform",function(a,b){return"translate(0,"+
S(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a,b){var f=u(a);return(""+f).match("NaN")?"":f}),P.transition().attr("transform",function(a,b){return"translate(0,"+l.range()[b]+")"}).select("text").style("opacity",1))}B.text(function(a){return a});!v||"left"!==b.orient()&&"right"!==b.orient()||(r.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1);if(l(a)<l.range()[1]+10||l(a)>l.range()[0]-10)(1E-10<
a||-1E-10>a)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0)}),l.domain()[0]==l.domain()[1]&&0==l.domain()[0]&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1}));if(v&&("top"===b.orient()||"bottom"===b.orient())){var F=[];a.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?F.push(l(a)-this.getBBox().width-4):F.push(l(a)+this.getBBox().width+4)}catch(f){b?F.push(l(a)-4):F.push(l(a)+4)}});r.selectAll("g").each(function(a,b){if(l(a)<F[0]||
l(a)>F[1])1E-10<a||-1E-10>a?d3.select(this).remove():d3.select(this).select("text").remove()})}q&&r.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1E5*a.__data__)/1E6)&&void 0!==a.__data__}).classed("zero",!0);S=l.copy()});return a}var b=d3.svg.axis(),n={top:0,right:0,bottom:0,left:0},A=75,r=60,l=d3.scale.linear(),f=null,v=!0,q=!0,K=0,G=!0,E=!1,H=!1,D=null,M=12;b.scale(l).orient("bottom").tickFormat(function(a){return a});var S;a.axis=b;d3.rebind(a,b,"orient","tickValues","tickSubdivide",
"tickSize","tickPadding","tickFormat");d3.rebind(a,l,"domain","range","rangeBand","rangeBands");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return n;n.top="undefined"!=typeof b.top?b.top:n.top;n.right="undefined"!=typeof b.right?b.right:n.right;n.bottom="undefined"!=typeof b.bottom?b.bottom:n.bottom;n.left="undefined"!=typeof b.left?b.left:n.left;return a};a.width=function(b){if(!arguments.length)return A;A=b;return a};a.ticks=function(b){if(!arguments.length)return D;
D=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.axisLabel=function(b){if(!arguments.length)return f;f=b;return a};a.showMaxMin=function(b){if(!arguments.length)return v;v=b;return a};a.highlightZero=function(b){if(!arguments.length)return q;q=b;return a};a.scale=function(f){if(!arguments.length)return l;l=f;b.scale(l);H="function"===typeof l.rangeBands;d3.rebind(a,l,"domain","range","rangeBand","rangeBands");return a};a.rotateYLabel=function(b){if(!arguments.length)return G;
G=b;return a};a.rotateLabels=function(b){if(!arguments.length)return K;K=b;return a};a.staggerLabels=function(b){if(!arguments.length)return E;E=b;return a};a.axisLabelDistance=function(b){if(!arguments.length)return M;M=b;return a};return a};u.models.historicalBar=function(){function a(T){T.each(function(a){var T=n-b.left-b.right,w=A-b.top-b.bottom,C=d3.select(this);l.domain(M||d3.extent(a[0].values.map(v).concat(K)));E?l.range(B||[.5*T/a[0].values.length,T*(a[0].values.length-.5)/a[0].values.length]):
l.range(B||[0,T]);f.domain(S||d3.extent(a[0].values.map(q).concat(G))).range(N||[w,0]);l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1]));f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var F=C.selectAll("g.nv-wrap.nv-historicalBar-"+r).data([a[0].values]),t=F.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+
r),R=t.append("defs"),t=t.append("g"),V=F.select("g");t.append("g").attr("class","nv-bars");F.attr("transform","translate("+b.left+","+b.top+")");C.on("click",function(a,b){Q.chartClick({data:a,index:b,pos:d3.event,id:r})});R.append("clipPath").attr("id","nv-chart-clip-path-"+r).append("rect");F.select("#nv-chart-clip-path-"+r+" rect").attr("width",T).attr("height",w);V.attr("clip-path",H?"url(#nv-chart-clip-path-"+r+")":"");w=F.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,
b){return v(a,b)});w.exit().remove();w.enter().append("rect").attr("x",0).attr("y",function(a,b){return u.utils.NaNtoZero(f(Math.max(0,q(a,b))))}).attr("height",function(a,b){return u.utils.NaNtoZero(Math.abs(f(q(a,b))-f(0)))}).attr("transform",function(b,f){return"translate("+(l(v(b,f))-T/a[0].values.length*.45)+",0)"}).on("mouseover",function(b,t){J&&(d3.select(this).classed("hover",!0),Q.elementMouseover({point:b,series:a[0],pos:[l(v(b,t)),f(q(b,t))],pointIndex:t,seriesIndex:0,e:d3.event}))}).on("mouseout",
function(b,f){J&&(d3.select(this).classed("hover",!1),Q.elementMouseout({point:b,series:a[0],pointIndex:f,seriesIndex:0,e:d3.event}))}).on("click",function(a,b){J&&(Q.elementClick({value:q(a,b),data:a,index:b,pos:[l(v(a,b)),f(q(a,b))],e:d3.event,id:r}),d3.event.stopPropagation())}).on("dblclick",function(a,b){J&&(Q.elementDblClick({value:q(a,b),data:a,index:b,pos:[l(v(a,b)),f(q(a,b))],e:d3.event,id:r}),d3.event.stopPropagation())});w.attr("fill",function(a,b){return D(a,b)}).attr("class",function(a,
b,f){return(0>q(a,b)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+f+"-"+b}).transition().attr("transform",function(b,f){return"translate("+(l(v(b,f))-T/a[0].values.length*.45)+",0)"}).attr("width",T/a[0].values.length*.9);w.transition().attr("y",function(a,b){var l=0>q(a,b)?f(0):1>f(0)-f(q(a,b))?f(0)-1:f(q(a,b));return u.utils.NaNtoZero(l)}).attr("height",function(a,b){return u.utils.NaNtoZero(Math.max(Math.abs(f(q(a,b))-f(0)),1))})});return a}var b={top:0,right:0,bottom:0,left:0},n=960,A=500,
r=Math.floor(1E4*Math.random()),l=d3.scale.linear(),f=d3.scale.linear(),v=function(a){return a.x},q=function(a){return a.y},K=[],G=[0],E=!1,H=!0,D=u.utils.defaultColor(),M,S,B,N,Q=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),J=!0;a.highlightPoint=function(a,b){d3.select(".nv-historicalBar-"+r).select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=function(){d3.select(".nv-historicalBar-"+r).select(".nv-bars .nv-bar.hover").classed("hover",
!1)};a.dispatch=Q;a.options=u.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return v;v=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};
a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return M;M=b;return a};a.yDomain=function(b){if(!arguments.length)return S;S=b;return a};a.xRange=function(b){if(!arguments.length)return B;B=b;return a};a.yRange=function(b){if(!arguments.length)return N;N=b;return a};a.forceX=function(b){if(!arguments.length)return K;
K=b;return a};a.forceY=function(b){if(!arguments.length)return G;G=b;return a};a.padData=function(b){if(!arguments.length)return E;E=b;return a};a.clipEdge=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(b){if(!arguments.length)return D;D=u.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return r;r=b;return a};a.interactive=function(b){if(!arguments.length)return J;J=!1;return a};return a};u.models.bullet=function(){function a(n){n.each(function(a,n){var u=
q-b.left-b.right,D=K-b.top-b.bottom,G=d3.select(this),J=r.call(this,a,n).slice().sort(d3.descending),T=l.call(this,a,n).slice().sort(d3.descending),P=f.call(this,a,n).slice().sort(d3.descending),O=(a.rangeLabels?a.rangeLabels:[]).slice(),w=(a.markerLabels?a.markerLabels:[]).slice(),C=(a.measureLabels?a.measureLabels:[]).slice(),F=d3.scale.linear().domain(d3.extent(d3.merge([v,J]))).range(A?[u,0]:[0,u]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(F.range());this.__chart__=F;var u=
d3.min(J),t=d3.max(J),J=J[1],G=G.selectAll("g.nv-wrap.nv-bullet").data([a]),R=G.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),V=G.select("g");R.append("rect").attr("class","nv-range nv-rangeMax");R.append("rect").attr("class","nv-range nv-rangeAvg");R.append("rect").attr("class","nv-range nv-rangeMin");R.append("rect").attr("class","nv-measure");R.append("path").attr("class","nv-markerTriangle");G.attr("transform","translate("+b.left+","+b.top+")");var R=function(a){return Math.abs(F(a)-
F(0))},U=function(a){return 0>a?F(a):F(0)};V.select("rect.nv-rangeMax").attr("height",D).attr("width",R(0<t?t:u)).attr("x",U(0<t?t:u)).datum(0<t?t:u);V.select("rect.nv-rangeAvg").attr("height",D).attr("width",R(J)).attr("x",U(J)).datum(J);V.select("rect.nv-rangeMin").attr("height",D).attr("width",R(t)).attr("x",U(t)).attr("width",R(0<t?u:t)).attr("x",U(0<t?u:t)).datum(0<t?u:t);V.select("rect.nv-measure").style("fill",E).attr("height",D/3).attr("y",D/3).attr("width",0>P?F(0)-F(P[0]):F(P[0])-F(0)).attr("x",
U(P)).on("mouseover",function(){H.elementMouseover({value:P[0],label:C[0]||"Current",pos:[F(P[0]),D/2]})}).on("mouseout",function(){H.elementMouseout({value:P[0],label:C[0]||"Current"})});u=D/6;if(T[0])V.selectAll("path.nv-markerTriangle").attr("transform",function(a){return"translate("+F(T[0])+","+D/2+")"}).attr("d","M0,"+u+"L"+u+","+-u+" "+-u+","+-u+"Z").on("mouseover",function(){H.elementMouseover({value:T[0],label:w[0]||"Previous",pos:[F(T[0]),D/2]})}).on("mouseout",function(){H.elementMouseout({value:T[0],
label:w[0]||"Previous"})});else V.selectAll("path.nv-markerTriangle").remove();G.selectAll(".nv-range").on("mouseover",function(a,b){H.elementMouseover({value:a,label:O[b]||(b?1==b?"Mean":"Minimum":"Maximum"),pos:[F(a),D/2]})}).on("mouseout",function(a,b){H.elementMouseout({value:a,label:O[b]||(b?1==b?"Mean":"Minimum":"Maximum")})})});return a}var b={top:0,right:0,bottom:0,left:0},n="left",A=!1,r=function(a){return a.ranges},l=function(a){return a.markers},f=function(a){return a.measures},v=[0],q=
380,K=30,G=null,E=u.utils.getColor(["#1f77b4"]),H=d3.dispatch("elementMouseover","elementMouseout");a.dispatch=H;a.options=u.utils.optionsFunc.bind(a);a.orient=function(b){if(!arguments.length)return n;n=b;A="right"==n||"bottom"==n;return a};a.ranges=function(b){if(!arguments.length)return r;r=b;return a};a.markers=function(b){if(!arguments.length)return l;l=b;return a};a.measures=function(b){if(!arguments.length)return f;f=b;return a};a.forceX=function(b){if(!arguments.length)return v;v=b;return a};
a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return K;K=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.tickFormat=function(b){if(!arguments.length)return G;G=b;return a};a.color=function(b){if(!arguments.length)return E;
E=u.utils.getColor(b);return a};return a};u.models.bulletChart=function(){function a(n){n.each(function(B,N){var Q=d3.select(this),J=(q||parseInt(Q.style("width"))||960)-r.left-r.right,T=K-r.top-r.bottom,P=this;a.update=function(){a(n)};a.container=this;if(B&&l.call(this,B,N))Q.selectAll(".nv-noData").remove();else return Q=Q.selectAll(".nv-noData").data([D]),Q.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),Q.attr("x",r.left+J/2).attr("y",18+
r.top+T/2).text(function(a){return a}),a;var O=l.call(this,B,N).slice().sort(d3.descending),w=f.call(this,B,N).slice().sort(d3.descending),C=v.call(this,B,N).slice().sort(d3.descending),F=Q.selectAll("g.nv-wrap.nv-bulletChart").data([B]),t=F.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),Q=F.select("g");t.append("g").attr("class","nv-bulletWrap");t.append("g").attr("class","nv-titles");F.attr("transform","translate("+r.left+","+r.top+")");var R=d3.scale.linear().domain([0,
Math.max(O[0],w[0],C[0])]).range(A?[J,0]:[0,J]),V=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(R.range());this.__chart__=R;O=t.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(K-r.top-r.bottom)/2+")");O.append("text").attr("class","nv-title").text(function(a){return a.title});O.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(J).height(T);O=Q.select(".nv-bulletWrap");d3.transition(O).call(b);
var U=G||R.tickFormat(J/100),J=Q.selectAll("g.nv-tick").data(R.ticks(J/50),function(a){return this.textContent||U(a)}),Q=J.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+V(a)+",0)"}).style("opacity",1E-6);Q.append("line").attr("y1",T).attr("y2",7*T/6);Q.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*T/6).text(U);Q=d3.transition(J).attr("transform",function(a){return"translate("+R(a)+",0)"}).style("opacity",1);Q.select("line").attr("y1",
T).attr("y2",7*T/6);Q.select("text").attr("y",7*T/6);d3.transition(J.exit()).attr("transform",function(a){return"translate("+R(a)+",0)"}).style("opacity",1E-6).remove();M.on("tooltipShow",function(b){b.key=B.title;if(E){var f=P.parentNode,l=b.pos[0]+(f.offsetLeft||0)+r.left,k=b.pos[1]+(f.offsetTop||0)+r.top,t=H(b.key,b.label,b.value,b,a);u.tooltip.show([l,k],t,0>b.value?"e":"w",null,f)}})});d3.timer.flush();return a}var b=u.models.bullet(),n="left",A=!1,r={top:5,right:40,bottom:20,left:120},l=function(a){return a.ranges},
f=function(a){return a.markers},v=function(a){return a.measures},q=null,K=55,G=null,E=!0,H=function(a,b,f,l,n){return"<h3>"+b+"</h3><p>"+f+"</p>"},D="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide");b.dispatch.on("elementMouseover.tooltip",function(a){M.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){M.tooltipHide(a)});M.on("tooltipHide",function(){E&&u.tooltip.cleanup()});a.dispatch=M;a.bullet=b;d3.rebind(a,b,"color");a.options=u.utils.optionsFunc.bind(a);a.orient=
function(b){if(!arguments.length)return n;n=b;A="right"==n||"bottom"==n;return a};a.ranges=function(b){if(!arguments.length)return l;l=b;return a};a.markers=function(b){if(!arguments.length)return f;f=b;return a};a.measures=function(b){if(!arguments.length)return v;v=b;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return K;K=b;return a};a.margin=function(b){if(!arguments.length)return r;r.top="undefined"!=typeof b.top?b.top:r.top;
r.right="undefined"!=typeof b.right?b.right:r.right;r.bottom="undefined"!=typeof b.bottom?b.bottom:r.bottom;r.left="undefined"!=typeof b.left?b.left:r.left;return a};a.tickFormat=function(b){if(!arguments.length)return G;G=b;return a};a.tooltips=function(b){if(!arguments.length)return E;E=b;return a};a.tooltipContent=function(b){if(!arguments.length)return H;H=b;return a};a.noData=function(b){if(!arguments.length)return D;D=b;return a};return a};u.models.cumulativeLineChart=function(){function a(k){k.each(function(k){function I(){X.data([W]);
var b=a.transitionDuration();a.transitionDuration(0);a.update();a.transitionDuration(b)}var la=d3.select(this).classed("nv-chart-"+w,!0),ma=this,Y=(G||parseInt(la.style("width"))||960)-q.left-q.right,fa=(E||parseInt(la.style("height"))||400)-q.top-q.bottom;a.update=function(){la.transition().duration(U).call(a)};a.container=this;C.disabled=k.map(function(a){return!!a.disabled});if(!F){var ga;F={};for(ga in C)F[ga]=C[ga]instanceof Array?C[ga].slice(0):C[ga]}ga=d3.behavior.drag().on("dragstart",function(b,
k){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(a,b){W.x=d3.event.x;W.i=Math.round(aa.invert(W.x));I()}).on("dragend",function(b,k){d3.select(a.container).style("cursor","auto");C.index=W.i;V.stateChange(C)});if(k&&k.length&&k.filter(function(a){return a.values.length}).length)la.selectAll(".nv-noData").remove();else return ga=la.selectAll(".nv-noData").data([t]),ga.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ga.attr("x",
q.left+Y/2).attr("y",q.top+fa/2).text(function(a){return a}),a;P=n.xScale();O=n.yScale();if(J)n.yDomain(null);else{var da=k.filter(function(a){return!a.disabled}).map(function(a,b){var k=d3.extent(a.values,n.y());-.95>k[0]&&(k[0]=-.95);return[(k[0]-k[1])/(1+k[1]),(k[1]-k[0])/(1+k[0])]}),da=[d3.min(da,function(a){return a[0]}),d3.max(da,function(a){return a[1]})];n.yDomain(da)}aa.domain([0,k[0].values.length-1]).range([0,Y]).clamp(!0);k=b(W.i,k);var ba=Q?"none":"all",na=la.selectAll("g.nv-wrap.nv-cumulativeLine").data([k]),
ea=na.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),da=na.select("g");ea.append("g").attr("class","nv-interactive");ea.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");ea.append("g").attr("class","nv-y nv-axis");ea.append("g").attr("class","nv-background");ea.append("g").attr("class","nv-linesWrap").style("pointer-events",ba);ea.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");ea.append("g").attr("class","nv-legendWrap");
ea.append("g").attr("class","nv-controlsWrap");H&&(l.width(Y),da.select(".nv-legendWrap").datum(k).call(l),q.top!=l.height()&&(q.top=l.height(),fa=(E||parseInt(la.style("height"))||400)-q.top-q.bottom),da.select(".nv-legendWrap").attr("transform","translate(0,"+-q.top+")"));N&&(ba=[{key:"Re-scale y-axis",disabled:!J}],f.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),da.select(".nv-controlsWrap").datum(ba).attr("transform","translate(0,"+-q.top+")").call(f));
na.attr("transform","translate("+q.left+","+q.top+")");S&&da.select(".nv-y.nv-axis").attr("transform","translate("+Y+",0)");ba=k.filter(function(a){return a.tempDisabled});na.select(".tempDisabled").remove();ba.length&&na.append("text").attr("class","tempDisabled").attr("x",Y/2).attr("y","-.71em").style("text-anchor","end").text(ba.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");Q&&(v.width(Y).height(fa).margin({left:q.left,top:q.top}).svgContainer(la).xScale(P),
na.select(".nv-interactive").call(v));ea.select(".nv-background").append("rect");da.select(".nv-background rect").attr("width",Y).attr("height",fa);n.y(function(a){return a.display.y}).width(Y).height(fa).color(k.map(function(a,b){return a.color||K(a,b)}).filter(function(a,b){return!k[b].disabled&&!k[b].tempDisabled}));na=da.select(".nv-linesWrap").datum(k.filter(function(a){return!a.disabled&&!a.tempDisabled}));na.call(n);k.forEach(function(a,b){a.seriesIndex=b});ea=k.filter(function(a){return!a.disabled&&
!!R(a)});ea=da.select(".nv-avgLinesWrap").selectAll("line").data(ea,function(a){return a.key});ba=function(a){a=O(R(a));return 0>a?0:a>fa?fa:a};ea.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,b){return n.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",Y).attr("y1",ba).attr("y2",ba);ea.style("stroke-opacity",function(a){a=O(R(a));return 0>a||a>fa?0:1}).attr("x1",0).attr("x2",Y).attr("y1",ba).attr("y2",ba);ea.exit().remove();var X=na.selectAll(".nv-indexLine").data([W]);
X.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(ga);X.attr("transform",function(a){return"translate("+aa(a.i)+",0)"}).attr("height",fa);D&&(A.scale(P).ticks(Math.min(k[0].values.length,Y/70)).tickSize(-fa,0),da.select(".nv-x.nv-axis").attr("transform","translate(0,"+O.range()[0]+")"),d3.transition(da.select(".nv-x.nv-axis")).call(A));M&&(r.scale(O).ticks(fa/36).tickSize(-Y,0),d3.transition(da.select(".nv-y.nv-axis")).call(r));
da.select(".nv-background rect").on("click",function(){W.x=d3.mouse(this)[0];W.i=Math.round(aa.invert(W.x));C.index=W.i;V.stateChange(C);I()});n.dispatch.on("elementClick",function(a){W.i=a.pointIndex;W.x=aa(W.i);C.index=W.i;V.stateChange(C);I()});f.dispatch.on("legendClick",function(b,k){b.disabled=!b.disabled;J=!b.disabled;C.rescaleY=J;V.stateChange(C);a.update()});l.dispatch.on("stateChange",function(b){C.disabled=b.disabled;V.stateChange(C);a.update()});v.dispatch.on("elementMousemove",function(b){n.clearHighlights();
var f,l,t,w=[];k.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(k,y){l=u.interactiveBisect(k.values,b.pointXValue,a.x());n.highlightPoint(y,l,!0);var q=k.values[l];"undefined"!==typeof q&&("undefined"===typeof f&&(f=q),"undefined"===typeof t&&(t=a.xScale()(a.x()(q,l))),w.push({key:k.key,value:a.y()(q,l),color:K(k,k.seriesIndex)}))});if(2<w.length){var C=a.yScale().invert(b.mouseY),F=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),C=u.nearestValueIndex(w.map(function(a){return a.value}),
C,F);null!==C&&(w[C].highlight=!0)}C=A.tickFormat()(a.x()(f,l),l);v.tooltip.position({left:t+q.left,top:b.mouseY+q.top}).chartContainer(ma.parentNode).enabled(B).valueFormatter(function(a,b){return r.tickFormat()(a)}).data({value:C,series:w})();v.renderGuideLine(t)});v.dispatch.on("elementMouseout",function(a){V.tooltipHide();n.clearHighlights()});V.on("tooltipShow",function(b){if(B){var k=ma.parentNode,f=b.pos[0]+(k.offsetLeft||0),l=b.pos[1]+(k.offsetTop||0),t=A.tickFormat()(n.x()(b.point,b.pointIndex)),
y=r.tickFormat()(n.y()(b.point,b.pointIndex));b=T(b.series.key,t,y,b,a);u.tooltip.show([f,l],b,null,null,k)}});V.on("changeState",function(b){"undefined"!==typeof b.disabled&&(k.forEach(function(a,k){a.disabled=b.disabled[k]}),C.disabled=b.disabled);"undefined"!==typeof b.index&&(W.i=b.index,W.x=aa(W.i),C.index=b.index,X.data([W]));"undefined"!==typeof b.rescaleY&&(J=b.rescaleY);a.update()})});return a}function b(a,b){return b.map(function(b,f){if(!b.values)return b;var l=b.values[a];if(null==l)return b;
var t=n.y()(l,a);if(-.95>t&&!I)return b.tempDisabled=!0,b;b.tempDisabled=!1;b.values=b.values.map(function(a,b){a.display={y:(n.y()(a,b)-t)/(1+t)};return a});return b})}var n=u.models.line(),A=u.models.axis(),r=u.models.axis(),l=u.models.legend(),f=u.models.legend(),v=u.interactiveGuideline(),q={top:30,right:30,bottom:50,left:60},K=u.utils.defaultColor(),G=null,E=null,H=!0,D=!0,M=!0,S=!1,B=!0,N=!0,Q=!1,J=!0,T=function(a,b,f,l,t){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},P,O,w=n.id(),C={index:0,
rescaleY:J},F=null,t="No Data Available.",R=function(a){return a.average},V=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),U=250,I=!1;A.orient("bottom").tickPadding(7);r.orient(S?"right":"left");f.updateState(!1);var aa=d3.scale.linear(),W={i:0,x:0};n.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];V.tooltipShow(a)});n.dispatch.on("elementMouseout.tooltip",function(a){V.tooltipHide(a)});V.on("tooltipHide",function(){B&&u.tooltip.cleanup()});
a.dispatch=V;a.lines=n;a.legend=l;a.xAxis=A;a.yAxis=r;a.interactiveLayer=v;d3.rebind(a,n,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return q;q.top="undefined"!=typeof b.top?b.top:q.top;q.right="undefined"!=typeof b.right?b.right:q.right;q.bottom="undefined"!=typeof b.bottom?b.bottom:q.bottom;q.left=
"undefined"!=typeof b.left?b.left:q.left;return a};a.width=function(b){if(!arguments.length)return G;G=b;return a};a.height=function(b){if(!arguments.length)return E;E=b;return a};a.color=function(b){if(!arguments.length)return K;K=u.utils.getColor(b);l.color(K);return a};a.rescaleY=function(b){if(!arguments.length)return J;J=b;return a};a.showControls=function(b){if(!arguments.length)return N;N=b;return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return Q;Q=b;!0===b&&(a.interactive(!1),
a.useVoronoi(!1));return a};a.showLegend=function(b){if(!arguments.length)return H;H=b;return a};a.showXAxis=function(b){if(!arguments.length)return D;D=b;return a};a.showYAxis=function(b){if(!arguments.length)return M;M=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return S;S=b;r.orient(b?"right":"left");return a};a.tooltips=function(b){if(!arguments.length)return B;B=b;return a};a.tooltipContent=function(b){if(!arguments.length)return T;T=b;return a};a.state=function(b){if(!arguments.length)return C;
C=b;return a};a.defaultState=function(b){if(!arguments.length)return F;F=b;return a};a.noData=function(b){if(!arguments.length)return t;t=b;return a};a.average=function(b){if(!arguments.length)return R;R=b;return a};a.transitionDuration=function(b){if(!arguments.length)return U;U=b;return a};a.noErrorCheck=function(b){if(!arguments.length)return I;I=b;return a};return a};u.models.discreteBar=function(){function a(r){r.each(function(a){var r=n-b.left-b.right,w=A-b.top-b.bottom,u=d3.select(this);a.forEach(function(a,
b){a.values.forEach(function(a){a.series=b})});var F=D&&M?[]:a.map(function(a){return a.values.map(function(a,b){return{x:v(a,b),y:q(a,b),y0:a.y0}})});l.domain(D||d3.merge(F).map(function(a){return a.x})).rangeBands(S||[0,r],.1);f.domain(M||d3.extent(d3.merge(F).map(function(a){return a.y}).concat(K)));E?f.range(B||[w-(0>f.domain()[0]?12:0),0<f.domain()[1]?12:0]):f.range(B||[w,0]);J=J||f.copy().range([f(0),f(0)]);r=u.selectAll("g.nv-wrap.nv-discretebar").data([a]);w=r.enter().append("g").attr("class",
"nvd3 nv-wrap nv-discretebar").append("g");r.select("g");w.append("g").attr("class","nv-groups");r.attr("transform","translate("+b.left+","+b.top+")");r=r.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});r.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);r.exit().transition().style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();r.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});
r.transition().style("stroke-opacity",1).style("fill-opacity",.75);r=r.selectAll("g.nv-bar").data(function(a){return a.values});r.exit().remove();w=r.enter().append("g").attr("transform",function(a,b,n){return"translate("+(l(v(a,b))+.05*l.rangeBand())+", "+f(0)+")"}).on("mouseover",function(b,n){d3.select(this).classed("hover",!0);N.elementMouseover({value:q(b,n),point:b,series:a[b.series],pos:[l(v(b,n))+l.rangeBand()*(b.series+.5)/a.length,f(q(b,n))],pointIndex:n,seriesIndex:b.series,e:d3.event})}).on("mouseout",
function(b,f){d3.select(this).classed("hover",!1);N.elementMouseout({value:q(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,n){N.elementClick({value:q(b,n),point:b,series:a[b.series],pos:[l(v(b,n))+l.rangeBand()*(b.series+.5)/a.length,f(q(b,n))],pointIndex:n,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,n){N.elementDblClick({value:q(b,n),point:b,series:a[b.series],pos:[l(v(b,n))+l.rangeBand()*(b.series+
.5)/a.length,f(q(b,n))],pointIndex:n,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});w.append("rect").attr("height",0).attr("width",.9*l.rangeBand()/a.length);E?(w.append("text").attr("text-anchor","middle"),r.select("text").text(function(a,b){return H(q(a,b))}).transition().attr("x",.9*l.rangeBand()/2).attr("y",function(a,b){return 0>q(a,b)?f(q(a,b))-f(0)+12:-4})):r.selectAll("text").remove();r.attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":"nv-bar positive"}).style("fill",
function(a,b){return a.color||G(a,b)}).style("stroke",function(a,b){return a.color||G(a,b)}).select("rect").attr("class",Q).transition().attr("width",.9*l.rangeBand()/a.length);r.transition().attr("transform",function(a,b){var n=l(v(a,b))+.05*l.rangeBand(),r=0>q(a,b)?f(0):1>f(0)-f(q(a,b))?f(0)-1:f(q(a,b));return"translate("+n+", "+r+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(f(q(a,b))-f(M&&M[0]||0))||1)});l.copy();J=f.copy()});return a}var b={top:0,right:0,bottom:0,
left:0},n=960,A=500,r=Math.floor(1E4*Math.random()),l=d3.scale.ordinal(),f=d3.scale.linear(),v=function(a){return a.x},q=function(a){return a.y},K=[0],G=u.utils.defaultColor(),E=!1,H=d3.format(",.2f"),D,M,S,B,N=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),Q="discreteBar",J;a.dispatch=N;a.options=u.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return v;v=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=
function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;
return a};a.xDomain=function(b){if(!arguments.length)return D;D=b;return a};a.yDomain=function(b){if(!arguments.length)return M;M=b;return a};a.xRange=function(b){if(!arguments.length)return S;S=b;return a};a.yRange=function(b){if(!arguments.length)return B;B=b;return a};a.forceY=function(b){if(!arguments.length)return K;K=b;return a};a.color=function(b){if(!arguments.length)return G;G=u.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return r;r=b;return a};a.showValues=function(b){if(!arguments.length)return E;
E=b;return a};a.valueFormat=function(b){if(!arguments.length)return H;H=b;return a};a.rectClass=function(b){if(!arguments.length)return Q;Q=b;return a};return a};u.models.discreteBarChart=function(){function a(v){v.each(function(v){var J=d3.select(this),O=this,w=(l||parseInt(J.style("width"))||960)-r.left-r.right,C=(f||parseInt(J.style("height"))||400)-r.top-r.bottom;a.update=function(){N.beforeUpdate();J.transition().duration(Q).call(a)};a.container=this;if(v&&v.length&&v.filter(function(a){return a.values.length}).length)J.selectAll(".nv-noData").remove();
else return v=J.selectAll(".nv-noData").data([B]),v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",r.left+w/2).attr("y",r.top+C/2).text(function(a){return a}),a;M=b.xScale();S=b.yScale().clamp(!0);var F=J.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([v]),t=F.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),R=t.append("defs"),F=F.select("g");t.append("g").attr("class","nv-x nv-axis");t.append("g").attr("class",
"nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");t.append("g").attr("class","nv-barsWrap");F.attr("transform","translate("+r.left+","+r.top+")");G&&F.select(".nv-y.nv-axis").attr("transform","translate("+w+",0)");b.width(w).height(C);F.select(".nv-barsWrap").datum(v.filter(function(a){return!a.disabled})).transition().call(b);R.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");F.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",M.rangeBand()*(E?2:1)).attr("height",
16).attr("x",-M.rangeBand()/(E?1:2));q&&(n.scale(M).ticks(w/100).tickSize(-C,0),F.select(".nv-x.nv-axis").attr("transform","translate(0,"+(S.range()[0]+(b.showValues()&&0>S.domain()[0]?16:0))+")"),F.select(".nv-x.nv-axis").transition().call(n),v=F.select(".nv-x.nv-axis").selectAll("g"),E&&v.selectAll("text").attr("transform",function(a,b,f){return"translate(0,"+(0==f%2?"5":"17")+")"}));K&&(A.scale(S).ticks(C/36).tickSize(-w,0),F.select(".nv-y.nv-axis").transition().call(A));F.select(".nv-zeroLine line").attr("x1",
0).attr("x2",w).attr("y1",S(0)).attr("y2",S(0));N.on("tooltipShow",function(f){if(H){var l=O.parentNode,t=f.pos[0]+(l.offsetLeft||0),q=f.pos[1]+(l.offsetTop||0),r=n.tickFormat()(b.x()(f.point,f.pointIndex)),k=A.tickFormat()(b.y()(f.point,f.pointIndex)),r=D(f.series.key,r,k,f,a);u.tooltip.show([t,q],r,0>f.value?"n":"s",null,l)}})});return a}var b=u.models.discreteBar(),n=u.models.axis(),A=u.models.axis(),r={top:15,right:10,bottom:50,left:60},l=null,f=null,v=u.utils.getColor(),q=!0,K=!0,G=!1,E=!1,H=
!0,D=function(a,b,f,l,n){return"<h3>"+b+"</h3><p>"+f+"</p>"},M,S,B="No Data Available.",N=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),Q=250;n.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a});A.orient(G?"right":"left").tickFormat(d3.format(",.1f"));b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+r.left,a.pos[1]+r.top];N.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){N.tooltipHide(a)});N.on("tooltipHide",function(){H&&
u.tooltip.cleanup()});a.dispatch=N;a.discretebar=b;a.xAxis=n;a.yAxis=A;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return r;r.top="undefined"!=typeof b.top?b.top:r.top;r.right="undefined"!=typeof b.right?b.right:r.right;r.bottom="undefined"!=typeof b.bottom?b.bottom:r.bottom;r.left="undefined"!=typeof b.left?b.left:r.left;return a};a.width=function(b){if(!arguments.length)return l;
l=b;return a};a.height=function(b){if(!arguments.length)return f;f=b;return a};a.color=function(f){if(!arguments.length)return v;v=u.utils.getColor(f);b.color(v);return a};a.showXAxis=function(b){if(!arguments.length)return q;q=b;return a};a.showYAxis=function(b){if(!arguments.length)return K;K=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return G;G=b;A.orient(b?"right":"left");return a};a.staggerLabels=function(b){if(!arguments.length)return E;E=b;return a};a.tooltips=function(b){if(!arguments.length)return H;
H=b;return a};a.tooltipContent=function(b){if(!arguments.length)return D;D=b;return a};a.noData=function(b){if(!arguments.length)return B;B=b;return a};a.transitionDuration=function(b){if(!arguments.length)return Q;Q=b;return a};return a};u.models.distribution=function(){function a(n){n.each(function(a){var n="x"==r?"y":"x",u=d3.select(this);q=q||v;a=u.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");u=a.select("g");a.attr("transform",
"translate("+b.left+","+b.top+")");a=u.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return f(a,b)});u=a.selectAll("line.nv-dist"+r).data(function(a){return a.values});u.enter().append("line").attr(r+"1",function(a,b){return q(l(a,b))}).attr(r+"2",function(a,b){return q(l(a,b))});a.exit().selectAll("line.nv-dist"+r).transition().attr(r+"1",function(a,b){return v(l(a,
b))}).attr(r+"2",function(a,b){return v(l(a,b))}).style("stroke-opacity",0).remove();u.attr("class",function(a,b){return"nv-dist"+r+" nv-dist"+r+"-"+b}).attr(n+"1",0).attr(n+"2",A);u.transition().attr(r+"1",function(a,b){return v(l(a,b))}).attr(r+"2",function(a,b){return v(l(a,b))});q=v.copy()});return a}var b={top:0,right:0,bottom:0,left:0},n=400,A=8,r="x",l=function(a){return a[r]},f=u.utils.defaultColor(),v=d3.scale.linear(),q;a.options=u.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.axis=function(b){if(!arguments.length)return r;r=b;return a};a.size=function(b){if(!arguments.length)return A;A=b;return a};a.getData=function(b){if(!arguments.length)return l;l=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return v;
v=b;return a};a.color=function(b){if(!arguments.length)return f;f=u.utils.getColor(b);return a};return a};u.models.historicalBarChart=function(){function a(O){O.each(function(w){var C=d3.select(this),F=this,t=(v||parseInt(C.style("width"))||960)-l.left-l.right,R=(q||parseInt(C.style("height"))||400)-l.top-l.bottom;a.update=function(){C.transition().duration(P).call(a)};a.container=this;N.disabled=w.map(function(a){return!!a.disabled});if(!Q){var V;Q={};for(V in N)Q[V]=N[V]instanceof Array?N[V].slice(0):
N[V]}if(w&&w.length&&w.filter(function(a){return a.values.length}).length)C.selectAll(".nv-noData").remove();else return V=C.selectAll(".nv-noData").data([J]),V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",l.left+t/2).attr("y",l.top+R/2).text(function(a){return a}),a;S=b.xScale();B=b.yScale();var U=C.selectAll("g.nv-wrap.nv-historicalBarChart").data([w]);V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");
var I=U.select("g");V.append("g").attr("class","nv-x nv-axis");V.append("g").attr("class","nv-y nv-axis");V.append("g").attr("class","nv-barsWrap");V.append("g").attr("class","nv-legendWrap");K&&(r.width(t),I.select(".nv-legendWrap").datum(w).call(r),l.top!=r.height()&&(l.top=r.height(),R=(q||parseInt(C.style("height"))||400)-l.top-l.bottom),U.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")"));U.attr("transform","translate("+l.left+","+l.top+")");H&&I.select(".nv-y.nv-axis").attr("transform",
"translate("+t+",0)");b.width(t).height(R).color(w.map(function(a,b){return a.color||f(a,b)}).filter(function(a,b){return!w[b].disabled}));I.select(".nv-barsWrap").datum(w.filter(function(a){return!a.disabled})).transition().call(b);G&&(n.scale(S).tickSize(-R,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+B.range()[0]+")"),I.select(".nv-x.nv-axis").transition().call(n));E&&(A.scale(B).ticks(R/36).tickSize(-t,0),I.select(".nv-y.nv-axis").transition().call(A));r.dispatch.on("legendClick",
function(b,f){b.disabled=!b.disabled;w.filter(function(a){return!a.disabled}).length||w.map(function(a){a.disabled=!1;U.selectAll(".nv-series").classed("disabled",!1);return a});N.disabled=w.map(function(a){return!!a.disabled});T.stateChange(N);O.transition().call(a)});r.dispatch.on("legendDblclick",function(b){w.forEach(function(a){a.disabled=!0});b.disabled=!1;N.disabled=w.map(function(a){return!!a.disabled});T.stateChange(N);a.update()});T.on("tooltipShow",function(f){if(D){var l=F.parentNode;
if(l){var k=d3.select(l).select("svg"),t=k.node()?k.attr("viewBox"):null;t&&(t=t.split(" "),k=parseInt(k.style("width"))/t[2],f.pos[0]*=k,f.pos[1]*=k)}var k=f.pos[0]+(l.offsetLeft||0),t=f.pos[1]+(l.offsetTop||0),q=n.tickFormat()(b.x()(f.point,f.pointIndex)),r=A.tickFormat()(b.y()(f.point,f.pointIndex));f=M(f.series.key,q,r,f,a);u.tooltip.show([k,t],f,null,null,l)}});T.on("changeState",function(b){"undefined"!==typeof b.disabled&&(w.forEach(function(a,k){a.disabled=b.disabled[k]}),N.disabled=b.disabled);
a.update()})});return a}var b=u.models.historicalBar(),n=u.models.axis(),A=u.models.axis(),r=u.models.legend(),l={top:30,right:90,bottom:50,left:90},f=u.utils.defaultColor(),v=null,q=null,K=!1,G=!0,E=!0,H=!1,D=!0,M=function(a,b,f,l,t){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},S,B,N={},Q=null,J="No Data Available.",T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),P=250;n.orient("bottom").tickPadding(7);A.orient(H?"right":"left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=
[a.pos[0]+l.left,a.pos[1]+l.top];T.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){T.tooltipHide(a)});T.on("tooltipHide",function(){D&&u.tooltip.cleanup()});a.dispatch=T;a.bars=b;a.legend=r;a.xAxis=n;a.yAxis=A;d3.rebind(a,b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive");a.options=u.utils.optionsFunc.bind(a);a.margin=
function(b){if(!arguments.length)return l;l.top="undefined"!=typeof b.top?b.top:l.top;l.right="undefined"!=typeof b.right?b.right:l.right;l.bottom="undefined"!=typeof b.bottom?b.bottom:l.bottom;l.left="undefined"!=typeof b.left?b.left:l.left;return a};a.width=function(b){if(!arguments.length)return v;v=b;return a};a.height=function(b){if(!arguments.length)return q;q=b;return a};a.color=function(b){if(!arguments.length)return f;f=u.utils.getColor(b);r.color(f);return a};a.showLegend=function(b){if(!arguments.length)return K;
K=b;return a};a.showXAxis=function(b){if(!arguments.length)return G;G=b;return a};a.showYAxis=function(b){if(!arguments.length)return E;E=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return H;H=b;A.orient(b?"right":"left");return a};a.tooltips=function(b){if(!arguments.length)return D;D=b;return a};a.tooltipContent=function(b){if(!arguments.length)return M;M=b;return a};a.state=function(b){if(!arguments.length)return N;N=b;return a};a.defaultState=function(b){if(!arguments.length)return Q;
Q=b;return a};a.noData=function(b){if(!arguments.length)return J;J=b;return a};a.transitionDuration=function(b){if(!arguments.length)return P;P=b;return a};return a};u.models.indentedTree=function(){function a(b){b.each(function(b){function l(b,f,t){d3.event.stopPropagation();if(d3.event.shiftKey&&!t)return d3.event.shiftKey=!1,b.values&&b.values.forEach(function(a){(a.values||a._values)&&l(a,0,!0)}),!0;if(!u(b))return!0;b.values?(b._values=b.values,b.values=null):(b.values=b._values,b._values=null);
a.update()}function n(a){return a._values&&a._values.length?E:a.values&&a.values.length?H:""}function r(a){return a._values&&a._values.length}function u(a){return(a=a.values||a._values)&&a.length}var B=1,w=d3.select(this),C=d3.layout.tree().children(function(a){return a.values}).size([A,20]);a.update=function(){w.transition().duration(600).call(a)};b[0]||(b[0]={key:q});var B=C.nodes(b[0]),F=d3.select(this).selectAll("div").data([[B]]);b=F.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table");
F=F.select("table").attr("width","100%").attr("class",G);if(f){var t=b.append("thead").append("tr");K.forEach(function(a){t.append("th").attr("width",a.width?a.width:"10%").style("text-align","numeric"==a.type?"right":"left").append("span").text(a.label)})}b=F.selectAll("tbody").data(function(a){return a});b.enter().append("tbody");B=d3.max(B,function(a){return a.depth});C.size([A,20*B]);var R=b.selectAll("tr").data(function(a){return a.filter(function(a){return v&&!a.children?v(a):!0})},function(a,
b){return a.id||a.id||++S});R.exit().remove();R.select("img.nv-treeicon").attr("src",n).classed("folded",r);var V=R.enter().append("tr");K.forEach(function(a,b){var f=V.append("td").style("padding-left",function(a){return(b?0:20*a.depth+12+(n(a)?0:16))+"px"},"important").style("text-align","numeric"==a.type?"right":"left");if(0==b)f.append("img").classed("nv-treeicon",!0).classed("nv-folded",r).attr("src",n).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(a){return n(a)?
"inline-block":"none"}).on("click",l);f.each(function(f){!b&&M(f)?d3.select(this).append("a").attr("href",M).attr("class",d3.functor(a.classes)).append("span"):d3.select(this).append("span");d3.select(this).select("span").attr("class",d3.functor(a.classes)).text(function(b){return a.format?b[a.key]?a.format(b[a.key]):"-":b[a.key]||"-"})});a.showCount&&(f.append("span").attr("class","nv-childrenCount"),R.selectAll("span.nv-childrenCount").text(function(a){return a.values&&a.values.length||a._values&&
a._values.length?"("+(a.values&&a.values.filter(function(a){return v?v(a):!0}).length||a._values&&a._values.filter(function(a){return v?v(a):!0}).length||0)+")":""}))});R.order().on("click",function(a){D.elementClick({row:this,data:a,pos:[a.x,a.y]})}).on("dblclick",function(a){D.elementDblclick({row:this,data:a,pos:[a.x,a.y]})}).on("mouseover",function(a){D.elementMouseover({row:this,data:a,pos:[a.x,a.y]})}).on("mouseout",function(a){D.elementMouseout({row:this,data:a,pos:[a.x,a.y]})})});return a}
var b={top:0,right:0,bottom:0,left:0},n=960,A=500,r=u.utils.defaultColor(),l=Math.floor(1E4*Math.random()),f=!0,v=!1,q="No Data Available.",K=[{key:"key",label:"Name",type:"text"}],G=null,E="images/grey-plus.png",H="images/grey-minus.png",D=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),M=function(a){return a.url},S=0;a.options=u.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=
typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.color=function(b){if(!arguments.length)return r;r=u.utils.getColor(b);scatter.color(r);return a};a.id=function(b){if(!arguments.length)return l;l=b;return a};a.header=function(b){if(!arguments.length)return f;f=b;return a};a.noData=
function(b){if(!arguments.length)return q;q=b;return a};a.filterZero=function(b){if(!arguments.length)return v;v=b;return a};a.columns=function(b){if(!arguments.length)return K;K=b;return a};a.tableClass=function(b){if(!arguments.length)return G;G=b;return a};a.iconOpen=function(b){if(!arguments.length)return E;E=b;return a};a.iconClose=function(b){if(!arguments.length)return H;H=b;return a};a.getUrl=function(b){if(!arguments.length)return M;M=b;return a};return a};u.models.legend=function(){function a(E){E.each(function(a){var D=
n-b.left-b.right,E=d3.select(this).selectAll("g.nv-legend").data([a]);E.enter().append("g").attr("class","nvd3 nv-legend").append("g");var S=E.select("g");E.attr("transform","translate("+b.left+","+b.top+")");var E=S.selectAll(".nv-series").data(function(a){return a}),B=E.enter().append("g").attr("class","nv-series").on("mouseover",function(a,b){G.legendMouseover(a,b)}).on("mouseout",function(a,b){G.legendMouseout(a,b)}).on("click",function(b,f){G.legendClick(b,f);q&&(K?(a.forEach(function(a){a.disabled=
!0}),b.disabled=!1):(b.disabled=!b.disabled,a.every(function(a){return a.disabled})&&a.forEach(function(a){a.disabled=!1})),G.stateChange({disabled:a.map(function(a){return!!a.disabled})}))}).on("dblclick",function(b,f){G.legendDblclick(b,f);q&&(a.forEach(function(a){a.disabled=!0}),b.disabled=!1,G.stateChange({disabled:a.map(function(a){return!!a.disabled})}))});B.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);B.append("text").attr("text-anchor","start").attr("class",
"nv-legend-text").attr("dy",".32em").attr("dx","8");E.classed("disabled",function(a){return a.disabled});E.exit().remove();E.select("circle").style("fill",function(a,b){return a.color||l(a,b)}).style("stroke",function(a,b){return a.color||l(a,b)});E.select("text").text(r);if(f){var N=[];E.each(function(a,b){var f=d3.select(this).select("text"),l;try{if(l=f.getComputedTextLength(),0>=l)throw Error();}catch(n){l=u.utils.calcApproxTextWidth(f)}N.push(l+28)});for(var Q=0,J=0,B=[];J<D&&Q<N.length;)B[Q]=
N[Q],J+=N[Q++];for(0===Q&&(Q=1);J>D&&1<Q;){B=[];Q--;for(J=0;J<N.length;J++)N[J]>(B[J%Q]||0)&&(B[J%Q]=N[J]);J=B.reduce(function(a,b,f,l){return a+b})}for(var T=[],P=D=0;D<Q;D++)T[D]=P,P+=B[D];E.attr("transform",function(a,b){return"translate("+T[b%Q]+","+(5+20*Math.floor(b/Q))+")"});v?S.attr("transform","translate("+(n-b.right-J)+","+b.top+")"):S.attr("transform","translate(0,"+b.top+")");A=b.top+b.bottom+20*Math.ceil(N.length/Q)}else{var O=5,w=5,C=0,F;E.attr("transform",function(a,f){var l=d3.select(this).select("text").node().getComputedTextLength()+
28;F=w;n<b.left+b.right+F+l&&(w=F=5,O+=20);w+=l;w>C&&(C=w);return"translate("+F+","+O+")"});S.attr("transform","translate("+(n-b.right-C)+","+b.top+")");A=b.top+b.bottom+O+15}});return a}var b={top:5,right:0,bottom:5,left:0},n=400,A=20,r=function(a){return a.key},l=u.utils.defaultColor(),f=!0,v=!0,q=!0,K=!1,G=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");a.dispatch=G;a.options=u.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.key=function(b){if(!arguments.length)return r;r=b;return a};a.color=function(b){if(!arguments.length)return l;l=u.utils.getColor(b);return a};a.align=function(b){if(!arguments.length)return f;
f=b;return a};a.rightAlign=function(b){if(!arguments.length)return v;v=b;return a};a.updateState=function(b){if(!arguments.length)return q;q=b;return a};a.radioButtonMode=function(b){if(!arguments.length)return K;K=b;return a};return a};u.models.line=function(){function a(B){B.each(function(a){var B=A-n.left-n.right,J=r-n.top-n.bottom,T=d3.select(this);E=b.xScale();H=b.yScale();M=M||E;S=S||H;a=T.selectAll("g.nv-wrap.nv-line").data([a]);var P=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),
T=P.append("defs"),O=P.append("g"),P=a.select("g");O.append("g").attr("class","nv-groups");O.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+n.left+","+n.top+")");b.width(B).height(J);O=a.select(".nv-scatterWrap");O.transition().call(b);T.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",B).attr("height",0<J?J:0);P.attr("clip-path",G?"url(#nv-edge-clip-"+b.id()+")":"");O.attr("clip-path",G?"url(#nv-edge-clip-"+
b.id()+")":"");B=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});B.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);B.exit().remove();B.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return l(a,b)}).style("stroke",function(a,b){return l(a,b)});B.transition().style("stroke-opacity",1).style("fill-opacity",.5);J=B.selectAll("path.nv-area").data(function(a){return K(a)?
[a]:[]});J.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(D).defined(q).x(function(a,b){return u.utils.NaNtoZero(M(f(a,b)))}).y0(function(a,b){return u.utils.NaNtoZero(S(v(a,b)))}).y1(function(a,b){return S(0>=H.domain()[0]?0<=H.domain()[1]?0:H.domain()[1]:H.domain()[0])}).apply(this,[a.values])});B.exit().selectAll("path.nv-area").remove();J.transition().attr("d",function(a){return d3.svg.area().interpolate(D).defined(q).x(function(a,b){return u.utils.NaNtoZero(E(f(a,
b)))}).y0(function(a,b){return u.utils.NaNtoZero(H(v(a,b)))}).y1(function(a,b){return H(0>=H.domain()[0]?0<=H.domain()[1]?0:H.domain()[1]:H.domain()[0])}).apply(this,[a.values])});B=B.selectAll("path.nv-line").data(function(a){return[a.values]});B.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(D).defined(q).x(function(a,b){return u.utils.NaNtoZero(M(f(a,b)))}).y(function(a,b){return u.utils.NaNtoZero(S(v(a,b)))}));B.transition().attr("d",d3.svg.line().interpolate(D).defined(q).x(function(a,
b){return u.utils.NaNtoZero(E(f(a,b)))}).y(function(a,b){return u.utils.NaNtoZero(H(v(a,b)))}));M=E.copy();S=H.copy()});return a}var b=u.models.scatter(),n={top:0,right:0,bottom:0,left:0},A=960,r=500,l=u.utils.defaultColor(),f=function(a){return a.x},v=function(a){return a.y},q=function(a,b){return!isNaN(v(a,b))&&null!==v(a,b)},K=function(a){return a.area},G=!1,E,H,D="linear";b.size(16).sizeDomain([16,256]);var M,S;a.dispatch=b.dispatch;a.scatter=b;d3.rebind(a,b,"id","interactive","size","xScale",
"yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return n;n.top="undefined"!=typeof b.top?b.top:n.top;n.right="undefined"!=typeof b.right?b.right:n.right;n.bottom="undefined"!=typeof b.bottom?b.bottom:n.bottom;n.left="undefined"!=typeof b.left?b.left:n.left;return a};a.width=function(b){if(!arguments.length)return A;
A=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.x=function(l){if(!arguments.length)return f;f=l;b.x(l);return a};a.y=function(f){if(!arguments.length)return v;v=f;b.y(f);return a};a.clipEdge=function(b){if(!arguments.length)return G;G=b;return a};a.color=function(f){if(!arguments.length)return l;l=u.utils.getColor(f);b.color(l);return a};a.interpolate=function(b){if(!arguments.length)return D;D=b;return a};a.defined=function(b){if(!arguments.length)return q;q=b;return a};
a.isArea=function(b){if(!arguments.length)return K;K=d3.functor(b);return a};return a};u.models.lineChart=function(){function a(C){C.each(function(C){var t=d3.select(this),R=this,V=(q||parseInt(t.style("width"))||960)-f.left-f.right,U=(K||parseInt(t.style("height"))||400)-f.top-f.bottom;a.update=function(){t.transition().duration(w).call(a)};a.container=this;J.disabled=C.map(function(a){return!!a.disabled});if(!T){var I;T={};for(I in J)T[I]=J[I]instanceof Array?J[I].slice(0):J[I]}if(C&&C.length&&
C.filter(function(a){return a.values.length}).length)t.selectAll(".nv-noData").remove();else return I=t.selectAll(".nv-noData").data([P]),I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",f.left+V/2).attr("y",f.top+U/2).text(function(a){return a}),a;N=b.xScale();Q=b.yScale();I=t.selectAll("g.nv-wrap.nv-lineChart").data([C]);var aa=I.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),W=I.select("g");aa.append("rect").style("opacity",
0);aa.append("g").attr("class","nv-x nv-axis");aa.append("g").attr("class","nv-y nv-axis");aa.append("g").attr("class","nv-linesWrap");aa.append("g").attr("class","nv-legendWrap");aa.append("g").attr("class","nv-interactive");W.select("rect").attr("width",V).attr("height",0<U?U:0);G&&(r.width(V),W.select(".nv-legendWrap").datum(C).call(r),f.top!=r.height()&&(f.top=r.height(),U=(K||parseInt(t.style("height"))||400)-f.top-f.bottom),I.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")"));
I.attr("transform","translate("+f.left+","+f.top+")");D&&W.select(".nv-y.nv-axis").attr("transform","translate("+V+",0)");M&&(l.width(V).height(U).margin({left:f.left,top:f.top}).svgContainer(t).xScale(N),I.select(".nv-interactive").call(l));b.width(V).height(U).color(C.map(function(a,b){return a.color||v(a,b)}).filter(function(a,b){return!C[b].disabled}));W.select(".nv-linesWrap").datum(C.filter(function(a){return!a.disabled})).transition().call(b);E&&(n.scale(N).ticks(V/100).tickSize(-U,0),W.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+Q.range()[0]+")"),W.select(".nv-x.nv-axis").transition().call(n));H&&(A.scale(Q).ticks(U/36).tickSize(-V,0),W.select(".nv-y.nv-axis").transition().call(A));r.dispatch.on("stateChange",function(b){J=b;O.stateChange(J);a.update()});l.dispatch.on("elementMousemove",function(k){b.clearHighlights();var t,q,r,w=[];C.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(f,l){q=u.interactiveBisect(f.values,k.pointXValue,a.x());b.highlightPoint(l,q,!0);var n=f.values[q];
"undefined"!==typeof n&&("undefined"===typeof t&&(t=n),"undefined"===typeof r&&(r=a.xScale()(a.x()(n,q))),w.push({key:f.key,value:a.y()(n,q),color:v(f,f.seriesIndex)}))});if(2<w.length){var I=a.yScale().invert(k.mouseY),B=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),I=u.nearestValueIndex(w.map(function(a){return a.value}),I,B);null!==I&&(w[I].highlight=!0)}I=n.tickFormat()(a.x()(t,q));l.tooltip.position({left:r+f.left,top:k.mouseY+f.top}).chartContainer(R.parentNode).enabled(S).valueFormatter(function(a,
b){return A.tickFormat()(a)}).data({value:I,series:w})();l.renderGuideLine(r)});l.dispatch.on("elementMouseout",function(a){O.tooltipHide();b.clearHighlights()});O.on("tooltipShow",function(f){if(S){var l=R.parentNode,t=f.pos[0]+(l.offsetLeft||0),q=f.pos[1]+(l.offsetTop||0),r=n.tickFormat()(b.x()(f.point,f.pointIndex)),w=A.tickFormat()(b.y()(f.point,f.pointIndex));f=B(f.series.key,r,w,f,a);u.tooltip.show([t,q],f,null,null,l)}});O.on("changeState",function(b){"undefined"!==typeof b.disabled&&C.length===
b.disabled.length&&(C.forEach(function(a,f){a.disabled=b.disabled[f]}),J.disabled=b.disabled);a.update()})});return a}var b=u.models.line(),n=u.models.axis(),A=u.models.axis(),r=u.models.legend(),l=u.interactiveGuideline(),f={top:30,right:20,bottom:50,left:60},v=u.utils.defaultColor(),q=null,K=null,G=!0,E=!0,H=!0,D=!1,M=!1,S=!0,B=function(a,b,f,l,n){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},N,Q,J={},T=null,P="No Data Available.",O=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),
w=250;n.orient("bottom").tickPadding(7);A.orient(D?"right":"left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];O.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){O.tooltipHide(a)});O.on("tooltipHide",function(){S&&u.tooltip.cleanup()});a.dispatch=O;a.lines=b;a.legend=r;a.xAxis=n;a.yAxis=A;a.interactiveLayer=l;d3.rebind(a,b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY",
"interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.right="undefined"!=typeof b.right?b.right:f.right;f.bottom="undefined"!=typeof b.bottom?b.bottom:f.bottom;f.left="undefined"!=typeof b.left?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return K;K=b;return a};a.color=
function(b){if(!arguments.length)return v;v=u.utils.getColor(b);r.color(v);return a};a.showLegend=function(b){if(!arguments.length)return G;G=b;return a};a.showXAxis=function(b){if(!arguments.length)return E;E=b;return a};a.showYAxis=function(b){if(!arguments.length)return H;H=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return D;D=b;A.orient(b?"right":"left");return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return M;M=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1));
return a};a.tooltips=function(b){if(!arguments.length)return S;S=b;return a};a.tooltipContent=function(b){if(!arguments.length)return B;B=b;return a};a.state=function(b){if(!arguments.length)return J;J=b;return a};a.defaultState=function(b){if(!arguments.length)return T;T=b;return a};a.noData=function(b){if(!arguments.length)return P;P=b;return a};a.transitionDuration=function(b){if(!arguments.length)return w;w=b;return a};return a};u.models.linePlusBarChart=function(){function a(w){w.each(function(w){var F=
d3.select(this),t=this,R=(q||parseInt(F.style("width"))||960)-v.left-v.right,E=(K||parseInt(F.style("height"))||400)-v.top-v.bottom;a.update=function(){F.transition().call(a)};J.disabled=w.map(function(a){return!!a.disabled});if(!T){var G;T={};for(G in J)T[G]=J[G]instanceof Array?J[G].slice(0):J[G]}if(w&&w.length&&w.filter(function(a){return a.values.length}).length)F.selectAll(".nv-noData").remove();else return G=F.selectAll(".nv-noData").data([P]),G.enter().append("text").attr("class","nvd3 nv-noData").attr("dy",
"-.7em").style("text-anchor","middle"),G.attr("x",v.left+R/2).attr("y",v.top+E/2).text(function(a){return a}),a;G=w.filter(function(a){return!a.disabled&&a.bar});var I=w.filter(function(a){return!a.bar});B=I.filter(function(a){return!a.disabled}).length&&I.filter(function(a){return!a.disabled})[0].values.length?b.xScale():n.xScale();N=n.yScale();Q=b.yScale();var aa=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([w]),W=aa.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),
k=aa.select("g");W.append("g").attr("class","nv-x nv-axis");W.append("g").attr("class","nv-y1 nv-axis");W.append("g").attr("class","nv-y2 nv-axis");W.append("g").attr("class","nv-barsWrap");W.append("g").attr("class","nv-linesWrap");W.append("g").attr("class","nv-legendWrap");D&&(f.width(R/2),k.select(".nv-legendWrap").datum(w.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");return a})).call(f),v.top!=f.height()&&(v.top=
f.height(),E=(K||parseInt(F.style("height"))||400)-v.top-v.bottom),k.select(".nv-legendWrap").attr("transform","translate("+R/2+","+-v.top+")"));aa.attr("transform","translate("+v.left+","+v.top+")");b.width(R).height(E).color(w.map(function(a,b){return a.color||H(a,b)}).filter(function(a,b){return!w[b].disabled&&!w[b].bar}));n.width(R).height(E).color(w.map(function(a,b){return a.color||H(a,b)}).filter(function(a,b){return!w[b].disabled&&w[b].bar}));aa=k.select(".nv-barsWrap").datum(G.length?G:[{values:[]}]);
W=k.select(".nv-linesWrap").datum(I[0]&&!I[0].disabled?I:[{values:[]}]);d3.transition(aa).call(n);d3.transition(W).call(b);A.scale(B).ticks(R/100).tickSize(-E,0);k.select(".nv-x.nv-axis").attr("transform","translate(0,"+N.range()[0]+")");d3.transition(k.select(".nv-x.nv-axis")).call(A);r.scale(N).ticks(E/36).tickSize(-R,0);d3.transition(k.select(".nv-y1.nv-axis")).style("opacity",G.length?1:0).call(r);l.scale(Q).ticks(E/36).tickSize(G.length?0:-R,0);k.select(".nv-y2.nv-axis").style("opacity",I.length?
1:0).attr("transform","translate("+R+",0)");d3.transition(k.select(".nv-y2.nv-axis")).call(l);f.dispatch.on("stateChange",function(b){J=b;O.stateChange(J);a.update()});O.on("tooltipShow",function(f){if(M){var k=t.parentNode,n=f.pos[0]+(k.offsetLeft||0),q=f.pos[1]+(k.offsetTop||0),w=A.tickFormat()(b.x()(f.point,f.pointIndex)),F=(f.series.bar?r:l).tickFormat()(b.y()(f.point,f.pointIndex)),w=S(f.series.key,w,F,f,a);u.tooltip.show([n,q],w,0>f.value?"n":"s",null,k)}});O.on("changeState",function(b){"undefined"!==
typeof b.disabled&&(w.forEach(function(a,f){a.disabled=b.disabled[f]}),J.disabled=b.disabled);a.update()})});return a}var b=u.models.line(),n=u.models.historicalBar(),A=u.models.axis(),r=u.models.axis(),l=u.models.axis(),f=u.models.legend(),v={top:30,right:60,bottom:50,left:60},q=null,K=null,G=function(a){return a.x},E=function(a){return a.y},H=u.utils.defaultColor(),D=!0,M=!0,S=function(a,b,f,l,n){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},B,N,Q,J={},T=null,P="No Data Available.",O=d3.dispatch("tooltipShow",
"tooltipHide","stateChange","changeState");n.padData(!0);b.clipEdge(!1).padData(!0);A.orient("bottom").tickPadding(7).highlightZero(!1);r.orient("left");l.orient("right");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+v.left,a.pos[1]+v.top];O.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){O.tooltipHide(a)});n.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+v.left,a.pos[1]+v.top];O.tooltipShow(a)});n.dispatch.on("elementMouseout.tooltip",
function(a){O.tooltipHide(a)});O.on("tooltipHide",function(){M&&u.tooltip.cleanup()});a.dispatch=O;a.legend=f;a.lines=b;a.bars=n;a.xAxis=A;a.y1Axis=r;a.y2Axis=l;d3.rebind(a,b,"defined","size","clipVoronoi","interpolate");a.options=u.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return G;G=f;b.x(f);n.x(f);return a};a.y=function(f){if(!arguments.length)return E;E=f;b.y(f);n.y(f);return a};a.margin=function(b){if(!arguments.length)return v;v.top="undefined"!=typeof b.top?b.top:v.top;
v.right="undefined"!=typeof b.right?b.right:v.right;v.bottom="undefined"!=typeof b.bottom?b.bottom:v.bottom;v.left="undefined"!=typeof b.left?b.left:v.left;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return K;K=b;return a};a.color=function(b){if(!arguments.length)return H;H=u.utils.getColor(b);f.color(H);return a};a.showLegend=function(b){if(!arguments.length)return D;D=b;return a};a.tooltips=function(b){if(!arguments.length)return M;
M=b;return a};a.tooltipContent=function(b){if(!arguments.length)return S;S=b;return a};a.state=function(b){if(!arguments.length)return J;J=b;return a};a.defaultState=function(b){if(!arguments.length)return T;T=b;return a};a.noData=function(b){if(!arguments.length)return P;P=b;return a};return a};u.models.lineWithFocusChart=function(){function a(t){t.each(function(t){function V(){q.empty()||q.extent(T);fa.data([q.empty()?N.domain():T]).each(function(a,b){var f=N(a[0])-S.range()[0],k=S.range()[1]-N(a[1]);
d3.select(this).select(".left").attr("width",0>f?0:f);d3.select(this).select(".right").attr("x",N(a[1])).attr("width",0>k?0:k)})}function U(){T=q.empty()?null:q.extent();var a=q.empty()?N.domain():q.extent();1>=Math.abs(a[0]-a[1])||(C.brush({extent:a,brush:q}),V(),ma.select(".nv-focus .nv-linesWrap").datum(t.filter(function(a){return!a.disabled}).map(function(f,k){return{key:f.key,values:f.values.filter(function(f,k){return b.x()(f,k)>=a[0]&&b.x()(f,k)<=a[1]})}})).transition().duration(F).call(b),
ma.select(".nv-focus .nv-x.nv-axis").transition().duration(F).call(A),ma.select(".nv-focus .nv-y.nv-axis").transition().duration(F).call(r))}var I=d3.select(this),aa=this,W=(H||parseInt(I.style("width"))||960)-K.left-K.right,k=(D||parseInt(I.style("height"))||400)-K.top-K.bottom-M,y=M-G.top-G.bottom;a.update=function(){I.transition().duration(F).call(a)};a.container=this;if(t&&t.length&&t.filter(function(a){return a.values.length}).length)I.selectAll(".nv-noData").remove();else{var ka=I.selectAll(".nv-noData").data([w]);
ka.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");ka.attr("x",K.left+W/2).attr("y",K.top+k/2).text(function(a){return a});return a}S=b.xScale();B=b.yScale();N=n.xScale();Q=n.yScale();var ka=I.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([t]),la=ka.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),ma=ka.select("g");la.append("g").attr("class","nv-legendWrap");var Y=la.append("g").attr("class","nv-focus");
Y.append("g").attr("class","nv-x nv-axis");Y.append("g").attr("class","nv-y nv-axis");Y.append("g").attr("class","nv-linesWrap");la=la.append("g").attr("class","nv-context");la.append("g").attr("class","nv-x nv-axis");la.append("g").attr("class","nv-y nv-axis");la.append("g").attr("class","nv-linesWrap");la.append("g").attr("class","nv-brushBackground");la.append("g").attr("class","nv-x nv-brush");J&&(v.width(W),ma.select(".nv-legendWrap").datum(t).call(v),K.top!=v.height()&&(K.top=v.height(),k=(D||
parseInt(I.style("height"))||400)-K.top-K.bottom-M),ma.select(".nv-legendWrap").attr("transform","translate(0,"+-K.top+")"));ka.attr("transform","translate("+K.left+","+K.top+")");b.width(W).height(k).color(t.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!t[b].disabled}));n.defined(b.defined()).width(W).height(y).color(t.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!t[b].disabled}));ma.select(".nv-context").attr("transform","translate(0,"+(k+K.bottom+
G.top)+")");ka=ma.select(".nv-context .nv-linesWrap").datum(t.filter(function(a){return!a.disabled}));d3.transition(ka).call(n);A.scale(S).ticks(W/100).tickSize(-k,0);r.scale(B).ticks(k/36).tickSize(-W,0);ma.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+k+")");q.x(N).on("brush",function(){var b=a.transitionDuration();a.transitionDuration(0);U();a.transitionDuration(b)});T&&q.extent(T);var fa=ma.select(".nv-brushBackground").selectAll("g").data([T||q.extent()]),k=fa.enter().append("g");
k.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",y);k.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",y);k=ma.select(".nv-x.nv-brush").call(q);k.selectAll("rect").attr("height",y);k.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,f=y/3;return"M"+.5*b+","+f+"A6,6 0 0 "+a+" "+6.5*b+","+(f+6)+"V"+(2*f-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*f+"ZM"+2.5*b+","+(f+8)+"V"+(2*f-8)+"M"+4.5*b+","+(f+8)+"V"+(2*f-8)});U();l.scale(N).ticks(W/
100).tickSize(-y,0);ma.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+Q.range()[0]+")");d3.transition(ma.select(".nv-context .nv-x.nv-axis")).call(l);f.scale(Q).ticks(y/36).tickSize(-W,0);d3.transition(ma.select(".nv-context .nv-y.nv-axis")).call(f);ma.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+Q.range()[0]+")");v.dispatch.on("stateChange",function(b){a.update()});C.on("tooltipShow",function(f){if(P){var k=aa.parentNode,l=f.pos[0]+(k.offsetLeft||0),n=
f.pos[1]+(k.offsetTop||0),t=A.tickFormat()(b.x()(f.point,f.pointIndex)),q=r.tickFormat()(b.y()(f.point,f.pointIndex));f=O(f.series.key,t,q,f,a);u.tooltip.show([l,n],f,null,null,k)}})});return a}var b=u.models.line(),n=u.models.line(),A=u.models.axis(),r=u.models.axis(),l=u.models.axis(),f=u.models.axis(),v=u.models.legend(),q=d3.svg.brush(),K={top:30,right:30,bottom:30,left:60},G={top:0,right:30,bottom:20,left:60},E=u.utils.defaultColor(),H=null,D=null,M=100,S,B,N,Q,J=!0,T=null,P=!0,O=function(a,
b,f,l,n){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},w="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","brush"),F=250;b.clipEdge(!0);n.interactive(!1);A.orient("bottom").tickPadding(5);r.orient("left");l.orient("bottom").tickPadding(5);f.orient("left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+K.left,a.pos[1]+K.top];C.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){C.tooltipHide(a)});C.on("tooltipHide",function(){P&&u.tooltip.cleanup()});
a.dispatch=C;a.legend=v;a.lines=b;a.lines2=n;a.xAxis=A;a.yAxis=r;a.x2Axis=l;a.y2Axis=f;d3.rebind(a,b,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id");a.options=u.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return b.x;b.x(f);n.x(f);return a};a.y=function(f){if(!arguments.length)return b.y;b.y(f);n.y(f);return a};a.margin=function(b){if(!arguments.length)return K;K.top="undefined"!=typeof b.top?b.top:K.top;
K.right="undefined"!=typeof b.right?b.right:K.right;K.bottom="undefined"!=typeof b.bottom?b.bottom:K.bottom;K.left="undefined"!=typeof b.left?b.left:K.left;return a};a.margin2=function(b){if(!arguments.length)return G;G=b;return a};a.width=function(b){if(!arguments.length)return H;H=b;return a};a.height=function(b){if(!arguments.length)return D;D=b;return a};a.height2=function(b){if(!arguments.length)return M;M=b;return a};a.color=function(b){if(!arguments.length)return E;E=u.utils.getColor(b);v.color(E);
return a};a.showLegend=function(b){if(!arguments.length)return J;J=b;return a};a.tooltips=function(b){if(!arguments.length)return P;P=b;return a};a.tooltipContent=function(b){if(!arguments.length)return O;O=b;return a};a.interpolate=function(f){if(!arguments.length)return b.interpolate();b.interpolate(f);n.interpolate(f);return a};a.noData=function(b){if(!arguments.length)return w;w=b;return a};a.xTickFormat=function(b){if(!arguments.length)return A.tickFormat();A.tickFormat(b);l.tickFormat(b);return a};
a.yTickFormat=function(b){if(!arguments.length)return r.tickFormat();r.tickFormat(b);f.tickFormat(b);return a};a.brushExtent=function(b){if(!arguments.length)return T;T=b;return a};a.transitionDuration=function(b){if(!arguments.length)return F;F=b;return a};return a};u.models.linePlusBarWithFocusChart=function(){function a(k){k.each(function(k){function ka(){H.empty()||H.extent(O);Fa.data([H.empty()?t.domain():O]).each(function(a,b){var f=t(a[0])-t.range()[0],k=t.range()[1]-t(a[1]);d3.select(this).select(".left").attr("width",
0>f?0:f);d3.select(this).select(".right").attr("x",t(a[1])).attr("width",0>k?0:k)})}function la(){O=H.empty()?null:H.extent();P=H.empty()?t.domain():H.extent();W.brush({extent:P,brush:H});ka();A.width(fa).height(ga).color(k.map(function(a,b){return a.color||J(a,b)}).filter(function(a,b){return!k[b].disabled&&k[b].bar}));b.width(fa).height(ga).color(k.map(function(a,b){return a.color||J(a,b)}).filter(function(a,b){return!k[b].disabled&&!k[b].bar}));var a=pa.select(".nv-focus .nv-barsWrap").datum(na.length?
na.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,b){return A.x()(a,b)>=P[0]&&A.x()(a,b)<=P[1]})}}):[{values:[]}]),f=pa.select(".nv-focus .nv-linesWrap").datum(ea[0].disabled?[{values:[]}]:ea.map(function(a,f){return{key:a.key,values:a.values.filter(function(a,f){return b.x()(a,f)>=P[0]&&b.x()(a,f)<=P[1]})}}));F=na.length?A.xScale():b.xScale();l.scale(F).ticks(fa/100).tickSize(-ga,0);l.domain([Math.ceil(P[0]),Math.floor(P[1])]);pa.select(".nv-x.nv-axis").transition().duration(0).call(l);
a.transition().duration(0).call(A);f.transition().duration(0).call(b);pa.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+R.range()[0]+")");v.scale(R).ticks(ga/36).tickSize(-fa,0);pa.select(".nv-focus .nv-y1.nv-axis").style("opacity",na.length?1:0);q.scale(V).ticks(ga/36).tickSize(na.length?0:-fa,0);pa.select(".nv-focus .nv-y2.nv-axis").style("opacity",ea.length?1:0).attr("transform","translate("+F.range()[1]+",0)");pa.select(".nv-focus .nv-y1.nv-axis").transition().duration(0).call(v);
pa.select(".nv-focus .nv-y2.nv-axis").transition().duration(0).call(q)}var ma=d3.select(this),Y=this,fa=(S||parseInt(ma.style("width"))||960)-D.left-D.right,ga=(B||parseInt(ma.style("height"))||400)-D.top-D.bottom-100,da=100-M.top-M.bottom;a.update=function(){ma.transition().duration(0).call(a)};a.container=this;if(k&&k.length&&k.filter(function(a){return a.values.length}).length)ma.selectAll(".nv-noData").remove();else{var ba=ma.selectAll(".nv-noData").data([aa]);ba.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");ba.attr("x",D.left+fa/2).attr("y",D.top+ga/2).text(function(a){return a});return a}var na=k.filter(function(a){return!a.disabled&&a.bar}),ea=k.filter(function(a){return!a.bar});F=A.xScale();t=f.scale();R=A.yScale();V=b.yScale();U=r.yScale();I=n.yScale();var ba=k.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:N(a,b),y:Q(a,b)}})}),X=k.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,
b){return{x:N(a,b),y:Q(a,b)}})});F.range([0,fa]);t.domain(d3.extent(d3.merge(ba.concat(X)),function(a){return a.x})).range([0,fa]);var ba=ma.selectAll("g.nv-wrap.nv-linePlusBar").data([k]),X=ba.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),pa=ba.select("g");X.append("g").attr("class","nv-legendWrap");var Ea=X.append("g").attr("class","nv-focus");Ea.append("g").attr("class","nv-x nv-axis");Ea.append("g").attr("class","nv-y1 nv-axis");Ea.append("g").attr("class","nv-y2 nv-axis");
Ea.append("g").attr("class","nv-barsWrap");Ea.append("g").attr("class","nv-linesWrap");X=X.append("g").attr("class","nv-context");X.append("g").attr("class","nv-x nv-axis");X.append("g").attr("class","nv-y1 nv-axis");X.append("g").attr("class","nv-y2 nv-axis");X.append("g").attr("class","nv-barsWrap");X.append("g").attr("class","nv-linesWrap");X.append("g").attr("class","nv-brushBackground");X.append("g").attr("class","nv-x nv-brush");T&&(E.width(fa/2),pa.select(".nv-legendWrap").datum(k.map(function(a){a.originalKey=
void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");return a})).call(E),D.top!=E.height()&&(D.top=E.height(),ga=(B||parseInt(ma.style("height"))||400)-D.top-D.bottom-100),pa.select(".nv-legendWrap").attr("transform","translate("+fa/2+","+-D.top+")"));ba.attr("transform","translate("+D.left+","+D.top+")");r.width(fa).height(da).color(k.map(function(a,b){return a.color||J(a,b)}).filter(function(a,b){return!k[b].disabled&&k[b].bar}));n.width(fa).height(da).color(k.map(function(a,
b){return a.color||J(a,b)}).filter(function(a,b){return!k[b].disabled&&!k[b].bar}));ba=pa.select(".nv-context .nv-barsWrap").datum(na.length?na:[{values:[]}]);X=pa.select(".nv-context .nv-linesWrap").datum(ea[0].disabled?[{values:[]}]:ea);pa.select(".nv-context").attr("transform","translate(0,"+(ga+D.bottom+M.top)+")");ba.transition().call(r);X.transition().call(n);H.x(t).on("brush",la);O&&H.extent(O);var Fa=pa.select(".nv-brushBackground").selectAll("g").data([O||H.extent()]),ba=Fa.enter().append("g");
ba.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",da);ba.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",da);ba=pa.select(".nv-x.nv-brush").call(H);ba.selectAll("rect").attr("height",da);ba.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,f=da/3;return"M"+.5*b+","+f+"A6,6 0 0 "+a+" "+6.5*b+","+(f+6)+"V"+(2*f-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*f+"ZM"+2.5*b+","+(f+8)+"V"+(2*f-8)+"M"+4.5*b+","+(f+8)+"V"+(2*f-8)});f.ticks(fa/
100).tickSize(-da,0);pa.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+U.range()[0]+")");pa.select(".nv-context .nv-x.nv-axis").transition().call(f);K.scale(U).ticks(da/36).tickSize(-fa,0);pa.select(".nv-context .nv-y1.nv-axis").style("opacity",na.length?1:0).attr("transform","translate(0,"+t.range()[0]+")");pa.select(".nv-context .nv-y1.nv-axis").transition().call(K);G.scale(I).ticks(da/36).tickSize(na.length?0:-fa,0);pa.select(".nv-context .nv-y2.nv-axis").style("opacity",ea.length?
1:0).attr("transform","translate("+t.range()[1]+",0)");pa.select(".nv-context .nv-y2.nv-axis").transition().call(G);E.dispatch.on("stateChange",function(b){a.update()});W.on("tooltipShow",function(f){if(w){var k=Y.parentNode;P&&(f.pointIndex+=Math.ceil(P[0]));var n=f.pos[0]+(k.offsetLeft||0),t=f.pos[1]+(k.offsetTop||0),r=l.tickFormat()(b.x()(f.point,f.pointIndex)),y=(f.series.bar?v:q).tickFormat()(b.y()(f.point,f.pointIndex)),r=C(f.series.key,r,y,f,a);u.tooltip.show([n,t],r,0>f.value?"n":"s",null,
k)}});la()});return a}var b=u.models.line(),n=u.models.line(),A=u.models.historicalBar(),r=u.models.historicalBar(),l=u.models.axis(),f=u.models.axis(),v=u.models.axis(),q=u.models.axis(),K=u.models.axis(),G=u.models.axis(),E=u.models.legend(),H=d3.svg.brush(),D={top:30,right:30,bottom:30,left:60},M={top:0,right:30,bottom:20,left:60},S=null,B=null,N=function(a){return a.x},Q=function(a){return a.y},J=u.utils.defaultColor(),T=!0,P,O=null,w=!0,C=function(a,b,f,l,n){return"<h3>"+a+"</h3><p>"+f+" at "+
b+"</p>"},F,t,R,V,U,I,aa="No Data Available.",W=d3.dispatch("tooltipShow","tooltipHide","brush");b.clipEdge(!0);n.interactive(!1);l.orient("bottom").tickPadding(5);v.orient("left");q.orient("right");f.orient("bottom").tickPadding(5);K.orient("left");G.orient("right");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+D.left,a.pos[1]+D.top];W.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){W.tooltipHide(a)});A.dispatch.on("elementMouseover.tooltip",function(a){a.pos=
[a.pos[0]+D.left,a.pos[1]+D.top];W.tooltipShow(a)});A.dispatch.on("elementMouseout.tooltip",function(a){W.tooltipHide(a)});W.on("tooltipHide",function(){w&&u.tooltip.cleanup()});a.dispatch=W;a.legend=E;a.lines=b;a.lines2=n;a.bars=A;a.bars2=r;a.xAxis=l;a.x2Axis=f;a.y1Axis=v;a.y2Axis=q;a.y3Axis=K;a.y4Axis=G;d3.rebind(a,b,"defined","size","clipVoronoi","interpolate");a.options=u.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return N;N=f;b.x(f);A.x(f);return a};a.y=function(f){if(!arguments.length)return Q;
Q=f;b.y(f);A.y(f);return a};a.margin=function(b){if(!arguments.length)return D;D.top="undefined"!=typeof b.top?b.top:D.top;D.right="undefined"!=typeof b.right?b.right:D.right;D.bottom="undefined"!=typeof b.bottom?b.bottom:D.bottom;D.left="undefined"!=typeof b.left?b.left:D.left;return a};a.width=function(b){if(!arguments.length)return S;S=b;return a};a.height=function(b){if(!arguments.length)return B;B=b;return a};a.color=function(b){if(!arguments.length)return J;J=u.utils.getColor(b);E.color(J);
return a};a.showLegend=function(b){if(!arguments.length)return T;T=b;return a};a.tooltips=function(b){if(!arguments.length)return w;w=b;return a};a.tooltipContent=function(b){if(!arguments.length)return C;C=b;return a};a.noData=function(b){if(!arguments.length)return aa;aa=b;return a};a.brushExtent=function(b){if(!arguments.length)return O;O=b;return a};return a};u.models.multiBar=function(){function a(u){u.each(function(a){var u=n-b.left-b.right,F=A-b.top-b.bottom,U=d3.select(this);M&&a.length&&
(M=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]);E&&(a=d3.layout.stack().offset(H).values(function(a){return a.values}).y(q)(!a.length&&M?M:a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});E&&a[0].values.map(function(b,f){var l=0,n=0;a.map(function(a){a=a.values[f];a.size=Math.abs(a.y);0>a.y?(a.y1=n,n-=a.size):(a.y1=a.size+l,l+=a.size)})});var I=Q&&J?[]:a.map(function(a){return a.values.map(function(a,b){return{x:v(a,b),y:q(a,b),y0:a.y0,
y1:a.y1}})});r.domain(Q||d3.merge(I).map(function(a){return a.x})).rangeBands(T||[0,u],O);l.domain(J||d3.extent(d3.merge(I).map(function(a){return E?0<a.y?a.y1:a.y1+a.y:a.y}).concat(K))).range(P||[F,0]);r.domain()[0]===r.domain()[1]&&(r.domain()[0]?r.domain([r.domain()[0]-.01*r.domain()[0],r.domain()[1]+.01*r.domain()[1]]):r.domain([-1,1]));l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]+.01*l.domain()[0],l.domain()[1]-.01*l.domain()[1]]):l.domain([-1,1]));C=C||l;var U=U.selectAll("g.nv-wrap.nv-multibar").data([a]),
aa=U.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),I=aa.append("defs"),aa=aa.append("g"),W=U.select("g");aa.append("g").attr("class","nv-groups");U.attr("transform","translate("+b.left+","+b.top+")");I.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");U.select("#nv-edge-clip-"+f+" rect").attr("width",u).attr("height",F);W.attr("clip-path",G?"url(#nv-edge-clip-"+f+")":"");u=U.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});
u.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);u.exit().transition().selectAll("rect.nv-bar").delay(function(b,f){return f*N/a[0].values.length}).attr("y",function(a){return E?C(a.y0):C(0)}).attr("height",0).remove();u.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return D(a,b)}).style("stroke",function(a,b){return D(a,b)});u.transition().style("stroke-opacity",1).style("fill-opacity",
.75);u=u.selectAll("rect.nv-bar").data(function(b){return M&&!a.length?M.values:b.values});u.exit().remove();u.enter().append("rect").attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,f,l){return E?0:l*r.rangeBand()/a.length}).attr("y",function(a){return C(E?a.y0:0)}).attr("height",0).attr("width",r.rangeBand()/(E?1:a.length)).attr("transform",function(a,b){return"translate("+r(v(a,b))+",0)"});u.style("fill",function(a,b,f){return D(a,f,b)}).style("stroke",
function(a,b,f){return D(a,f,b)}).on("mouseover",function(b,f){d3.select(this).classed("hover",!0);w.elementMouseover({value:q(b,f),point:b,series:a[b.series],pos:[r(v(b,f))+r.rangeBand()*(E?a.length/2:b.series+.5)/a.length,l(q(b,f)+(E?b.y0:0))],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);w.elementMouseout({value:q(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,f){w.elementClick({value:q(b,
f),point:b,series:a[b.series],pos:[r(v(b,f))+r.rangeBand()*(E?a.length/2:b.series+.5)/a.length,l(q(b,f)+(E?b.y0:0))],pointIndex:f,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,f){w.elementDblClick({value:q(b,f),point:b,series:a[b.series],pos:[r(v(b,f))+r.rangeBand()*(E?a.length/2:b.series+.5)/a.length,l(q(b,f)+(E?b.y0:0))],pointIndex:f,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});u.attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":
"nv-bar positive"}).transition().attr("transform",function(a,b){return"translate("+r(v(a,b))+",0)"});S&&(B||(B=a.map(function(){return!0})),u.style("fill",function(a,b,f){return d3.rgb(S(a,b)).darker(B.map(function(a,b){return b}).filter(function(a,b){return!B[b]})[f]).toString()}).style("stroke",function(a,b,f){return d3.rgb(S(a,b)).darker(B.map(function(a,b){return b}).filter(function(a,b){return!B[b]})[f]).toString()}));E?u.transition().delay(function(b,f){return f*N/a[0].values.length}).attr("y",
function(a,b){return l(E?a.y1:0)}).attr("height",function(a,b){return Math.max(Math.abs(l(a.y+(E?a.y0:0))-l(E?a.y0:0)),1)}).attr("x",function(b,f){return E?0:b.series*r.rangeBand()/a.length}).attr("width",r.rangeBand()/(E?1:a.length)):u.transition().delay(function(b,f){return f*N/a[0].values.length}).attr("x",function(b,f){return b.series*r.rangeBand()/a.length}).attr("width",r.rangeBand()/a.length).attr("y",function(a,b){return 0>q(a,b)?l(0):1>l(0)-l(q(a,b))?l(0)-1:l(q(a,b))||0}).attr("height",function(a,
b){return Math.max(Math.abs(l(q(a,b))-l(0)),1)||0});r.copy();C=l.copy()});return a}var b={top:0,right:0,bottom:0,left:0},n=960,A=500,r=d3.scale.ordinal(),l=d3.scale.linear(),f=Math.floor(1E4*Math.random()),v=function(a){return a.x},q=function(a){return a.y},K=[0],G=!0,E=!1,H="zero",D=u.utils.defaultColor(),M=!1,S=null,B,N=1200,Q,J,T,P,O=.1,w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),C;a.dispatch=w;a.options=u.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return v;
v=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return r;
r=b;return a};a.yScale=function(b){if(!arguments.length)return l;l=b;return a};a.xDomain=function(b){if(!arguments.length)return Q;Q=b;return a};a.yDomain=function(b){if(!arguments.length)return J;J=b;return a};a.xRange=function(b){if(!arguments.length)return T;T=b;return a};a.yRange=function(b){if(!arguments.length)return P;P=b;return a};a.forceY=function(b){if(!arguments.length)return K;K=b;return a};a.stacked=function(b){if(!arguments.length)return E;E=b;return a};a.stackOffset=function(b){if(!arguments.length)return H;
H=b;return a};a.clipEdge=function(b){if(!arguments.length)return G;G=b;return a};a.color=function(b){if(!arguments.length)return D;D=u.utils.getColor(b);return a};a.barColor=function(b){if(!arguments.length)return S;S=u.utils.getColor(b);return a};a.disabled=function(b){if(!arguments.length)return B;B=b;return a};a.id=function(b){if(!arguments.length)return f;f=b;return a};a.hideable=function(b){if(!arguments.length)return M;M=b;return a};a.delay=function(b){if(!arguments.length)return N;N=b;return a};
a.groupSpacing=function(b){if(!arguments.length)return O;O=b;return a};return a};u.models.multiBarChart=function(){function a(R){R.each(function(R){var U=d3.select(this),I=this,aa=(v||parseInt(U.style("width"))||960)-f.left-f.right,W=(q||parseInt(U.style("height"))||400)-f.top-f.bottom;a.update=function(){U.transition().duration(t).call(a)};a.container=this;O.disabled=R.map(function(a){return!!a.disabled});if(!w){var k;w={};for(k in O)w[k]=O[k]instanceof Array?O[k].slice(0):O[k]}if(R&&R.length&&R.filter(function(a){return a.values.length}).length)U.selectAll(".nv-noData").remove();
else return k=U.selectAll(".nv-noData").data([C]),k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",f.left+aa/2).attr("y",f.top+W/2).text(function(a){return a}),a;T=b.xScale();P=b.yScale();var y=U.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([R]),ka=y.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");k=y.select("g");ka.append("g").attr("class","nv-x nv-axis");ka.append("g").attr("class","nv-y nv-axis");
ka.append("g").attr("class","nv-barsWrap");ka.append("g").attr("class","nv-legendWrap");ka.append("g").attr("class","nv-controlsWrap");E&&(r.width(aa-(G?180:0)),b.barColor()&&R.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(1.5*b).toString()}),k.select(".nv-legendWrap").datum(R).call(r),f.top!=r.height()&&(f.top=r.height(),W=(q||parseInt(U.style("height"))||400)-f.top-f.bottom),k.select(".nv-legendWrap").attr("transform","translate("+(G?180:0)+","+-f.top+")"));if(G){var la=[{key:"Grouped",disabled:b.stacked()},
{key:"Stacked",disabled:!b.stacked()}];l.width(G?180:0).color(["#444","#444","#444"]);k.select(".nv-controlsWrap").datum(la).attr("transform","translate(0,"+-f.top+")").call(l)}y.attr("transform","translate("+f.left+","+f.top+")");M&&k.select(".nv-y.nv-axis").attr("transform","translate("+aa+",0)");b.disabled(R.map(function(a){return a.disabled})).width(aa).height(W).color(R.map(function(a,b){return a.color||K(a,b)}).filter(function(a,b){return!R[b].disabled}));k.select(".nv-barsWrap").datum(R.filter(function(a){return!a.disabled})).transition().call(b);
if(H){n.scale(T).ticks(aa/100).tickSize(-W,0);k.select(".nv-x.nv-axis").attr("transform","translate(0,"+P.range()[0]+")");k.select(".nv-x.nv-axis").transition().call(n);y=k.select(".nv-x.nv-axis > g").selectAll("g");y.selectAll("line, text").style("opacity",1);if(B){y.selectAll("text").attr("transform",function(a,b,f){return"translate(0,"+(0==f%2?5:17)+")"});var ma=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;k.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,
b){return"translate(0,"+(0===b||0!==ma%2?17:5)+")"})}S&&y.filter(function(a,b){return 0!==b%Math.ceil(R[0].values.length/(aa/100))}).selectAll("text, line").style("opacity",0);N&&y.selectAll(".tick text").attr("transform","rotate("+N+" 0,0)").style("text-anchor",0<N?"start":"end");k.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}D&&(A.scale(P).ticks(W/36).tickSize(-aa,0),k.select(".nv-y.nv-axis").transition().call(A));r.dispatch.on("stateChange",function(b){O=b;F.stateChange(O);
a.update()});l.dispatch.on("legendClick",function(f,k){if(f.disabled){la=la.map(function(a){a.disabled=!0;return a});f.disabled=!1;switch(f.key){case "Grouped":b.stacked(!1);break;case "Stacked":b.stacked(!0)}O.stacked=b.stacked();F.stateChange(O);a.update()}});F.on("tooltipShow",function(f){if(Q){var k=I.parentNode,l=f.pos[0]+(k.offsetLeft||0),q=f.pos[1]+(k.offsetTop||0),t=n.tickFormat()(b.x()(f.point,f.pointIndex)),r=A.tickFormat()(b.y()(f.point,f.pointIndex)),t=J(f.series.key,t,r,f,a);u.tooltip.show([l,
q],t,0>f.value?"n":"s",null,k)}});F.on("changeState",function(f){"undefined"!==typeof f.disabled&&(R.forEach(function(a,b){a.disabled=f.disabled[b]}),O.disabled=f.disabled);"undefined"!==typeof f.stacked&&(b.stacked(f.stacked),O.stacked=f.stacked);a.update()})});return a}var b=u.models.multiBar(),n=u.models.axis(),A=u.models.axis(),r=u.models.legend(),l=u.models.legend(),f={top:30,right:20,bottom:50,left:60},v=null,q=null,K=u.utils.defaultColor(),G=!0,E=!0,H=!0,D=!0,M=!1,S=!0,B=!1,N=0,Q=!0,J=function(a,
b,f,l,n){return"<h3>"+a+"</h3><p>"+f+" on "+b+"</p>"},T,P,O={stacked:!1},w=null,C="No Data Available.",F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),t=250;b.stacked(!1);n.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(a){return a});A.orient(M?"right":"left").tickFormat(d3.format(",.1f"));l.updateState(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];F.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",
function(a){F.tooltipHide(a)});F.on("tooltipHide",function(){Q&&u.tooltip.cleanup()});a.dispatch=F;a.multibar=b;a.legend=r;a.xAxis=n;a.yAxis=A;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.right="undefined"!=typeof b.right?b.right:f.right;f.bottom="undefined"!=
typeof b.bottom?b.bottom:f.bottom;f.left="undefined"!=typeof b.left?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return v;v=b;return a};a.height=function(b){if(!arguments.length)return q;q=b;return a};a.color=function(b){if(!arguments.length)return K;K=u.utils.getColor(b);r.color(K);return a};a.showControls=function(b){if(!arguments.length)return G;G=b;return a};a.showLegend=function(b){if(!arguments.length)return E;E=b;return a};a.showXAxis=function(b){if(!arguments.length)return H;
H=b;return a};a.showYAxis=function(b){if(!arguments.length)return D;D=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return M;M=b;A.orient(b?"right":"left");return a};a.reduceXTicks=function(b){if(!arguments.length)return S;S=b;return a};a.rotateLabels=function(b){if(!arguments.length)return N;N=b;return a};a.staggerLabels=function(b){if(!arguments.length)return B;B=b;return a};a.tooltip=function(b){if(!arguments.length)return J;J=b;return a};a.tooltips=function(b){if(!arguments.length)return Q;
Q=b;return a};a.tooltipContent=function(b){if(!arguments.length)return J;J=b;return a};a.state=function(b){if(!arguments.length)return O;O=b;return a};a.defaultState=function(b){if(!arguments.length)return w;w=b;return a};a.noData=function(b){if(!arguments.length)return C;C=b;return a};a.transitionDuration=function(b){if(!arguments.length)return t;t=b;return a};return a};u.models.multiBarHorizontal=function(){function a(r){r.each(function(a){var r=n-b.left-b.right,u=A-b.top-b.bottom;d3.select(this);
D&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(q)(a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});D&&a[0].values.map(function(b,f){var l=0,k=0;a.map(function(a){a=a.values[f];a.size=Math.abs(a.y);0>a.y?(a.y1=k-a.size,k-=a.size):(a.y1=l,l+=a.size)})});var F=J&&T?[]:a.map(function(a){return a.values.map(function(a,b){return{x:v(a,b),y:q(a,b),y0:a.y0,y1:a.y1}})});l.domain(J||d3.merge(F).map(function(a){return a.x})).rangeBands(P||[0,u],.1);f.domain(T||
d3.extent(d3.merge(F).map(function(a){return D?0<a.y?a.y1+a.y:a.y1:a.y}).concat(K)));M&&!D?f.range(O||[0>f.domain()[0]?B:0,r-(0<f.domain()[1]?B:0)]):f.range(O||[0,r]);C=C||d3.scale.linear().domain(f.domain()).range([f(0),f(0)]);r=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);u=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");u.append("defs");u=u.append("g");r.select("g");u.append("g").attr("class","nv-groups");r.attr("transform","translate("+b.left+
","+b.top+")");r=r.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});r.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);r.exit().transition().style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();r.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return G(a,b)}).style("stroke",function(a,b){return G(a,b)});r.transition().style("stroke-opacity",
1).style("fill-opacity",.75);r=r.selectAll("g.nv-bar").data(function(a){return a.values});r.exit().remove();u=r.enter().append("g").attr("transform",function(b,f,n){return"translate("+C(D?b.y0:0)+","+(D?0:n*l.rangeBand()/a.length+l(v(b,f)))+")"});u.append("rect").attr("width",0).attr("height",l.rangeBand()/(D?1:a.length));r.on("mouseover",function(b,n){d3.select(this).classed("hover",!0);w.elementMouseover({value:q(b,n),point:b,series:a[b.series],pos:[f(q(b,n)+(D?b.y0:0)),l(v(b,n))+l.rangeBand()*
(D?a.length/2:b.series+.5)/a.length],pointIndex:n,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);w.elementMouseout({value:q(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,n){w.elementClick({value:q(b,n),point:b,series:a[b.series],pos:[l(v(b,n))+l.rangeBand()*(D?a.length/2:b.series+.5)/a.length,f(q(b,n)+(D?b.y0:0))],pointIndex:n,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",
function(b,n){w.elementDblClick({value:q(b,n),point:b,series:a[b.series],pos:[l(v(b,n))+l.rangeBand()*(D?a.length/2:b.series+.5)/a.length,f(q(b,n)+(D?b.y0:0))],pointIndex:n,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});u.append("text");M&&!D?(r.select("text").attr("text-anchor",function(a,b){return 0>q(a,b)?"end":"start"}).attr("y",l.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return N(q(a,b))}),r.transition().select("text").attr("x",function(a,b){return 0>q(a,
b)?-4:f(q(a,b))-f(0)+4})):r.selectAll("text").text("");S&&!D?(u.append("text").classed("nv-bar-label",!0),r.select("text.nv-bar-label").attr("text-anchor",function(a,b){return 0>q(a,b)?"start":"end"}).attr("y",l.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return v(a,b)}),r.transition().select("text.nv-bar-label").attr("x",function(a,b){return 0>q(a,b)?f(0)-f(q(a,b))+4:-4})):r.selectAll("text.nv-bar-label").text("");r.attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":
"nv-bar positive"});E&&(H||(H=a.map(function(){return!0})),r.style("fill",function(a,b,f){return d3.rgb(E(a,b)).darker(H.map(function(a,b){return b}).filter(function(a,b){return!H[b]})[f]).toString()}).style("stroke",function(a,b,f){return d3.rgb(E(a,b)).darker(H.map(function(a,b){return b}).filter(function(a,b){return!H[b]})[f]).toString()}));D?r.transition().attr("transform",function(a,b){return"translate("+f(a.y1)+","+l(v(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(f(q(a,
b)+a.y0)-f(a.y0))}).attr("height",l.rangeBand()):r.transition().attr("transform",function(b,n){return"translate("+(0>q(b,n)?f(q(b,n)):f(0))+","+(b.series*l.rangeBand()/a.length+l(v(b,n)))+")"}).select("rect").attr("height",l.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(f(q(a,b))-f(0)),1)});l.copy();C=f.copy()});return a}var b={top:0,right:0,bottom:0,left:0},n=960,A=500,r=Math.floor(1E4*Math.random()),l=d3.scale.ordinal(),f=d3.scale.linear(),v=function(a){return a.x},q=
function(a){return a.y},K=[0],G=u.utils.defaultColor(),E=null,H,D=!1,M=!1,S=!1,B=60,N=d3.format(",.2f"),Q=1200,J,T,P,O,w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),C;a.dispatch=w;a.options=u.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return v;v=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=
typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return J;J=b;return a};a.yDomain=function(b){if(!arguments.length)return T;
T=b;return a};a.xRange=function(b){if(!arguments.length)return P;P=b;return a};a.yRange=function(b){if(!arguments.length)return O;O=b;return a};a.forceY=function(b){if(!arguments.length)return K;K=b;return a};a.stacked=function(b){if(!arguments.length)return D;D=b;return a};a.color=function(b){if(!arguments.length)return G;G=u.utils.getColor(b);return a};a.barColor=function(b){if(!arguments.length)return E;E=u.utils.getColor(b);return a};a.disabled=function(b){if(!arguments.length)return H;H=b;return a};
a.id=function(b){if(!arguments.length)return r;r=b;return a};a.delay=function(b){if(!arguments.length)return Q;Q=b;return a};a.showValues=function(b){if(!arguments.length)return M;M=b;return a};a.showBarLabels=function(b){if(!arguments.length)return S;S=b;return a};a.valueFormat=function(b){if(!arguments.length)return N;N=b;return a};a.valuePadding=function(b){if(!arguments.length)return B;B=b;return a};return a};u.models.multiBarHorizontalChart=function(){function a(w){w.each(function(w){var F=d3.select(this),
t=this,R=(v||parseInt(F.style("width"))||960)-f.left-f.right,V=(q||parseInt(F.style("height"))||400)-f.top-f.bottom;a.update=function(){F.transition().duration(O).call(a)};a.container=this;Q.disabled=w.map(function(a){return!!a.disabled});if(!J){var U;J={};for(U in Q)J[U]=Q[U]instanceof Array?Q[U].slice(0):Q[U]}if(w&&w.length&&w.filter(function(a){return a.values.length}).length)F.selectAll(".nv-noData").remove();else return U=F.selectAll(".nv-noData").data([T]),U.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),U.attr("x",f.left+R/2).attr("y",f.top+V/2).text(function(a){return a}),a;B=b.xScale();N=b.yScale();U=F.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([w]);var I=U.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),aa=U.select("g");I.append("g").attr("class","nv-x nv-axis");I.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");I.append("g").attr("class",
"nv-barsWrap");I.append("g").attr("class","nv-legendWrap");I.append("g").attr("class","nv-controlsWrap");E&&(r.width(R-(G?180:0)),b.barColor()&&w.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(1.5*b).toString()}),aa.select(".nv-legendWrap").datum(w).call(r),f.top!=r.height()&&(f.top=r.height(),V=(q||parseInt(F.style("height"))||400)-f.top-f.bottom),aa.select(".nv-legendWrap").attr("transform","translate("+(G?180:0)+","+-f.top+")"));if(G){var W=[{key:"Grouped",disabled:b.stacked()},{key:"Stacked",
disabled:!b.stacked()}];l.width(G?180:0).color(["#444","#444","#444"]);aa.select(".nv-controlsWrap").datum(W).attr("transform","translate(0,"+-f.top+")").call(l)}U.attr("transform","translate("+f.left+","+f.top+")");b.disabled(w.map(function(a){return a.disabled})).width(R).height(V).color(w.map(function(a,b){return a.color||K(a,b)}).filter(function(a,b){return!w[b].disabled}));aa.select(".nv-barsWrap").datum(w.filter(function(a){return!a.disabled})).transition().call(b);H&&(n.scale(B).ticks(V/24).tickSize(-R,
0),aa.select(".nv-x.nv-axis").transition().call(n),aa.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));D&&(A.scale(N).ticks(R/100).tickSize(-V,0),aa.select(".nv-y.nv-axis").attr("transform","translate(0,"+V+")"),aa.select(".nv-y.nv-axis").transition().call(A));aa.select(".nv-zeroLine line").attr("x1",N(0)).attr("x2",N(0)).attr("y1",0).attr("y2",-V);r.dispatch.on("stateChange",function(b){Q=b;P.stateChange(Q);a.update()});l.dispatch.on("legendClick",function(f,l){if(f.disabled){W=W.map(function(a){a.disabled=
!0;return a});f.disabled=!1;switch(f.key){case "Grouped":b.stacked(!1);break;case "Stacked":b.stacked(!0)}Q.stacked=b.stacked();P.stateChange(Q);a.update()}});P.on("tooltipShow",function(f){if(M){var l=t.parentNode,q=f.pos[0]+(l.offsetLeft||0),r=f.pos[1]+(l.offsetTop||0),w=n.tickFormat()(b.x()(f.point,f.pointIndex)),v=A.tickFormat()(b.y()(f.point,f.pointIndex)),w=S(f.series.key,w,v,f,a);u.tooltip.show([q,r],w,0>f.value?"e":"w",null,l)}});P.on("changeState",function(f){"undefined"!==typeof f.disabled&&
(w.forEach(function(a,b){a.disabled=f.disabled[b]}),Q.disabled=f.disabled);"undefined"!==typeof f.stacked&&(b.stacked(f.stacked),Q.stacked=f.stacked);a.update()})});return a}var b=u.models.multiBarHorizontal(),n=u.models.axis(),A=u.models.axis(),r=u.models.legend().height(30),l=u.models.legend().height(30),f={top:30,right:20,bottom:50,left:60},v=null,q=null,K=u.utils.defaultColor(),G=!0,E=!0,H=!0,D=!0,M=!0,S=function(a,b,f,l,n){return"<h3>"+a+" - "+b+"</h3><p>"+f+"</p>"},B,N,Q={stacked:!1},J=null,
T="No Data Available.",P=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),O=250;b.stacked(!1);n.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a});A.orient("bottom").tickFormat(d3.format(",.1f"));l.updateState(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];P.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){P.tooltipHide(a)});P.on("tooltipHide",function(){M&&u.tooltip.cleanup()});
a.dispatch=P;a.multibar=b;a.legend=r;a.xAxis=n;a.yAxis=A;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.right="undefined"!=typeof b.right?b.right:f.right;f.bottom="undefined"!=typeof b.bottom?b.bottom:f.bottom;f.left="undefined"!=typeof b.left?b.left:
f.left;return a};a.width=function(b){if(!arguments.length)return v;v=b;return a};a.height=function(b){if(!arguments.length)return q;q=b;return a};a.color=function(b){if(!arguments.length)return K;K=u.utils.getColor(b);r.color(K);return a};a.showControls=function(b){if(!arguments.length)return G;G=b;return a};a.showLegend=function(b){if(!arguments.length)return E;E=b;return a};a.showXAxis=function(b){if(!arguments.length)return H;H=b;return a};a.showYAxis=function(b){if(!arguments.length)return D;
D=b;return a};a.tooltip=function(b){if(!arguments.length)return S;S=b;return a};a.tooltips=function(b){if(!arguments.length)return M;M=b;return a};a.tooltipContent=function(b){if(!arguments.length)return S;S=b;return a};a.state=function(b){if(!arguments.length)return Q;Q=b;return a};a.defaultState=function(b){if(!arguments.length)return J;J=b;return a};a.noData=function(b){if(!arguments.length)return T;T=b;return a};a.transitionDuration=function(b){if(!arguments.length)return O;O=b;return a};return a};
u.models.multiChart=function(){function a(C){C.each(function(C){var t=d3.select(this),R=this;a.update=function(){t.transition().call(a)};a.container=this;var V=(A||parseInt(t.style("width"))||960)-b.left-b.right,U=(r||parseInt(t.style("height"))||400)-b.top-b.bottom,I=C.filter(function(a){return!a.disabled&&"line"==a.type&&1==a.yAxis}),aa=C.filter(function(a){return!a.disabled&&"line"==a.type&&2==a.yAxis}),W=C.filter(function(a){return!a.disabled&&"bar"==a.type&&1==a.yAxis}),k=C.filter(function(a){return!a.disabled&&
"bar"==a.type&&2==a.yAxis}),y=C.filter(function(a){return!a.disabled&&"area"==a.type&&1==a.yAxis}),ka=C.filter(function(a){return!a.disabled&&"area"==a.type&&2==a.yAxis}),la=C.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})}),X=C.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})});q.domain(d3.extent(d3.merge(la.concat(X)),function(a){return a.x})).range([0,
V]);var Y=t.selectAll("g.wrap.multiChart").data([C]),fa=Y.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");fa.append("g").attr("class","x axis");fa.append("g").attr("class","y1 axis");fa.append("g").attr("class","y2 axis");fa.append("g").attr("class","lines1Wrap");fa.append("g").attr("class","lines2Wrap");fa.append("g").attr("class","bars1Wrap");fa.append("g").attr("class","bars2Wrap");fa.append("g").attr("class","stack1Wrap");fa.append("g").attr("class","stack2Wrap");fa.append("g").attr("class",
"legendWrap");Y=Y.select("g");l&&(O.width(V/2),Y.select(".legendWrap").datum(C.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(1==a.yAxis?"":" (right axis)");return a})).call(O),b.top!=O.height()&&(b.top=O.height(),U=(r||parseInt(t.style("height"))||400)-b.top-b.bottom),Y.select(".legendWrap").attr("transform","translate("+V/2+","+-b.top+")"));D.width(V).height(U).interpolate("monotone").color(C.map(function(a,b){return a.color||n[b%n.length]}).filter(function(a,
b){return!C[b].disabled&&1==C[b].yAxis&&"line"==C[b].type}));M.width(V).height(U).interpolate("monotone").color(C.map(function(a,b){return a.color||n[b%n.length]}).filter(function(a,b){return!C[b].disabled&&2==C[b].yAxis&&"line"==C[b].type}));S.width(V).height(U).color(C.map(function(a,b){return a.color||n[b%n.length]}).filter(function(a,b){return!C[b].disabled&&1==C[b].yAxis&&"bar"==C[b].type}));B.width(V).height(U).color(C.map(function(a,b){return a.color||n[b%n.length]}).filter(function(a,b){return!C[b].disabled&&
2==C[b].yAxis&&"bar"==C[b].type}));N.width(V).height(U).color(C.map(function(a,b){return a.color||n[b%n.length]}).filter(function(a,b){return!C[b].disabled&&1==C[b].yAxis&&"area"==C[b].type}));Q.width(V).height(U).color(C.map(function(a,b){return a.color||n[b%n.length]}).filter(function(a,b){return!C[b].disabled&&2==C[b].yAxis&&"area"==C[b].type}));Y.attr("transform","translate("+b.left+","+b.top+")");var fa=Y.select(".lines1Wrap").datum(I),ga=Y.select(".bars1Wrap").datum(W),da=Y.select(".stack1Wrap").datum(y),
ba=Y.select(".lines2Wrap").datum(aa),na=Y.select(".bars2Wrap").datum(k),ea=Y.select(".stack2Wrap").datum(ka),Aa=y.length?y.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,f){return{x:a.x,y:a.y+b[f].y}})}).concat([{x:0,y:0}]):[],pa=ka.length?ka.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,f){return{x:a.x,y:a.y+b[f].y}})}).concat([{x:0,y:0}]):[];E.domain(K||d3.extent(d3.merge(la).concat(Aa),function(a){return a.y})).range([0,U]);H.domain(G||
d3.extent(d3.merge(X).concat(pa),function(a){return a.y})).range([0,U]);D.yDomain(E.domain());S.yDomain(E.domain());N.yDomain(E.domain());M.yDomain(H.domain());B.yDomain(H.domain());Q.yDomain(H.domain());y.length&&d3.transition(da).call(N);ka.length&&d3.transition(ea).call(Q);W.length&&d3.transition(ga).call(S);k.length&&d3.transition(na).call(B);I.length&&d3.transition(fa).call(D);aa.length&&d3.transition(ba).call(M);J.ticks(V/100).tickSize(-U,0);Y.select(".x.axis").attr("transform","translate(0,"+
U+")");d3.transition(Y.select(".x.axis")).call(J);T.ticks(U/36).tickSize(-V,0);d3.transition(Y.select(".y1.axis")).call(T);P.ticks(U/36).tickSize(-V,0);d3.transition(Y.select(".y2.axis")).call(P);Y.select(".y2.axis").style("opacity",X.length?1:0).attr("transform","translate("+q.range()[1]+",0)");O.dispatch.on("stateChange",function(b){a.update()});w.on("tooltipShow",function(b){if(f){var k=R.parentNode,l=b.pos[0]+(k.offsetLeft||0),n=b.pos[1]+(k.offsetTop||0),q=J.tickFormat()(D.x()(b.point,b.pointIndex)),
r=(2==b.series.yAxis?P:T).tickFormat()(D.y()(b.point,b.pointIndex));b=v(b.series.key,q,r,b,a);u.tooltip.show([l,n],b,void 0,void 0,k.offsetParent)}})});return a}var b={top:30,right:20,bottom:50,left:60},n=d3.scale.category20().range(),A=null,r=null,l=!0,f=!0,v=function(a,b,f,l,n){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},q,K,G;q=d3.scale.linear();var E=d3.scale.linear(),H=d3.scale.linear(),D=u.models.line().yScale(E),M=u.models.line().yScale(H),S=u.models.multiBar().stacked(!1).yScale(E),B=u.models.multiBar().stacked(!1).yScale(H),
N=u.models.stackedArea().yScale(E),Q=u.models.stackedArea().yScale(H),J=u.models.axis().scale(q).orient("bottom").tickPadding(5),T=u.models.axis().scale(E).orient("left"),P=u.models.axis().scale(H).orient("right"),O=u.models.legend().height(30),w=d3.dispatch("tooltipShow","tooltipHide");D.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});D.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});M.dispatch.on("elementMouseover.tooltip",
function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});M.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});S.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});S.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});B.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});B.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});
N.dispatch.on("tooltipShow",function(a){if(!Math.round(100*N.y()(a.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});N.dispatch.on("tooltipHide",function(a){w.tooltipHide(a)});Q.dispatch.on("tooltipShow",function(a){if(!Math.round(100*Q.y()(a.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});Q.dispatch.on("tooltipHide",
function(a){w.tooltipHide(a)});D.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});D.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});M.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});M.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});w.on("tooltipHide",function(){f&&u.tooltip.cleanup()});a.dispatch=w;a.lines1=D;a.lines2=M;a.bars1=S;a.bars2=
B;a.stack1=N;a.stack2=Q;a.xAxis=J;a.yAxis1=T;a.yAxis2=P;a.options=u.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return getX;getX=b;D.x(b);S.x(b);return a};a.y=function(b){if(!arguments.length)return getY;getY=b;D.y(b);S.y(b);return a};a.yDomain1=function(b){if(!arguments.length)return K;K=b;return a};a.yDomain2=function(b){if(!arguments.length)return G;G=b;return a};a.margin=function(f){if(!arguments.length)return b;b=f;return a};a.width=function(b){if(!arguments.length)return A;
A=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.color=function(b){if(!arguments.length)return n;n=b;O.color(b);return a};a.showLegend=function(b){if(!arguments.length)return l;l=b;return a};a.tooltips=function(b){if(!arguments.length)return f;f=b;return a};a.tooltipContent=function(b){if(!arguments.length)return v;v=b;return a};return a};u.models.ohlcBar=function(){function a(u){u.each(function(a){var u=n-b.left-b.right,t=A-b.top-b.bottom,w=d3.select(this);l.domain(Q||
d3.extent(a[0].values.map(v).concat(D)));S?l.range(T||[.5*u/a[0].values.length,u*(a[0].values.length-.5)/a[0].values.length]):l.range(T||[0,u]);f.domain(J||[d3.min(a[0].values.map(H).concat(M)),d3.max(a[0].values.map(E).concat(M))]).range(P||[t,0]);l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1]));f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):
f.domain([-1,1]));var N=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),U=N.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),I=U.append("defs"),U=U.append("g"),aa=N.select("g");U.append("g").attr("class","nv-ticks");N.attr("transform","translate("+b.left+","+b.top+")");w.on("click",function(a,b){O.chartClick({data:a,index:b,pos:d3.event,id:r})});I.append("clipPath").attr("id","nv-chart-clip-path-"+r).append("rect");N.select("#nv-chart-clip-path-"+r+" rect").attr("width",
u).attr("height",t);aa.attr("clip-path",B?"url(#nv-chart-clip-path-"+r+")":"");t=N.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});t.exit().remove();t.enter().append("path").attr("class",function(a,b,f){return(K(a,b)>G(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+f+"-"+b}).attr("d",function(b,k){var l=u/a[0].values.length*.9;return"m0,0l0,"+(f(K(b,k))-f(E(b,k)))+"l"+-l/2+",0l"+l/2+",0l0,"+(f(H(b,k))-f(K(b,k)))+"l0,"+(f(G(b,k))-f(H(b,k)))+"l"+l/2+",0l"+-l/2+",0z"}).attr("transform",
function(a,b){return"translate("+l(v(a,b))+","+f(E(a,b))+")"}).on("mouseover",function(b,k){d3.select(this).classed("hover",!0);O.elementMouseover({point:b,series:a[0],pos:[l(v(b,k)),f(q(b,k))],pointIndex:k,seriesIndex:0,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);O.elementMouseout({point:b,series:a[0],pointIndex:f,seriesIndex:0,e:d3.event})}).on("click",function(a,b){O.elementClick({value:q(a,b),data:a,index:b,pos:[l(v(a,b)),f(q(a,b))],e:d3.event,id:r});d3.event.stopPropagation()}).on("dblclick",
function(a,b){O.elementDblClick({value:q(a,b),data:a,index:b,pos:[l(v(a,b)),f(q(a,b))],e:d3.event,id:r});d3.event.stopPropagation()});t.attr("class",function(a,b,f){return(K(a,b)>G(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+f+"-"+b});d3.transition(t).attr("transform",function(a,b){return"translate("+l(v(a,b))+","+f(E(a,b))+")"}).attr("d",function(b,k){var l=u/a[0].values.length*.9;return"m0,0l0,"+(f(K(b,k))-f(E(b,k)))+"l"+-l/2+",0l"+l/2+",0l0,"+(f(H(b,k))-f(K(b,k)))+"l0,"+(f(G(b,k))-
f(H(b,k)))+"l"+l/2+",0l"+-l/2+",0z"})});return a}var b={top:0,right:0,bottom:0,left:0},n=960,A=500,r=Math.floor(1E4*Math.random()),l=d3.scale.linear(),f=d3.scale.linear(),v=function(a){return a.x},q=function(a){return a.y},K=function(a){return a.open},G=function(a){return a.close},E=function(a){return a.high},H=function(a){return a.low},D=[],M=[],S=!1,B=!0,N=u.utils.defaultColor(),Q,J,T,P,O=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=
O;a.options=u.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return v;v=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.open=function(b){if(!arguments.length)return K;K=b;return a};a.close=function(b){if(!arguments.length)return G;G=b;return a};a.high=function(b){if(!arguments.length)return E;E=b;return a};a.low=function(b){if(!arguments.length)return H;H=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:
b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return Q;Q=b;return a};a.yDomain=
function(b){if(!arguments.length)return J;J=b;return a};a.xRange=function(b){if(!arguments.length)return T;T=b;return a};a.yRange=function(b){if(!arguments.length)return P;P=b;return a};a.forceX=function(b){if(!arguments.length)return D;D=b;return a};a.forceY=function(b){if(!arguments.length)return M;M=b;return a};a.padData=function(b){if(!arguments.length)return S;S=b;return a};a.clipEdge=function(b){if(!arguments.length)return B;B=b;return a};a.color=function(b){if(!arguments.length)return N;N=
u.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return r;r=b;return a};return a};u.models.pie=function(){function a(f){f.each(function(a){var f=n-b.left-b.right,u=A-b.top-b.bottom,F=Math.min(f,u)/2,t=F-F/5,P=d3.select(this);a=P.selectAll(".nv-wrap.nv-pie").data(a);var K=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+v).append("g"),U=a.select("g");K.append("g").attr("class","nv-pie");K.append("g").attr("class","nv-pieLabels");a.attr("transform","translate("+
b.left+","+b.top+")");U.select(".nv-pie").attr("transform","translate("+f/2+","+u/2+")");U.select(".nv-pieLabels").attr("transform","translate("+f/2+","+u/2+")");P.on("click",function(a,b){T.chartClick({data:a,index:b,pos:d3.event,id:v})});var I=d3.svg.arc().outerRadius(t);N&&I.startAngle(N);Q&&I.endAngle(Q);S&&I.innerRadius(F*J);u=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:l(a)});f=a.select(".nv-pie").selectAll(".nv-slice").data(u);a=a.select(".nv-pieLabels").selectAll(".nv-label").data(u);
f.exit().remove();a.exit().remove();u=f.enter().append("g").attr("class","nv-slice").on("mouseover",function(a,b){d3.select(this).classed("hover",!0);T.elementMouseover({label:r(a.data),value:l(a.data),point:a.data,pointIndex:b,pos:[d3.event.pageX,d3.event.pageY],id:v})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);T.elementMouseout({label:r(a.data),value:l(a.data),point:a.data,index:b,id:v})}).on("click",function(a,b){T.elementClick({label:r(a.data),value:l(a.data),point:a.data,
index:b,pos:d3.event,id:v});d3.event.stopPropagation()}).on("dblclick",function(a,b){T.elementDblClick({label:r(a.data),value:l(a.data),point:a.data,index:b,pos:d3.event,id:v});d3.event.stopPropagation()});f.attr("fill",function(a,b){return q(a,b)}).attr("stroke",function(a,b){return q(a,b)});u.append("path").each(function(a){this._current=a});f.select("path").transition().attr("d",I).attrTween("d",function(a){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;
S||(a.innerRadius=0);var b=d3.interpolate(this._current,a);this._current=b(0);return function(a){return I(b(a))}});if(G){var aa=d3.svg.arc().innerRadius(0);E&&(aa=I);H&&(aa=d3.svg.arc().outerRadius(I.outerRadius()));a.enter().append("g").classed("nv-label",!0).each(function(a,b){var f=d3.select(this);f.attr("transform",function(a){if(B){a.outerRadius=t+10;a.innerRadius=t+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+aa.centroid(a)+
") rotate("+b+")"}a.outerRadius=F+10;a.innerRadius=F+15;return"translate("+aa.centroid(a)+")"});f.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);f.append("text").style("text-anchor",B?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var W={},k=function(a){return 140*Math.floor(a[0]/140)+","+14*Math.floor(a[1]/14)};a.transition().attr("transform",function(a){if(B){a.outerRadius=t+10;a.innerRadius=t+15;var b=(a.startAngle+a.endAngle)/
2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+aa.centroid(a)+") rotate("+b+")"}a.outerRadius=F+10;a.innerRadius=F+15;a=aa.centroid(a);b=k(a);W[b]&&(a[1]-=14);W[k(a)]=!0;return"translate("+a+")"});a.select(".nv-label text").style("text-anchor",B?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(a,b){var f=(a.endAngle-a.startAngle)/(2*Math.PI),k={key:r(a.data),value:l(a.data),percent:d3.format("%")(f)};return a.value&&f>M?k[D]:""})}});return a}
var b={top:0,right:0,bottom:0,left:0},n=500,A=500,r=function(a){return a.x},l=function(a){return a.y},f=function(a){return a.description},v=Math.floor(1E4*Math.random()),q=u.utils.defaultColor(),K=d3.format(",.2f"),G=!0,E=!0,H=!1,D="key",M=.02,S=!1,B=!1,N=!1,Q=!1,J=.5,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=T;a.options=u.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?
f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.values=function(b){u.log("pie.values() is no longer supported.");return a};a.x=function(b){if(!arguments.length)return r;r=b;return a};a.y=function(b){if(!arguments.length)return l;l=d3.functor(b);
return a};a.description=function(b){if(!arguments.length)return f;f=b;return a};a.showLabels=function(b){if(!arguments.length)return G;G=b;return a};a.labelSunbeamLayout=function(b){if(!arguments.length)return B;B=b;return a};a.donutLabelsOutside=function(b){if(!arguments.length)return H;H=b;return a};a.pieLabelsOutside=function(b){if(!arguments.length)return E;E=b;return a};a.labelType=function(b){if(!arguments.length)return D;D=(D=b)||"key";return a};a.donut=function(b){if(!arguments.length)return S;
S=b;return a};a.donutRatio=function(b){if(!arguments.length)return J;J=b;return a};a.startAngle=function(b){if(!arguments.length)return N;N=b;return a};a.endAngle=function(b){if(!arguments.length)return Q;Q=b;return a};a.id=function(b){if(!arguments.length)return v;v=b;return a};a.color=function(b){if(!arguments.length)return q;q=u.utils.getColor(b);return a};a.valueFormat=function(b){if(!arguments.length)return K;K=b;return a};a.labelThreshold=function(b){if(!arguments.length)return M;M=b;return a};
return a};u.models.pieChart=function(){function a(q){q.each(function(q){var u=d3.select(this),v=(r||parseInt(u.style("width"))||960)-A.left-A.right,M=(l||parseInt(u.style("height"))||400)-A.top-A.bottom;a.update=function(){u.transition().call(a)};a.container=this;G.disabled=q.map(function(a){return!!a.disabled});if(!E){var J;E={};for(J in G)E[J]=G[J]instanceof Array?G[J].slice(0):G[J]}if(q&&q.length)u.selectAll(".nv-noData").remove();else return J=u.selectAll(".nv-noData").data([H]),J.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),J.attr("x",A.left+v/2).attr("y",A.top+M/2).text(function(a){return a}),a;J=u.selectAll("g.nv-wrap.nv-pieChart").data([q]);var K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),P=J.select("g");K.append("g").attr("class","nv-pieWrap");K.append("g").attr("class","nv-legendWrap");f&&(n.width(v).key(b.x()),J.select(".nv-legendWrap").datum(q).call(n),A.top!=n.height()&&(A.top=n.height(),M=(l||parseInt(u.style("height"))||
400)-A.top-A.bottom),J.select(".nv-legendWrap").attr("transform","translate(0,"+-A.top+")"));J.attr("transform","translate("+A.left+","+A.top+")");b.width(v).height(M);v=P.select(".nv-pieWrap").datum([q]);d3.transition(v).call(b);n.dispatch.on("stateChange",function(b){G=b;D.stateChange(G);a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){D.tooltipHide(a)});D.on("changeState",function(b){"undefined"!==typeof b.disabled&&(q.forEach(function(a,f){a.disabled=b.disabled[f]}),G.disabled=
b.disabled);a.update()})});return a}var b=u.models.pie(),n=u.models.legend(),A={top:30,right:20,bottom:20,left:20},r=null,l=null,f=!0,v=u.utils.defaultColor(),q=!0,K=function(a,b,f,l){return"<h3>"+a+"</h3><p>"+b+"</p>"},G={},E=null,H="No Data Available.",D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+A.left,a.pos[1]+A.top];D.tooltipShow(a)});D.on("tooltipShow",function(f){if(q){var l=b.description()(f.point)||
b.x()(f.point),n=f.pos[0]+0,r=f.pos[1]+0,v=b.valueFormat()(b.y()(f.point)),l=K(l,v,f,a);u.tooltip.show([n,r],l,0>f.value?"n":"s",null,void 0)}});D.on("tooltipHide",function(){q&&u.tooltip.cleanup()});a.legend=n;a.dispatch=D;a.pie=b;d3.rebind(a,b,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return A;A.top="undefined"!=
typeof b.top?b.top:A.top;A.right="undefined"!=typeof b.right?b.right:A.right;A.bottom="undefined"!=typeof b.bottom?b.bottom:A.bottom;A.left="undefined"!=typeof b.left?b.left:A.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return l;l=b;return a};a.color=function(f){if(!arguments.length)return v;v=u.utils.getColor(f);n.color(v);b.color(v);return a};a.showLegend=function(b){if(!arguments.length)return f;f=b;return a};a.tooltips=
function(b){if(!arguments.length)return q;q=b;return a};a.tooltipContent=function(b){if(!arguments.length)return K;K=b;return a};a.state=function(b){if(!arguments.length)return G;G=b;return a};a.defaultState=function(b){if(!arguments.length)return E;E=b;return a};a.noData=function(b){if(!arguments.length)return H;H=b;return a};return a};u.models.scatter=function(){function a(Y){Y.each(function(a){var Y=n-b.left-b.right,da=A-b.top-b.bottom,ba=d3.select(this);a.forEach(function(a,b){a.values.forEach(function(a){a.series=
b})});var na=F&&t&&U?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:K(a,b),y:G(a,b),size:E(a,b)}})}));f.domain(F||d3.extent(na.map(function(a){return a.x}).concat(M)));T&&a[0]?f.range(R||[(Y*P+Y)/(2*a[0].values.length),Y-Y*(1+P)/(2*a[0].values.length)]):f.range(R||[0,Y]);v.domain(t||d3.extent(na.map(function(a){return a.y}).concat(S))).range(V||[da,0]);q.domain(U||d3.extent(na.map(function(a){return a.size}).concat(B))).range(I||[16,256]);if(f.domain()[0]===f.domain()[1]||
v.domain()[0]===v.domain()[1])aa=!0;f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1]));v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1]));isNaN(f.domain()[0])&&f.domain([-1,1]);isNaN(v.domain()[0])&&v.domain([-1,1]);y=y||f;ka=ka||v;var ea=ba.selectAll("g.nv-wrap.nv-scatter").data([a]),na=ea.enter().append("g").attr("class",
"nvd3 nv-wrap nv-scatter nv-chart-"+l+(aa?" nv-single-point":"")),ba=na.append("defs"),na=na.append("g"),Aa=ea.select("g");na.append("g").attr("class","nv-groups");na.append("g").attr("class","nv-point-paths");ea.attr("transform","translate("+b.left+","+b.top+")");ba.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect");ea.select("#nv-edge-clip-"+l+" rect").attr("width",Y).attr("height",0<da?da:0);Aa.attr("clip-path",O?"url(#nv-edge-clip-"+l+")":"");ma=!0;Y=ea.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a){return a.key});Y.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);Y.exit().remove();Y.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});Y.transition().style("fill",function(a,b){return r(a,b)}).style("stroke",function(a,b){return r(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);D?(da=Y.selectAll("circle.nv-point").data(function(a){return a.values},Q),da.enter().append("circle").style("fill",function(a,
b){return a.color}).style("stroke",function(a,b){return a.color}).attr("cx",function(a,b){return u.utils.NaNtoZero(y(K(a,b)))}).attr("cy",function(a,b){return u.utils.NaNtoZero(ka(G(a,b)))}).attr("r",function(a,b){return Math.sqrt(q(E(a,b))/Math.PI)}),da.exit().remove(),Y.exit().selectAll("path.nv-point").transition().attr("cx",function(a,b){return u.utils.NaNtoZero(f(K(a,b)))}).attr("cy",function(a,b){return u.utils.NaNtoZero(v(G(a,b)))}).remove(),da.each(function(a,b){d3.select(this).classed("nv-point",
!0).classed("nv-point-"+b,!0).classed("hover",!1)}),da.transition().attr("cx",function(a,b){return u.utils.NaNtoZero(f(K(a,b)))}).attr("cy",function(a,b){return u.utils.NaNtoZero(v(G(a,b)))}).attr("r",function(a,b){return Math.sqrt(q(E(a,b))/Math.PI)})):(da=Y.selectAll("path.nv-point").data(function(a){return a.values}),da.enter().append("path").style("fill",function(a,b){return a.color}).style("stroke",function(a,b){return a.color}).attr("transform",function(a,b){return"translate("+y(K(a,b))+","+
ka(G(a,b))+")"}).attr("d",d3.svg.symbol().type(H).size(function(a,b){return q(E(a,b))})),da.exit().remove(),Y.exit().selectAll("path.nv-point").transition().attr("transform",function(a,b){return"translate("+f(K(a,b))+","+v(G(a,b))+")"}).remove(),da.each(function(a,b){d3.select(this).classed("nv-point",!0).classed("nv-point-"+b,!0).classed("hover",!1)}),da.transition().attr("transform",function(a,b){return"translate("+f(K(a,b))+","+v(G(a,b))+")"}).attr("d",d3.svg.symbol().type(H).size(function(a,b){return q(E(a,
b))})));clearTimeout(X);X=setTimeout(function(){if(!N)return!1;var q=d3.merge(a.map(function(a,b){return a.values.map(function(a,k){var l=K(a,k),n=G(a,k);return[f(l)+1E-7*Math.random(),v(n)+1E-7*Math.random(),b,k,a]}).filter(function(a,b){return J(a[4],b)})}));if(!0===k){if(w){ea.select("defs").selectAll(".nv-point-clips").data([l]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+l);var r=ea.select("#nv-points-clip-"+l).selectAll("circle").data(q);r.enter().append("circle").attr("r",
C);r.exit().remove();r.attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]});ea.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+l+")")}q.length&&(q.push([f.range()[0]-20,v.range()[0]-20,null,null]),q.push([f.range()[1]+20,v.range()[1]+20,null,null]),q.push([f.range()[0]-20,v.range()[0]+20,null,null]),q.push([f.range()[1]+20,v.range()[1]-20,null,null]));var t=d3.geom.polygon([[-10,-10],[-10,A+10],[n+10,A+10],[n+10,-10]]),r=d3.geom.voronoi(q).map(function(a,b){return{data:t.clip(a),
series:q[b][2],point:q[b][3]}}),r=ea.select(".nv-point-paths").selectAll("path").data(r);r.enter().append("path").attr("class",function(a,b){return"nv-path-"+b});r.exit().remove();r.attr("d",function(a){return 0===a.data.length?"M 0 0":"M"+a.data.join("L")+"Z"});var u=function(k,l){if(ma)return 0;var n=a[k.series];if("undefined"!==typeof n){var q=n.values[k.point];l({point:q,series:n,pos:[f(K(q,k.point))+b.left,v(G(q,k.point))+b.top],seriesIndex:k.series,pointIndex:k.point})}};r.on("click",function(a){u(a,
W.elementClick)}).on("mouseover",function(a){u(a,W.elementMouseover)}).on("mouseout",function(a,b){u(a,W.elementMouseout)})}else ea.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(k,l){if(ma||!a[k.series])return 0;var n=a[k.series],q=n.values[l];W.elementClick({point:q,series:n,pos:[f(K(q,l))+b.left,v(G(q,l))+b.top],seriesIndex:k.series,pointIndex:l})}).on("mouseover",function(k,l){if(ma||!a[k.series])return 0;var n=a[k.series],q=n.values[l];W.elementMouseover({point:q,
series:n,pos:[f(K(q,l))+b.left,v(G(q,l))+b.top],seriesIndex:k.series,pointIndex:l})}).on("mouseout",function(b,f){if(ma||!a[b.series])return 0;var k=a[b.series];W.elementMouseout({point:k.values[f],series:k,seriesIndex:b.series,pointIndex:f})});ma=!1},300);y=f.copy();ka=v.copy();q.copy()});return a}var b={top:0,right:0,bottom:0,left:0},n=960,A=500,r=u.utils.defaultColor(),l=Math.floor(1E5*Math.random()),f=d3.scale.linear(),v=d3.scale.linear(),q=d3.scale.linear(),K=function(a){return a.x},G=function(a){return a.y},
E=function(a){return a.size||1},H=function(a){return a.shape||"circle"},D=!0,M=[],S=[],B=[],N=!0,Q=null,J=function(a){return!a.notActive},T=!1,P=.1,O=!1,w=!0,C=function(){return 25},F=null,t=null,R=null,V=null,U=null,I=null,aa=!1,W=d3.dispatch("elementClick","elementMouseover","elementMouseout"),k=!0,y,ka,X,ma=!1;a.clearHighlights=function(){d3.selectAll(".nv-chart-"+l+" .nv-point.hover").classed("hover",!1)};a.highlightPoint=function(a,b,f){d3.select(".nv-chart-"+l+" .nv-series-"+a+" .nv-point-"+
b).classed("hover",f)};W.on("elementMouseover.point",function(b){N&&a.highlightPoint(b.seriesIndex,b.pointIndex,!0)});W.on("elementMouseout.point",function(b){N&&a.highlightPoint(b.seriesIndex,b.pointIndex,!1)});a.dispatch=W;a.options=u.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return K;K=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return G;G=d3.functor(b);return a};a.size=function(b){if(!arguments.length)return E;E=d3.functor(b);return a};a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return v;v=b;return a};a.zScale=function(b){if(!arguments.length)return q;
q=b;return a};a.xDomain=function(b){if(!arguments.length)return F;F=b;return a};a.yDomain=function(b){if(!arguments.length)return t;t=b;return a};a.sizeDomain=function(b){if(!arguments.length)return U;U=b;return a};a.xRange=function(b){if(!arguments.length)return R;R=b;return a};a.yRange=function(b){if(!arguments.length)return V;V=b;return a};a.sizeRange=function(b){if(!arguments.length)return I;I=b;return a};a.forceX=function(b){if(!arguments.length)return M;M=b;return a};a.forceY=function(b){if(!arguments.length)return S;
S=b;return a};a.forceSize=function(b){if(!arguments.length)return B;B=b;return a};a.interactive=function(b){if(!arguments.length)return N;N=b;return a};a.pointKey=function(b){if(!arguments.length)return Q;Q=b;return a};a.pointActive=function(b){if(!arguments.length)return J;J=b;return a};a.padData=function(b){if(!arguments.length)return T;T=b;return a};a.padDataOuter=function(b){if(!arguments.length)return P;P=b;return a};a.clipEdge=function(b){if(!arguments.length)return O;O=b;return a};a.clipVoronoi=
function(b){if(!arguments.length)return w;w=b;return a};a.useVoronoi=function(b){if(!arguments.length)return k;k=b;!1===k&&(w=!1);return a};a.clipRadius=function(b){if(!arguments.length)return C;C=b;return a};a.color=function(b){if(!arguments.length)return r;r=u.utils.getColor(b);return a};a.shape=function(b){if(!arguments.length)return H;H=b;return a};a.onlyCircles=function(b){if(!arguments.length)return D;D=b;return a};a.id=function(b){if(!arguments.length)return l;l=b;return a};a.singlePoint=function(b){if(!arguments.length)return aa;
aa=b;return a};return a};u.models.scatterChart=function(){function a(ka){ka.each(function(ka){function X(){if(C)return ea.select(".nv-point-paths").style("pointer-events","all"),!1;ea.select(".nv-point-paths").style("pointer-events","none");var a=d3.mouse(this);H.distortion(w).focus(a[0]);D.distortion(w).focus(a[1]);ea.select(".nv-scatterWrap").call(b);J&&ea.select(".nv-x.nv-axis").call(n);T&&ea.select(".nv-y.nv-axis").call(A);ea.select(".nv-distributionX").datum(ka.filter(function(a){return!a.disabled})).call(f);
ea.select(".nv-distributionY").datum(ka.filter(function(a){return!a.disabled})).call(v)}var Y=d3.select(this),fa=this,ga=(K||parseInt(Y.style("width"))||960)-q.left-q.right,da=(G||parseInt(Y.style("height"))||400)-q.top-q.bottom;a.update=function(){Y.transition().duration(k).call(a)};a.container=this;U.disabled=ka.map(function(a){return!!a.disabled});if(!I){var ba;I={};for(ba in U)I[ba]=U[ba]instanceof Array?U[ba].slice(0):U[ba]}if(ka&&ka.length&&ka.filter(function(a){return a.values.length}).length)Y.selectAll(".nv-noData").remove();
else return ba=Y.selectAll(".nv-noData").data([W]),ba.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ba.attr("x",q.left+ga/2).attr("y",q.top+da/2).text(function(a){return a}),a;ba=Y.selectAll("g.nv-wrap.nv-scatterChart").data([ka]);var na=ba.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g"),ea=ba.select("g");na.append("rect").attr("class","nvd3 nv-background");na.append("g").attr("class","nv-x nv-axis");
na.append("g").attr("class","nv-y nv-axis");na.append("g").attr("class","nv-scatterWrap");na.append("g").attr("class","nv-distWrap");na.append("g").attr("class","nv-legendWrap");na.append("g").attr("class","nv-controlsWrap");if(Q){var Aa=O?ga/2:ga;r.width(Aa);ba.select(".nv-legendWrap").datum(ka).call(r);q.top!=r.height()&&(q.top=r.height(),da=(G||parseInt(Y.style("height"))||400)-q.top-q.bottom);ba.select(".nv-legendWrap").attr("transform","translate("+(ga-Aa)+","+-q.top+")")}O&&(l.width(180).color(["#444"]),
ea.select(".nv-controlsWrap").datum(y).attr("transform","translate(0,"+-q.top+")").call(l));ba.attr("transform","translate("+q.left+","+q.top+")");P&&ea.select(".nv-y.nv-axis").attr("transform","translate("+ga+",0)");b.width(ga).height(da).color(ka.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!ka[b].disabled}));0!==M&&b.xDomain(null);0!==S&&b.yDomain(null);ba.select(".nv-scatterWrap").datum(ka.filter(function(a){return!a.disabled})).call(b);0!==M&&(Aa=H.domain()[1]-H.domain()[0],
b.xDomain([H.domain()[0]-M*Aa,H.domain()[1]+M*Aa]));0!==S&&(Aa=D.domain()[1]-D.domain()[0],b.yDomain([D.domain()[0]-S*Aa,D.domain()[1]+S*Aa]));0===S&&0===M||ba.select(".nv-scatterWrap").datum(ka.filter(function(a){return!a.disabled})).call(b);J&&(n.scale(H).ticks(n.ticks()&&n.ticks().length?n.ticks():ga/100).tickSize(-da,0),ea.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")").call(n));T&&(A.scale(D).ticks(A.ticks()&&A.ticks().length?A.ticks():da/36).tickSize(-ga,0),ea.select(".nv-y.nv-axis").call(A));
B&&(f.getData(b.x()).scale(H).width(ga).color(ka.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!ka[b].disabled})),na.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),ea.select(".nv-distributionX").attr("transform","translate(0,"+D.range()[0]+")").datum(ka.filter(function(a){return!a.disabled})).call(f));N&&(v.getData(b.y()).scale(D).width(da).color(ka.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!ka[b].disabled})),na.select(".nv-distWrap").append("g").attr("class",
"nv-distributionY"),ea.select(".nv-distributionY").attr("transform","translate("+(P?ga:-v.size())+",0)").datum(ka.filter(function(a){return!a.disabled})).call(v));d3.fisheye&&(ea.select(".nv-background").attr("width",ga).attr("height",da),ea.select(".nv-background").on("mousemove",X),ea.select(".nv-background").on("click",function(){C=!C}),b.dispatch.on("elementClick.freezeFisheye",function(){C=!C}));l.dispatch.on("legendClick",function(f,k){f.disabled=!f.disabled;w=f.disabled?0:2.5;ea.select(".nv-background").style("pointer-events",
f.disabled?"none":"all");ea.select(".nv-point-paths").style("pointer-events",f.disabled?"all":"none");f.disabled?(H.distortion(w).focus(0),D.distortion(w).focus(0),ea.select(".nv-scatterWrap").call(b),ea.select(".nv-x.nv-axis").call(n),ea.select(".nv-y.nv-axis").call(A)):C=!1;a.update()});r.dispatch.on("stateChange",function(b){U.disabled=b.disabled;aa.stateChange(U);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+
a.pointIndex).attr("y1",function(b,f){return a.pos[1]-da});d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+f.size());a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];aa.tooltipShow(a)});aa.on("tooltipShow",function(f){if(F){var k=fa.parentNode,l=f.pos[0]+(k.offsetLeft||0),r=f.pos[1]+(k.offsetTop||0),v=f.pos[0]+(k.offsetLeft||0),y=D.range()[0]+q.top+(k.offsetTop||0),w=H.range()[0]+q.left+(k.offsetLeft||0),C=f.pos[1]+(k.offsetTop||0),I=n.tickFormat()(b.x()(f.point,
f.pointIndex)),B=A.tickFormat()(b.y()(f.point,f.pointIndex));null!=t&&u.tooltip.show([v,y],t(f.series.key,I,B,f,a),"n",1,k,"x-nvtooltip");null!=R&&u.tooltip.show([w,C],R(f.series.key,I,B,f,a),"e",1,k,"y-nvtooltip");null!=V&&u.tooltip.show([l,r],V(f.series.key,I,B,f,a),0>f.value?"n":"s",null,k)}});aa.on("changeState",function(b){"undefined"!==typeof b.disabled&&(ka.forEach(function(a,f){a.disabled=b.disabled[f]}),U.disabled=b.disabled);a.update()});H.copy();D.copy()});return a}var b=u.models.scatter(),
n=u.models.axis(),A=u.models.axis(),r=u.models.legend(),l=u.models.legend(),f=u.models.distribution(),v=u.models.distribution(),q={top:30,right:20,bottom:50,left:75},K=null,G=null,E=u.utils.defaultColor(),H=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.xScale(),D=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),M=0,S=0,B=!1,N=!1,Q=!0,J=!0,T=!0,P=!1,O=!!d3.fisheye,w=0,C=!1,F=!0,t=function(a,b,f){return"<strong>"+b+"</strong>"},R=function(a,b,f){return"<strong>"+
f+"</strong>"},V=null,U={},I=null,aa=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),W="No Data Available.",k=250;b.xScale(H).yScale(D);n.orient("bottom").tickPadding(10);A.orient(P?"right":"left").tickPadding(10);f.axis("x");v.axis("y");l.updateState(!1);var y=[{key:"Magnify",disabled:!0}];b.dispatch.on("elementMouseout.tooltip",function(a){aa.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+
b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",v.size())});aa.on("tooltipHide",function(){F&&u.tooltip.cleanup()});a.dispatch=aa;a.scatter=b;a.legend=r;a.controls=l;a.xAxis=n;a.yAxis=A;a.distX=f;a.distY=v;d3.rebind(a,b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=u.utils.optionsFunc.bind(a);
a.margin=function(b){if(!arguments.length)return q;q.top="undefined"!=typeof b.top?b.top:q.top;q.right="undefined"!=typeof b.right?b.right:q.right;q.bottom="undefined"!=typeof b.bottom?b.bottom:q.bottom;q.left="undefined"!=typeof b.left?b.left:q.left;return a};a.width=function(b){if(!arguments.length)return K;K=b;return a};a.height=function(b){if(!arguments.length)return G;G=b;return a};a.color=function(b){if(!arguments.length)return E;E=u.utils.getColor(b);r.color(E);f.color(E);v.color(E);return a};
a.showDistX=function(b){if(!arguments.length)return B;B=b;return a};a.showDistY=function(b){if(!arguments.length)return N;N=b;return a};a.showControls=function(b){if(!arguments.length)return O;O=b;return a};a.showLegend=function(b){if(!arguments.length)return Q;Q=b;return a};a.showXAxis=function(b){if(!arguments.length)return J;J=b;return a};a.showYAxis=function(b){if(!arguments.length)return T;T=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return P;P=b;A.orient(b?"right":"left");
return a};a.fisheye=function(b){if(!arguments.length)return w;w=b;return a};a.xPadding=function(b){if(!arguments.length)return M;M=b;return a};a.yPadding=function(b){if(!arguments.length)return S;S=b;return a};a.tooltips=function(b){if(!arguments.length)return F;F=b;return a};a.tooltipContent=function(b){if(!arguments.length)return V;V=b;return a};a.tooltipXContent=function(b){if(!arguments.length)return t;t=b;return a};a.tooltipYContent=function(b){if(!arguments.length)return R;R=b;return a};a.state=
function(b){if(!arguments.length)return U;U=b;return a};a.defaultState=function(b){if(!arguments.length)return I;I=b;return a};a.noData=function(b){if(!arguments.length)return W;W=b;return a};a.transitionDuration=function(b){if(!arguments.length)return k;k=b;return a};return a};u.models.scatterPlusLineChart=function(){function a(k){k.each(function(k){function X(){if(O)return ba.select(".nv-point-paths").style("pointer-events","all"),!1;ba.select(".nv-point-paths").style("pointer-events","none");var a=
d3.mouse(this);H.distortion(P).focus(a[0]);D.distortion(P).focus(a[1]);ba.select(".nv-scatterWrap").datum(k.filter(function(a){return!a.disabled})).call(b);N&&ba.select(".nv-x.nv-axis").call(n);Q&&ba.select(".nv-y.nv-axis").call(A);ba.select(".nv-distributionX").datum(k.filter(function(a){return!a.disabled})).call(f);ba.select(".nv-distributionY").datum(k.filter(function(a){return!a.disabled})).call(v)}var la=d3.select(this),ma=this,Y=(K||parseInt(la.style("width"))||960)-q.left-q.right,fa=(G||parseInt(la.style("height"))||
400)-q.top-q.bottom;a.update=function(){la.transition().duration(aa).call(a)};a.container=this;R.disabled=k.map(function(a){return!!a.disabled});if(!V){var ga;V={};for(ga in R)V[ga]=R[ga]instanceof Array?R[ga].slice(0):R[ga]}if(k&&k.length&&k.filter(function(a){return a.values.length}).length)la.selectAll(".nv-noData").remove();else return ga=la.selectAll(".nv-noData").data([I]),ga.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ga.attr("x",q.left+
Y/2).attr("y",q.top+fa/2).text(function(a){return a}),a;H=b.xScale();D=b.yScale();var da=la.selectAll("g.nv-wrap.nv-scatterChart").data([k]);ga=da.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g");var ba=da.select("g");ga.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");ga.append("g").attr("class","nv-x nv-axis");ga.append("g").attr("class","nv-y nv-axis");ga.append("g").attr("class","nv-scatterWrap");ga.append("g").attr("class",
"nv-regressionLinesWrap");ga.append("g").attr("class","nv-distWrap");ga.append("g").attr("class","nv-legendWrap");ga.append("g").attr("class","nv-controlsWrap");da.attr("transform","translate("+q.left+","+q.top+")");J&&ba.select(".nv-y.nv-axis").attr("transform","translate("+Y+",0)");B&&(r.width(Y/2),da.select(".nv-legendWrap").datum(k).call(r),q.top!=r.height()&&(q.top=r.height(),fa=(G||parseInt(la.style("height"))||400)-q.top-q.bottom),da.select(".nv-legendWrap").attr("transform","translate("+Y/
2+","+-q.top+")"));T&&(l.width(180).color(["#444"]),ba.select(".nv-controlsWrap").datum(W).attr("transform","translate(0,"+-q.top+")").call(l));b.width(Y).height(fa).color(k.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!k[b].disabled}));da.select(".nv-scatterWrap").datum(k.filter(function(a){return!a.disabled})).call(b);da.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");da=da.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});
da.enter().append("g").attr("class","nv-regLines");da=da.selectAll(".nv-regLine").data(function(a){return[a]});da.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);da.transition().attr("x1",H.range()[0]).attr("x2",H.range()[1]).attr("y1",function(a,b){return D(H.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return D(H.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,f){return E(a,f)}).style("stroke-opacity",function(a,b){return a.disabled||"undefined"===
typeof a.slope||"undefined"===typeof a.intercept?0:1});N&&(n.scale(H).ticks(n.ticks()?n.ticks():Y/100).tickSize(-fa,0),ba.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")").call(n));Q&&(A.scale(D).ticks(A.ticks()?A.ticks():fa/36).tickSize(-Y,0),ba.select(".nv-y.nv-axis").call(A));M&&(f.getData(b.x()).scale(H).width(Y).color(k.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!k[b].disabled})),ga.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),
ba.select(".nv-distributionX").attr("transform","translate(0,"+D.range()[0]+")").datum(k.filter(function(a){return!a.disabled})).call(f));S&&(v.getData(b.y()).scale(D).width(fa).color(k.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!k[b].disabled})),ga.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),ba.select(".nv-distributionY").attr("transform","translate("+(J?Y:-v.size())+",0)").datum(k.filter(function(a){return!a.disabled})).call(v));d3.fisheye&&(ba.select(".nv-background").attr("width",
Y).attr("height",fa),ba.select(".nv-background").on("mousemove",X),ba.select(".nv-background").on("click",function(){O=!O}),b.dispatch.on("elementClick.freezeFisheye",function(){O=!O}));l.dispatch.on("legendClick",function(f,k){f.disabled=!f.disabled;P=f.disabled?0:2.5;ba.select(".nv-background").style("pointer-events",f.disabled?"none":"all");ba.select(".nv-point-paths").style("pointer-events",f.disabled?"all":"none");f.disabled?(H.distortion(P).focus(0),D.distortion(P).focus(0),ba.select(".nv-scatterWrap").call(b),
ba.select(".nv-x.nv-axis").call(n),ba.select(".nv-y.nv-axis").call(A)):O=!1;a.update()});r.dispatch.on("stateChange",function(b){R=b;U.stateChange(R);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos[1]-fa);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+f.size());a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];U.tooltipShow(a)});U.on("tooltipShow",
function(f){if(w){var k=ma.parentNode,l=f.pos[0]+(k.offsetLeft||0),r=f.pos[1]+(k.offsetTop||0),v=f.pos[0]+(k.offsetLeft||0),y=D.range()[0]+q.top+(k.offsetTop||0),I=H.range()[0]+q.left+(k.offsetLeft||0),B=f.pos[1]+(k.offsetTop||0),E=n.tickFormat()(b.x()(f.point,f.pointIndex)),J=A.tickFormat()(b.y()(f.point,f.pointIndex));null!=C&&u.tooltip.show([v,y],C(f.series.key,E,J,f,a),"n",1,k,"x-nvtooltip");null!=F&&u.tooltip.show([I,B],F(f.series.key,E,J,f,a),"e",1,k,"y-nvtooltip");null!=t&&u.tooltip.show([l,
r],t(f.series.key,E,J,f.point.tooltip,f,a),0>f.value?"n":"s",null,k)}});U.on("changeState",function(b){"undefined"!==typeof b.disabled&&(k.forEach(function(a,f){a.disabled=b.disabled[f]}),R.disabled=b.disabled);a.update()});H.copy();D.copy()});return a}var b=u.models.scatter(),n=u.models.axis(),A=u.models.axis(),r=u.models.legend(),l=u.models.legend(),f=u.models.distribution(),v=u.models.distribution(),q={top:30,right:20,bottom:50,left:75},K=null,G=null,E=u.utils.defaultColor(),H=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):
b.xScale(),D=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),M=!1,S=!1,B=!0,N=!0,Q=!0,J=!1,T=!!d3.fisheye,P=0,O=!1,w=!0,C=function(a,b,f){return"<strong>"+b+"</strong>"},F=function(a,b,f){return"<strong>"+f+"</strong>"},t=function(a,b,f,l){return"<h3>"+a+"</h3><p>"+l+"</p>"},R={},V=null,U=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),I="No Data Available.",aa=250;b.xScale(H).yScale(D);n.orient("bottom").tickPadding(10);A.orient(J?"right":"left").tickPadding(10);
f.axis("x");v.axis("y");l.updateState(!1);var W=[{key:"Magnify",disabled:!0}];b.dispatch.on("elementMouseout.tooltip",function(a){U.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",v.size())});U.on("tooltipHide",function(){w&&u.tooltip.cleanup()});a.dispatch=U;a.scatter=b;a.legend=r;a.controls=l;a.xAxis=n;a.yAxis=A;a.distX=f;a.distY=v;d3.rebind(a,
b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return q;q.top="undefined"!=typeof b.top?b.top:q.top;q.right="undefined"!=typeof b.right?b.right:q.right;q.bottom="undefined"!=typeof b.bottom?b.bottom:q.bottom;q.left="undefined"!=typeof b.left?b.left:
q.left;return a};a.width=function(b){if(!arguments.length)return K;K=b;return a};a.height=function(b){if(!arguments.length)return G;G=b;return a};a.color=function(b){if(!arguments.length)return E;E=u.utils.getColor(b);r.color(E);f.color(E);v.color(E);return a};a.showDistX=function(b){if(!arguments.length)return M;M=b;return a};a.showDistY=function(b){if(!arguments.length)return S;S=b;return a};a.showControls=function(b){if(!arguments.length)return T;T=b;return a};a.showLegend=function(b){if(!arguments.length)return B;
B=b;return a};a.showXAxis=function(b){if(!arguments.length)return N;N=b;return a};a.showYAxis=function(b){if(!arguments.length)return Q;Q=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return J;J=b;A.orient(b?"right":"left");return a};a.fisheye=function(b){if(!arguments.length)return P;P=b;return a};a.tooltips=function(b){if(!arguments.length)return w;w=b;return a};a.tooltipContent=function(b){if(!arguments.length)return t;t=b;return a};a.tooltipXContent=function(b){if(!arguments.length)return C;
C=b;return a};a.tooltipYContent=function(b){if(!arguments.length)return F;F=b;return a};a.state=function(b){if(!arguments.length)return R;R=b;return a};a.defaultState=function(b){if(!arguments.length)return V;V=b;return a};a.noData=function(b){if(!arguments.length)return I;I=b;return a};a.transitionDuration=function(b){if(!arguments.length)return aa;aa=b;return a};return a};u.models.sparkline=function(){function a(r){r.each(function(a){var r=n-b.left-b.right,u=A-b.top-b.bottom,M=d3.select(this);l.domain(G||
d3.extent(a,v)).range(H||[0,r]);f.domain(E||d3.extent(a,q)).range(D||[u,0]);a=M.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");r=a.selectAll("path").data(function(a){return[a]});r.enter().append("path");r.exit().remove();r.style("stroke",function(a,b){return a.color||K(a,b)}).attr("d",d3.svg.line().x(function(a,b){return l(v(a,b))}).y(function(a,b){return f(q(a,
b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(f){if(-1!=f){var l=a[f];l.pointIndex=f;return l}return null}var l=a.map(function(a,b){return q(a,b)}),n=b(l.lastIndexOf(f.domain()[1])),r=b(l.indexOf(f.domain()[0])),l=b(l.length-1);return[r,n,l].filter(function(a){return null!=a})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a,b){return l(v(a,a.pointIndex))}).attr("cy",function(a,b){return f(q(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return v(a,
a.pointIndex)==l.domain()[1]?"nv-point nv-currentValue":q(a,a.pointIndex)==f.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,right:0,bottom:2,left:0},n=400,A=32,r=!0,l=d3.scale.linear(),f=d3.scale.linear(),v=function(a){return a.x},q=function(a){return a.y},K=u.utils.getColor(["#000"]),G,E,H,D;a.options=u.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:
b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.x=function(b){if(!arguments.length)return v;v=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return q;q=d3.functor(b);return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.yScale=function(b){if(!arguments.length)return f;
f=b;return a};a.xDomain=function(b){if(!arguments.length)return G;G=b;return a};a.yDomain=function(b){if(!arguments.length)return E;E=b;return a};a.xRange=function(b){if(!arguments.length)return H;H=b;return a};a.yRange=function(b){if(!arguments.length)return D;D=b;return a};a.animate=function(b){if(!arguments.length)return r;r=b;return a};a.color=function(b){if(!arguments.length)return K;K=u.utils.getColor(b);return a};return a};u.models.sparklinePlus=function(){function a(u){u.each(function(B){function E(){if(!q){var a=
w.selectAll(".nv-hoverValue").data(v),f=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+l(b.x()(B[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);v.length&&(f.append("line").attr("x1",0).attr("y1",-n.top).attr("x2",0).attr("y2",T),f.append("text").attr("class",
"nv-xValue").attr("x",-6).attr("y",-n.top).attr("text-anchor","end").attr("dy",".9em"),w.select(".nv-hoverValue .nv-xValue").text(K(b.x()(B[v[0]],v[0]))),f.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-n.top).attr("text-anchor","start").attr("dy",".9em"),w.select(".nv-hoverValue .nv-yValue").text(G(b.y()(B[v[0]],v[0]))))}}var Q=d3.select(this),J=(A||parseInt(Q.style("width"))||960)-n.left-n.right,T=(r||parseInt(Q.style("height"))||400)-n.top-n.bottom;a.update=function(){a(u)};a.container=
this;if(B&&B.length)Q.selectAll(".nv-noData").remove();else{var P=Q.selectAll(".nv-noData").data([M]);P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");P.attr("x",n.left+J/2).attr("y",n.top+T/2).text(function(a){return a});return a}P=b.y()(B[B.length-1],B.length-1);l=b.xScale();f=b.yScale();var O=Q.selectAll("g.nv-wrap.nv-sparklineplus").data([B]),Q=O.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),w=O.select("g");
Q.append("g").attr("class","nv-sparklineWrap");Q.append("g").attr("class","nv-valueWrap");Q.append("g").attr("class","nv-hoverArea");O.attr("transform","translate("+n.left+","+n.top+")");O=w.select(".nv-sparklineWrap");b.width(J).height(T);O.call(b);O=w.select(".nv-valueWrap").selectAll(".nv-currentValue").data([P]);O.enter().append("text").attr("class","nv-currentValue").attr("dx",D?-8:8).attr("dy",".9em").style("text-anchor",D?"end":"start");O.attr("x",J+(D?n.right:0)).attr("y",H?function(a){return f(a)}:
0).style("fill",b.color()(B[B.length-1],B.length-1)).text(G(P));Q.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!q){for(var a=d3.mouse(this)[0]-n.left,a=Math.round(l.invert(a)),f=Math.abs(b.x()(B[0],0)-a),r=0,u=0;u<B.length;u++)Math.abs(b.x()(B[u],u)-a)<f&&(f=Math.abs(b.x()(B[u],u)-a),r=u);v=[r];E()}}).on("click",function(){q=!q}).on("mouseout",function(){v=[];E()});w.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-n.left+","+-n.top+")"}).attr("width",
J+n.left+n.right).attr("height",T+n.top)});return a}var b=u.models.sparkline(),n={top:15,right:100,bottom:10,left:50},A=null,r=null,l,f,v=[],q=!1,K=d3.format(",r"),G=d3.format(",.2f"),E=!0,H=!0,D=!1,M="No Data Available.";a.sparkline=b;d3.rebind(a,b,"x","y","xScale","yScale","color");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return n;n.top="undefined"!=typeof b.top?b.top:n.top;n.right="undefined"!=typeof b.right?b.right:n.right;n.bottom="undefined"!=typeof b.bottom?
b.bottom:n.bottom;n.left="undefined"!=typeof b.left?b.left:n.left;return a};a.width=function(b){if(!arguments.length)return A;A=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.xTickFormat=function(b){if(!arguments.length)return K;K=b;return a};a.yTickFormat=function(b){if(!arguments.length)return G;G=b;return a};a.showValue=function(b){if(!arguments.length)return E;E=b;return a};a.alignValue=function(b){if(!arguments.length)return H;H=b;return a};a.rightAlignValue=function(b){if(!arguments.length)return D;
D=b;return a};a.noData=function(b){if(!arguments.length)return M;M=b;return a};return a};u.models.stackedArea=function(){function a(q){q.each(function(q){var u=n-b.left-b.right,N=A-b.top-b.bottom,P=d3.select(this);D=S.xScale();M=S.yScale();var O=q;q.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,f){a.index=f;a.seriesIndex=b;return a})});q=q.filter(function(a){return!a.disabled});q=d3.layout.stack().order(G).offset(K).values(function(a){return a.values}).x(f).y(v).out(function(a,
b,f){f=0===v(a)?0:f;a.display={y:f,y0:b}})(q);var P=P.selectAll("g.nv-wrap.nv-stackedarea").data([q]),w=P.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),C=w.append("defs"),w=w.append("g"),F=P.select("g");w.append("g").attr("class","nv-areaWrap");w.append("g").attr("class","nv-scatterWrap");P.attr("transform","translate("+b.left+","+b.top+")");S.width(u).height(N).x(f).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(q.map(function(a,b){return a.color||r(a,a.seriesIndex)}));
F.select(".nv-scatterWrap").datum(q).call(S);C.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect");P.select("#nv-edge-clip-"+l+" rect").attr("width",u).attr("height",N);F.attr("clip-path",H?"url(#nv-edge-clip-"+l+")":"");var t=d3.svg.area().x(function(a,b){return D(f(a,b))}).y0(function(a){return M(a.display.y0)}).y1(function(a){return M(a.display.y+a.display.y0)}).interpolate(E),R=d3.svg.area().x(function(a,b){return D(f(a,b))}).y0(function(a){return M(a.display.y0)}).y1(function(a){return M(a.display.y0)}),
u=F.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});u.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return R(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);B.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);B.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1);B.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});u.exit().remove();u.style("fill",function(a,b){return a.color||r(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||r(a,a.seriesIndex)});u.transition().attr("d",function(a,b){return t(a.values,b)});S.dispatch.on("elementMouseover.area",function(a){F.select(".nv-chart-"+l+" .nv-area-"+
a.seriesIndex).classed("hover",!0)});S.dispatch.on("elementMouseout.area",function(a){F.select(".nv-chart-"+l+" .nv-area-"+a.seriesIndex).classed("hover",!1)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,f=a[0].length,l=1/b,n,k,q,r=[];for(k=0;k<f;++k){for(q=n=0;n<O.length;n++)q+=v(O[n].values[k]);if(q)for(n=0;n<b;n++)a[n][k][1]/=q;else for(n=0;n<b;n++)a[n][k][1]=l}for(k=0;k<f;++k)r[k]=0;return r}});return a}var b={top:0,right:0,bottom:0,left:0},n=960,A=500,r=u.utils.defaultColor(),
l=Math.floor(1E5*Math.random()),f=function(a){return a.x},v=function(a){return a.y},q="stack",K="zero",G="default",E="linear",H=!1,D,M,S=u.models.scatter(),B=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");S.size(2.2).sizeDomain([2.2,2.2]);S.dispatch.on("elementClick.area",function(a){B.areaClick(a)});S.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];B.tooltipShow(a)});S.dispatch.on("elementMouseout.tooltip",function(a){B.tooltipHide(a)});
a.dispatch=B;a.scatter=S;d3.rebind(a,S,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights");a.options=u.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return f;f=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return v;v=d3.functor(b);return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?
f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return n;n=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.clipEdge=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(b){if(!arguments.length)return r;r=u.utils.getColor(b);return a};a.offset=function(b){if(!arguments.length)return K;
K=b;return a};a.order=function(b){if(!arguments.length)return G;G=b;return a};a.style=function(b){if(!arguments.length)return q;q=b;switch(q){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent),a.order("default")}return a};a.interpolate=function(b){if(!arguments.length)return E;
E=b;return a};return a};u.models.stackedAreaChart=function(){function a(I){I.each(function(I){var W=d3.select(this),k=this,y=(q||parseInt(W.style("width"))||960)-v.left-v.right,X=(K||parseInt(W.style("height"))||400)-v.top-v.bottom;a.update=function(){W.transition().duration(U).call(a)};a.container=this;O.disabled=I.map(function(a){return!!a.disabled});if(!w){var la;w={};for(la in O)w[la]=O[la]instanceof Array?O[la].slice(0):O[la]}if(I&&I.length&&I.filter(function(a){return a.values.length}).length)W.selectAll(".nv-noData").remove();
else return la=W.selectAll(".nv-noData").data([C]),la.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),la.attr("x",v.left+y/2).attr("y",v.top+X/2).text(function(a){return a}),a;J=b.xScale();T=b.yScale();la=W.selectAll("g.nv-wrap.nv-stackedAreaChart").data([I]);var ma=la.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),Y=la.select("g");ma.append("rect").style("opacity",0);ma.append("g").attr("class","nv-x nv-axis");
ma.append("g").attr("class","nv-y nv-axis");ma.append("g").attr("class","nv-stackedWrap");ma.append("g").attr("class","nv-legendWrap");ma.append("g").attr("class","nv-controlsWrap");ma.append("g").attr("class","nv-interactive");Y.select("rect").attr("width",y).attr("height",X);H&&(ma=E?y-t:y,r.width(ma),Y.select(".nv-legendWrap").datum(I).call(r),v.top!=r.height()&&(v.top=r.height(),X=(K||parseInt(W.style("height"))||400)-v.top-v.bottom),Y.select(".nv-legendWrap").attr("transform","translate("+(y-
ma)+","+-v.top+")"));if(E){var fa=[{key:V.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=b.style(),style:"stack"},{key:V.stream||"Stream",metaKey:"Stream",disabled:"stream"!=b.style(),style:"stream"},{key:V.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=b.style(),style:"expand"},{key:V.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=b.style(),style:"stack_percent"}];t=R.length/3*260;fa=fa.filter(function(a){return-1!==R.indexOf(a.metaKey)});l.width(t).color(["#444",
"#444","#444"]);Y.select(".nv-controlsWrap").datum(fa).call(l);v.top!=Math.max(l.height(),r.height())&&(v.top=Math.max(l.height(),r.height()),X=(K||parseInt(W.style("height"))||400)-v.top-v.bottom);Y.select(".nv-controlsWrap").attr("transform","translate(0,"+-v.top+")")}la.attr("transform","translate("+v.left+","+v.top+")");S&&Y.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)");B&&(f.width(y).height(X).margin({left:v.left,top:v.top}).svgContainer(W).xScale(J),la.select(".nv-interactive").call(f));
b.width(y).height(X);Y.select(".nv-stackedWrap").datum(I).transition().call(b);D&&(n.scale(J).ticks(y/100).tickSize(-X,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+X+")"),Y.select(".nv-x.nv-axis").transition().duration(0).call(n));M&&(A.scale(T).ticks("wiggle"==b.offset()?0:X/36).tickSize(-y,0).setTickFormat("expand"==b.style()||"stack_percent"==b.style()?d3.format("%"):P),Y.select(".nv-y.nv-axis").transition().duration(0).call(A));b.dispatch.on("areaClick.toggle",function(b){1===
I.filter(function(a){return!a.disabled}).length?I.forEach(function(a){a.disabled=!1}):I.forEach(function(a,f){a.disabled=f!=b.seriesIndex});O.disabled=I.map(function(a){return!!a.disabled});F.stateChange(O);a.update()});r.dispatch.on("stateChange",function(b){O.disabled=b.disabled;F.stateChange(O);a.update()});l.dispatch.on("legendClick",function(f,k){f.disabled&&(fa=fa.map(function(a){a.disabled=!0;return a}),f.disabled=!1,b.style(f.style),O.style=b.style(),F.stateChange(O),a.update())});f.dispatch.on("elementMousemove",
function(l){b.clearHighlights();var q,r,t,w=[];I.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(f,k){r=u.interactiveBisect(f.values,l.pointXValue,a.x());b.highlightPoint(k,r,!0);var n=f.values[r];if("undefined"!==typeof n){"undefined"===typeof q&&(q=n);"undefined"===typeof t&&(t=a.xScale()(a.x()(n,r)));var v="expand"==b.style()?n.display.y:a.y()(n,r);w.push({key:f.key,value:v,color:G(f,f.seriesIndex),stackedValue:n.display})}});w.reverse();if(2<w.length){var y=a.yScale().invert(l.mouseY),
B=null;w.forEach(function(a,b){y=Math.abs(y);var f=Math.abs(a.stackedValue.y0),k=Math.abs(a.stackedValue.y);y>=f&&y<=k+f&&(B=b)});null!=B&&(w[B].highlight=!0)}var C=n.tickFormat()(a.x()(q,r)),D="expand"==b.style()?function(a,b){return d3.format(".1%")(a)}:function(a,b){return A.tickFormat()(a)};f.tooltip.position({left:t+v.left,top:l.mouseY+v.top}).chartContainer(k.parentNode).enabled(N).valueFormatter(D).data({value:C,series:w})();f.renderGuideLine(t)});f.dispatch.on("elementMouseout",function(a){F.tooltipHide();
b.clearHighlights()});F.on("tooltipShow",function(f){if(N){var l=k.parentNode,q=f.pos[0]+(l.offsetLeft||0),r=f.pos[1]+(l.offsetTop||0),t=n.tickFormat()(b.x()(f.point,f.pointIndex)),v=A.tickFormat()(b.y()(f.point,f.pointIndex)),t=Q(f.series.key,t,v,f,a);u.tooltip.show([q,r],t,0>f.value?"n":"s",null,l)}});F.on("changeState",function(f){"undefined"!==typeof f.disabled&&I.length===f.disabled.length&&(I.forEach(function(a,b){a.disabled=f.disabled[b]}),O.disabled=f.disabled);"undefined"!==typeof f.style&&
b.style(f.style);a.update()})});return a}var b=u.models.stackedArea(),n=u.models.axis(),A=u.models.axis(),r=u.models.legend(),l=u.models.legend(),f=u.interactiveGuideline(),v={top:30,right:25,bottom:50,left:60},q=null,K=null,G=u.utils.defaultColor(),E=!0,H=!0,D=!0,M=!0,S=!1,B=!1,N=!0,Q=function(a,b,f,k,l){return"<h3>"+a+"</h3><p>"+f+" on "+b+"</p>"},J,T,P=d3.format(",.2f"),O={style:b.style()},w=null,C="No Data Available.",F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),t=250,
R=["Stacked","Stream","Expanded"],V={},U=250;n.orient("bottom").tickPadding(7);A.orient(S?"right":"left");l.updateState(!1);b.dispatch.on("tooltipShow",function(a){a.pos=[a.pos[0]+v.left,a.pos[1]+v.top];F.tooltipShow(a)});b.dispatch.on("tooltipHide",function(a){F.tooltipHide(a)});F.on("tooltipHide",function(){N&&u.tooltip.cleanup()});a.dispatch=F;a.stacked=b;a.legend=r;a.controls=l;a.xAxis=n;a.yAxis=A;a.interactiveLayer=f;d3.rebind(a,b,"x","y","size","xScale","yScale","xDomain","yDomain","xRange",
"yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");a.options=u.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return v;v.top="undefined"!=typeof b.top?b.top:v.top;v.right="undefined"!=typeof b.right?b.right:v.right;v.bottom="undefined"!=typeof b.bottom?b.bottom:v.bottom;v.left="undefined"!=typeof b.left?b.left:v.left;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=
function(b){if(!arguments.length)return K;K=b;return a};a.color=function(f){if(!arguments.length)return G;G=u.utils.getColor(f);r.color(G);b.color(G);return a};a.showControls=function(b){if(!arguments.length)return E;E=b;return a};a.showLegend=function(b){if(!arguments.length)return H;H=b;return a};a.showXAxis=function(b){if(!arguments.length)return D;D=b;return a};a.showYAxis=function(b){if(!arguments.length)return M;M=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return S;S=b;A.orient(b?
"right":"left");return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return B;B=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1));return a};a.tooltip=function(b){if(!arguments.length)return Q;Q=b;return a};a.tooltips=function(b){if(!arguments.length)return N;N=b;return a};a.tooltipContent=function(b){if(!arguments.length)return Q;Q=b;return a};a.state=function(b){if(!arguments.length)return O;O=b;return a};a.defaultState=function(b){if(!arguments.length)return w;w=b;return a};a.noData=
function(b){if(!arguments.length)return C;C=b;return a};a.transitionDuration=function(b){if(!arguments.length)return U;U=b;return a};a.controlsData=function(b){if(!arguments.length)return R;R=b;return a};a.controlLabels=function(b){if(!arguments.length||"object"!==typeof b)return V;V=b;return a};A.setTickFormat=A.tickFormat;A.tickFormat=function(a){if(!arguments.length)return P;P=a;return A};return a}})();
(function(X,u){var a=0;X.widget("s3.timeplot",{options:{ajaxURL:null,autoSubmit:1E3,burnDown:!1,emptyMessage:"No data available",thousandSeparator:" ",thousandGrouping:"3",precision:null,defaultChartType:"linechart",defaultChartAxis:"totals"},_create:function(){this.id=a;a+=1},_init:function(){var a=X(this.element),n=this.options;this.widget_id=a.attr("id");this.input=a.find('input[type="hidden"][name="tp-data"]').first();this.svg=this.data=null;a=a.find(".tp-chart");this.chart=a.length?a.first():
null;this.currentChart={type:null,chart:null,container:null};n.numberFormatter=function(a){var b=n.precision;if(null===a||"undefined"==typeof a)return"-";b=b||0==b?a.toFixed(b):a.toString();b=b.split(".");a=b[0];b=1<b.length?"."+b[1]:"";a=a.replace(new RegExp("\\B(?=(\\d{"+n.thousandGrouping+"})+(?!\\d))","g"),n.thousandSeparator);return a+b};this.refresh()},_destroy:function(){var a=this.element;this._unbindEvents();this.svg&&(this.svg.remove(),this.svg=null,a.find(".tp-chart").empty());this.data=
null;X.Widget.prototype.destroy.call(this)},refresh:function(){var a=this.element;this._unbindEvents();this._renderChart();this._renderChartOptions();this.options.autoSubmit?a.find(".tp-submit").hide():a.find(".tp-submit").show();this._bindEvents();a.find(".tp-throbber").hide()},_renderChartOptions:function(){var a=X(this.element),n=a.find(".tp-chart-controls").first().empty();if(!this.data.e){var u=a.attr("id"),a=X('<div class="pt-chart-opts">'),r=u+"-bchart-totals",u=u+"-lchart-totals";X(a).append(X('<span id="'+
u+'" class="tp-chart-icon tp-lchart"/><span class="tp-chart-label">Line Chart</span>'));X(a).append(X('<span id="'+r+'" class="tp-chart-icon tp-bchart"/><span class="tp-chart-label">Bar Chart</span>'));X(n).append(a)}},_renderChart:function(a){var n=this.chart;if(n){var u=this.options,r=this.currentChart,l=null,f=null;a?(l=a.type,f=a.axis):(r&&(l=r.type,f=r.axis),l&&f||(l=u.defaultChartType,f=u.defaultChartAxis));r.type==l&&r.axis==f||this._removeChart();a=this.element;u=a.find(".tp-empty");r=this.data;
null===r&&(r=JSON.parse(this.input.val()));r||(r={e:!0});this.data=r;if(r.e)this._removeChart(),a.find(".tp-empty").show();else switch(u.hide(),n.show(),f){case "totals":switch(l){case "barchart":this._renderBarChart(n,r.f,r.p);break;default:this._renderLineChart(n,r.f,r.p)}}}},_removeChart:function(){var a=this.chart;a&&(a.empty().hide(),a=this.currentChart,a.container=null,a.chart=null,a.type=null,a.axis=null,X(window).off("resize.tp"))},_renderBarChart:function(a,n,u){var r=[];for(n=0;n<u.length;n++){var l=
u[n];r.push({start:(new Date(l.t[0])).getTime(),value:l.v[0]})}u=this.currentChart;var f,v;u.chart?(v=u.container,f=u.chart,v.datum([{key:"reportChart",values:r}]).transition().duration(500).call(f)):(X(a).closest(".tp-chart-contents").show().css({width:"96%"}),X(a).css({height:"360px"}),v=d3.select(X(a).get(0)).append("svg").attr("class","nv"),f=nv.models.discreteBarChart().x(function(a){return a.start}).y(function(a){return a.value}).color(["silver"]).staggerLabels(!0).tooltips(!1).showValues(!0).forceY([0,
1]),a=this.options.numberFormatter,f.valueFormat(a),f.yAxis.tickFormat(a),f.xAxis.tickFormat(function(a){return(new Date(a)).toLocaleDateString()}),nv.addGraph(function(){v.datum([{key:"reportChart",values:r}]).transition().duration(500).call(f);X(window).off("resize.tp").on("resize.tp",function(a){f.update(a)});return f}),u.container=v,u.chart=f,u.type="barchart",u.axis="totals")},_renderLineChart:function(a,n,u){var r=[],l={},f,v=0,q=1==n.length,K;for(K=0;K<n.length;K++){f=n[K][0];l.hasOwnProperty(f)&&
(v=l[f]+1);(l[f]=v)&&(f+=" ["+(v+1)+"]");var G={key:f,label:n[K][0],area:q},E,H=[];for(f=0;f<u.length;f++)E=u[f],H.push({start:(new Date(E.t[0])).getTime(),value:E.v[K]});G.values=H;r.push(G)}n=this.currentChart;var D,M;n.chart?(M=n.container,D=n.chart,M.datum(r).transition().duration(250).call(D)):(X(a).closest(".tp-chart-contents").show().css({width:"96%"}),X(a).css({height:"360px"}),M=d3.select(X(a).get(0)).append("svg").attr("class","nv"),D=nv.models.lineChart().x(function(a){return a.start}).y(function(a){return a.value}).margin({right:50}).transitionDuration(250).showLegend(!0).useInteractiveGuideline(!0).forceY([0,
1]),D.yAxis.tickFormat(this.options.numberFormatter),D.xAxis.tickFormat(function(a){return(new Date(a)).toLocaleDateString()}),nv.addGraph(function(){M.datum(r).transition().duration(500).call(D);X(window).off("resize.tp").on("resize.tp",function(a){D.update(a)});return D}),n.container=M,n.chart=D,n.type="linechart",n.axis="totals")},reload:function(a,n,u){u="undefined"!=typeof u?u:!0;"undefined"==typeof n&&(n=this._getFilters());var r=this,l=!1;X(this.element).find(".tp-throbber").show();if(a||n)l=
this._updateAjaxURL(a,n);l||u?X.ajax({url:this.options.ajaxURL,dataType:"json"}).done(function(a){r.input.val(JSON.stringify(a));r.data=a;r.refresh()}).fail(function(a,b,l){msg="UNAUTHORIZED"==l?i18n.gis_requires_login:a.responseText;console.log(msg)}):r.refresh()},_getOptions:function(){var a="#"+X(this.element).attr("id"),a=X(a+"-time").val(),n=null,u=null,r=null,l=null;"custom"!=a&&(n=a.split("|"),3==n.length&&(u=n[0],r=n[1],l=n[2]));return{start:u,end:r,slots:l}},_getFilters:function(){var a=
X("#"+this.widget_id+"-filters");try{return a.length?S3.search.getCurrentFilters(a.first()):null}catch(n){return null}},_updateAjaxURL:function(a,n){var u=this.options.ajaxURL;if(!u)return!1;var r,l=u.split("?"),f;1<l.length?(r=l[1],f=r.split("&")):f=[];var v=[],u=!1;if(a)for(var q in a)r=a[q],r=q+"="+r,u||-1!=X.inArray(r,f)||(u=!0),v.push(r);q={};r={};var K,G,E,H;if(n)for(G=0,E=n.length;G<E;G++)K=n[G],H=K[0],K=K[1],null===K?q[H]||(r[H]=!0):(r[H]&&(r[H]=!1),K=H+"="+encodeURIComponent(K),q[H]?q[H].push(K):
q[H]=[K]);G=0;for(E=f.length;G<E;G++)K=f[G].split("="),1<K.length&&(H=decodeURIComponent(K[0]),K=decodeURIComponent(K[1]),r[H]?u=!0:q[H]?u||-1!=X.inArray(H+"="+K,q[H])||(u=!0):a&&a.hasOwnProperty(H)||v.push(f[G]));for(H in q)for(G=0,E=q[H].length;G<E;G++)u||-1!=X.inArray(q[H][G],f)||(u=!0),v.push(q[H][G]);H=v.join("&");l=l[0];H&&(l=l+"?"+H);this.options.ajaxURL=l;return u},_parseDate:function(a){return d3.time.format("%Y-%m-%dT%H:%M:%S+00:00").parse(a)},_bindEvents:function(){var a=this,n="#"+this.widget_id;
X(n+"-options legend").click(function(){X(this).siblings().toggle();X(this).children().toggle()});X(n+"-filters legend").click(function(){X(this).siblings().toggle();X(this).children().toggle()});X(n+"-time").on("change.autosubmit",function(){X(n+"-tp-form").trigger("optionChanged")});if(this.options.autoSubmit){var u=this.options.autoSubmit;X(n+"-tp-form").on("optionChanged",function(){var n=X(this);if(!n.data("noAutoSubmit")){var l=n.data("autoSubmitTimeout");l&&clearTimeout(l);l=setTimeout(function(){var f=
a._getOptions(),l=a._getFilters();a.reload(f,l,!1)},u);n.data("autoSubmitTimeout",l)}})}else X(n+"-tp-form input.tp-submit").on("click.timeplot",function(){var n=a._getOptions(),l=a._getFilters();a.reload(n,l,!1)});X(n+"-lchart-totals").click(function(){a._renderChart({type:"linechart",axis:"totals"})});X(n+"-bchart-totals").click(function(){a._renderChart({type:"barchart",axis:"totals"})})},_unbindEvents:function(){var a="#"+this.widget_id;X(window).off("resize.timeplot");X(a+"-tp-form").off("optionChanged");
X(a+"-tp-form input.tp-submit").off("click.timeplot");X(a+"-time").unbind("change.autosubmit");X(a+"-options legend").unbind("click");X(a+"-filters legend").unbind("click");X(a+"-lchart-totals,"+a+"-bchart-totals").unbind("click")}})})(jQuery);
