var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){c!=Array.prototype&&c!=Object.prototype&&(c[a]=b.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var a=0;return $jscomp.iteratorPrototype(function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,a){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var b=0,d={next:function(){if(b<c.length){var g=b++;return{value:a(g,c[g]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(c,a,b,d){if(a){b=$jscomp.global;c=c.split(".");for(d=0;d<c.length-1;d++){var g=c[d];g in b||(b[g]={});b=b[g]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(b,c,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(a,b){return b})}},"es8","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var c={},a=Object.create(new $jscomp.global.Proxy(c,{get:function(b,d,g){return b==c&&"q"==d&&g==a}}));return!0===a.q}catch(b){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();var a=c[Symbol.iterator];return a?a.call(c):$jscomp.arrayIterator(c)};
$jscomp.owns=function(c,a){return Object.prototype.hasOwnProperty.call(c,a)};
$jscomp.polyfill("WeakMap",function(c){function a(){if(!c||!Object.seal)return!1;try{var a=Object.seal({}),b=Object.seal({}),d=new c([[a,2],[b,3]]);if(2!=d.get(a)||3!=d.get(b))return!1;d.delete(a);d.set(b,4);return!d.has(a)&&4==d.get(b)}catch(n){return!1}}function b(a){$jscomp.owns(a,g)||$jscomp.defineProperty(a,g,{value:{}})}function d(a){var c=Object[a];c&&(Object[a]=function(a){b(a);return c(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(a())return c;
var g="$jscomp_hidden_"+Math.random();d("freeze");d("preventExtensions");d("seal");var f=0,h=function(a){this.id_=(f+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};h.prototype.set=function(a,c){b(a);if(!$jscomp.owns(a,g))throw Error("WeakMap key fail: "+a);a[g][this.id_]=c;return this};h.prototype.get=function(a){return $jscomp.owns(a,g)?a[g][this.id_]:void 0};h.prototype.has=
function(a){return $jscomp.owns(a,g)&&$jscomp.owns(a[g],this.id_)};h.prototype.delete=function(a){return $jscomp.owns(a,g)&&$jscomp.owns(a[g],this.id_)?delete a[g][this.id_]:!1};return h},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(c){function a(){if($jscomp.ASSUME_NO_NATIVE_MAP||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),b=new c($jscomp.makeIterator([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var d=b.entries(),f=d.next();if(f.done||f.value[0]!=a||"s"!=f.value[1])return!1;f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(r){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(a())return c;$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=new WeakMap,d=function(a){this.data_={};this.head_=h();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};d.prototype.set=function(a,b){var c=g(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,
key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};d.prototype.delete=function(a){a=g(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=h();this.size=0};d.prototype.has=function(a){return!!g(this,a).entry};
d.prototype.get=function(a){return(a=g(this,a).entry)&&a.value};d.prototype.entries=function(){return f(this,function(a){return[a.key,a.value]})};d.prototype.keys=function(){return f(this,function(a){return a.key})};d.prototype.values=function(){return f(this,function(a){return a.value})};d.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var g=function(a,c){var d=c&&typeof c;"object"==
d||"function"==d?b.has(c)?d=b.get(c):(d=""+ ++l,b.set(c,d)):d="p_"+c;var e=a.data_[d];if(e&&$jscomp.owns(a.data_,d))for(a=0;a<e.length;a++){var f=e[a];if(c!==c&&f.key!==f.key||c===f.key)return{id:d,list:e,index:a,entry:f}}return{id:d,list:e,index:-1,entry:void 0}},f=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},h=function(){var a={};return a.previous=
a.next=a.head=a},l=0;return d},"es6","es3");
$jscomp.polyfill("Set",function(c){function a(){if($jscomp.ASSUME_NO_NATIVE_SET||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),b=new c($jscomp.makeIterator([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;var f=b.entries(),h=f.next();if(h.done||h.value[0]!=a||h.value[1]!=a)return!1;h=f.next();return h.done||h.value[0]==a||4!=h.value[0].x||h.value[1]!=h.value[0]?!1:f.next().done}catch(l){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(a())return c;$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};b.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};b.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};b.prototype.clear=function(){this.map_.clear();
this.size=0};b.prototype.has=function(a){return this.map_.has(a)};b.prototype.entries=function(){return this.map_.entries()};b.prototype.values=function(){return this.map_.values()};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(d){return a.call(b,d,d,c)})};return b},"es6","es3");
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");$jscomp.polyfill("Array.prototype.entries",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(a,b){return[a,b]})}},"es6","es3");
(function(){var c={dev:!1};c.tooltip=c.tooltip||{};c.utils=c.utils||{};c.models=c.models||{};c.charts={};c.logs={};c.dom={};"undefined"!==typeof module&&"undefined"!==typeof exports&&"undefined"==typeof d3&&(d3=require("d3"));c.dispatch=d3.dispatch("render_start","render_end");Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,
1),c=this,g=function(){},f=function(){return c.apply(this instanceof g&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};g.prototype=this.prototype;f.prototype=new g;return f});c.dev&&(c.dispatch.on("render_start",function(a){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(a){c.logs.endTime=+new Date;c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)}));c.log=function(){c.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,
arguments):c.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments);return arguments[arguments.length-1]};c.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")};c.render=function(a){a=a||1;c.render.active=!0;c.dispatch.render_start();var b=function(){for(var d,g,f=0;f<a&&(g=c.render.queue[f]);f++)d=g.generate(),typeof g.callback==typeof Function&&
g.callback(d);c.render.queue.splice(0,f);c.render.queue.length?setTimeout(b):(c.dispatch.render_end(),c.render.active=!1)};setTimeout(b)};c.render.active=!1;c.render.queue=[];c.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});c.render.queue.push(a);c.render.active||c.render()};"undefined"!==typeof module&&"undefined"!==typeof exports&&(module.exports=c);"undefined"!==typeof window&&(window.nv=c);c.dom.write=function(a){return void 0!==window.fastdom?fastdom.mutate(a):
a()};c.dom.read=function(a){return void 0!==window.fastdom?fastdom.measure(a):a()};c.interactiveGuideline=function(){function a(q){q.each(function(r){function u(){var c=d3.mouse(this),d=c[0];c=c[1];var e=!0,m=!1;n&&(d=d3.event.offsetX,c=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(e=!1),d3.event.target.className.baseVal.match("nv-legend")&&(m=!0));e&&(d-=b.left,c-=b.top);if("mouseout"===d3.event.type||0>d||0>c||d>q||c>x||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||
m)n&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(k.nvPointerEventsClass))||(h.elementMouseout({mouseX:d,mouseY:c}),a.renderGuideLine(null),k.hidden(!0));else{k.hidden(!1);if("function"===typeof f.rangeBands)if(e=d3.bisect(f.range(),d)-1,f.range()[e]+f.rangeBand()>=d)e=f.domain()[d3.bisect(f.range(),d)-1];else{h.elementMouseout({mouseX:d,mouseY:c});a.renderGuideLine(null);k.hidden(!0);return}else e=
f.invert(d);h.elementMousemove({mouseX:d,mouseY:c,pointXValue:e});"dblclick"===d3.event.type&&h.elementDblclick({mouseX:d,mouseY:c,pointXValue:e});"click"===d3.event.type&&h.elementClick({mouseX:d,mouseY:c,pointXValue:e});"mousedown"===d3.event.type&&h.elementMouseDown({mouseX:d,mouseY:c,pointXValue:e});"mouseup"===d3.event.type&&h.elementMouseUp({mouseX:d,mouseY:c,pointXValue:e})}}var w=d3.select(this),q=d||960,x=g||400,A=w.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([r]);A.enter().append("g").attr("class",
" nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");e&&(e.on("touchmove",u).on("mousemove",u,!0).on("mouseout",u,!0).on("mousedown",u,!0).on("mouseup",u,!0).on("dblclick",u).on("click",u),a.guideLine=null,a.renderGuideLine=function(b){l&&(a.guideLine&&a.guideLine.attr("x1")===b||c.dom.write(function(){var a=A.select(".nv-interactiveGuideLine").selectAll("line").data(null!=b?[c.utils.NaNtoZero(b)]:[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",
function(a){return a}).attr("x2",function(a){return a}).attr("y1",x).attr("y2",0);a.exit().remove()}))})})}var b={left:0,top:0},d=null,g=null,f=d3.scale.linear(),h=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),l=!0,e=null,k=c.models.tooltip(),n=window.ActiveXObject;k.duration(0).hideDelay(0).hidden(!1);a.dispatch=h;a.tooltip=k;a.margin=function(c){if(!arguments.length)return b;b.top="undefined"!=typeof c.top?c.top:b.top;b.left=
"undefined"!=typeof c.left?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return d;d=b;return a};a.height=function(b){if(!arguments.length)return g;g=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.showGuideLine=function(b){if(!arguments.length)return l;l=b;return a};a.svgContainer=function(b){if(!arguments.length)return e;e=b;return a};return a};c.interactiveBisect=function(a,b,c){if(!(a instanceof Array))return null;var d="function"!==typeof c?function(a){return a.x}:
c;c=d3.bisector(function(a,b){return d(a)-b}).left;c=d3.max([0,c(a,b)-1]);var f=d(a[c]);"undefined"===typeof f&&(f=c);if(f===b)return c;var h=d3.min([c+1,a.length-1]);a=d(a[h]);"undefined"===typeof a&&(a=h);return Math.abs(a-b)>=Math.abs(f-b)?c:h};c.nearestValueIndex=function(a,b,c){var d=Infinity,f=null;a.forEach(function(a,g){var e=Math.abs(b-a);null!=a&&e<=d&&e<c&&(d=e,f=g)});return f};c.models.tooltip=function(){function a(){if(u&&m(d))return c.dom.write(function(){n&&n.node()||(n=d3.select(document.body).select("#"+
b).data([1]),n.enter().append("div").attr("class","nvtooltip "+(l?l:"xy-tooltip")).attr("id",b).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed("nv-pointer-events-none",!0).classed("nv-pointer-events-none",!0),n.exit().remove());var a=B(d);a&&(n.node().innerHTML=a);H()}),a}var b="nvtooltip-"+Math.floor(1E5*Math.random()),d=null,g="w",f=25,h=0,l=null,e=!0,k=200,n=null,q=null,r=null,u=!0,w=100,v=!0,x=function(a,b){return a},A=function(a){return a},
t=function(a,b){return a},B=function(a){if(null===a)return"";var b=d3.select(document.createElement("table"));v&&b.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(A(a.value));var c=b.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});c.append("td").classed("legend-color-guide",!0).append("div").style("background-color",
function(a){return a.color});c.append("td").classed("key",!0).classed("total",function(a){return!!a.total}).html(function(a,b){return t(a.key,b)});c.append("td").classed("value",!0).html(function(a,b){return x(a.value,b)});c.filter(function(a,b){return void 0!==a.percent}).append("td").classed("percent",!0).html(function(a,b){return"("+d3.format("%")(a.percent)+")"});c.selectAll("td").each(function(a){a.highlight&&(a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),d3.select(this).style("border-bottom-color",
a(.6)).style("border-top-color",a(.6)))});b=b.node().outerHTML;void 0!==a.footer&&(b+="<div class='footer'>"+a.footer+"</div>");return b},D=function(){var a={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var b=document.body.getBoundingClientRect();a.left-=b.left;a.top-=b.top}return a},m=function(a){if(a&&a.series){if(c.utils.isArray(a.series))return!0;if(c.utils.isObject(a.series))return a.series=[a.series],!0}return!1},
G=function(a){var b=n.node().offsetHeight,c=n.node().offsetWidth,d=document.documentElement.clientWidth,m=document.documentElement.clientHeight,e;switch(g){case "e":var E=-c-f;var z=-(b/2);0>a.left+E&&(E=f);0>(e=a.top+z)&&(z-=e);(e=a.top+z+b)>m&&(z-=e-m);break;case "w":E=f;z=-(b/2);a.left+E+c>d&&(E=-c-f);0>(e=a.top+z)&&(z-=e);(e=a.top+z+b)>m&&(z-=e-m);break;case "n":E=-(c/2)-5;z=f;a.top+z+b>m&&(z=-b-f);0>(e=a.left+E)&&(E-=e);(e=a.left+E+c)>d&&(E-=e-d);break;case "s":E=-(c/2);z=-b-f;0>a.top+z&&(z=
f);0>(e=a.left+E)&&(E-=e);(e=a.left+E+c)>d&&(E-=e-d);break;case "center":E=-(c/2);z=-(b/2);break;default:z=E=0}return{left:E,top:z}},H=function(){c.dom.read(function(){var a=D(),b=G(a),c=a.left+b.left;a=a.top+b.top;if(e)n.interrupt().transition().delay(k).duration(0).style("opacity",0);else{b="translate("+Math.round(c)+"px, "+Math.round(a)+"px)";var d=d3.interpolateString("translate("+q+"px, "+r+"px)",b),m=.1>n.style("opacity");n.interrupt().transition().duration(m?0:w).styleTween("transform",function(a){return d},
"important").styleTween("-webkit-transform",function(a){return d}).style("-ms-transform",b).style("opacity",1)}q=c;r=a})};a.nvPointerEventsClass="nv-pointer-events-none";a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{duration:{get:function(){return w},set:function(a){w=a}},gravity:{get:function(){return g},set:function(a){g=a}},distance:{get:function(){return f},set:function(a){f=a}},snapDistance:{get:function(){return h},set:function(a){h=a}},classes:{get:function(){return l},
set:function(a){l=a}},enabled:{get:function(){return u},set:function(a){u=a}},hideDelay:{get:function(){return k},set:function(a){k=a}},contentGenerator:{get:function(){return B},set:function(a){B=a}},valueFormatter:{get:function(){return x},set:function(a){x=a}},headerFormatter:{get:function(){return A},set:function(a){A=a}},keyFormatter:{get:function(){return t},set:function(a){t=a}},headerEnabled:{get:function(){return v},set:function(a){v=a}},position:{get:function(){return D},set:function(a){D=
a}},chartContainer:{get:function(){return document.body},set:function(a){c.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(a){c.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(a){c.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return e},set:function(b){e!=b&&(e=!!b,a())}},data:{get:function(){return d},set:function(a){a.point&&(a.value=
a.point.x,a.series=a.series||{},a.series.value=a.point.y,a.series.color=a.point.color||a.series.color);d=a}},node:{get:function(){return n.node()},set:function(a){}},id:{get:function(){return b},set:function(a){}}});c.utils.initOptions(a);return a};c.utils.windowSize=function(){var a={width:640,height:480};if(window.innerWidth&&window.innerHeight)return a.width=window.innerWidth,a.height=window.innerHeight,a;if("CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth)return a.width=
document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight,a;document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight);return a};c.utils.isArray=Array.isArray;c.utils.isObject=function(a){return null!==a&&"object"===typeof a};c.utils.isFunction=function(a){return"function"===typeof a};c.utils.isDate=function(a){return"[object Date]"===toString.call(a)};c.utils.isNumber=function(a){return!isNaN(a)&&"number"===typeof a};
c.utils.windowResize=function(a){window.addEventListener?window.addEventListener("resize",a):c.log("ERROR: Failed to bind to window.resize with: ",a);return{callback:a,clear:function(){window.removeEventListener("resize",a)}}};c.utils.getColor=function(a){if(void 0===a)return c.utils.defaultColor();if(c.utils.isArray(a)){var b=d3.scale.ordinal().range(a);return function(a,c){return a.color||b(void 0===c?a:c)}}return a};c.utils.defaultColor=function(){return c.utils.getColor(d3.scale.category20().range())};
c.utils.customTheme=function(a,b,d){b=b||function(a){return a.key};d=d||d3.scale.category20().range();var g=d.length;return function(f,h){f=b(f);if(c.utils.isFunction(a[f]))return a[f]();if(void 0!==a[f])return a[f];g||(g=d.length);--g;return d[g]}};c.utils.pjax=function(a,b){var d=function(d){d3.html(d,function(d){var f=d3.select(b).node();f.parentNode.replaceChild(d3.select(d).select(b).node(),f);c.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,
this.href);d(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&d(d3.event.state)})};c.utils.calcApproxTextWidth=function(a){if(c.utils.isFunction(a.style)&&c.utils.isFunction(a.text)){var b=parseInt(a.style("font-size").replace("px",""),10);a=a.text().length;return c.utils.NaNtoZero(a*b*.5)}return 0};c.utils.NaNtoZero=function(a){return!c.utils.isNumber(a)||isNaN(a)||null===a||Infinity===a||-Infinity===a?0:a};d3.selection.prototype.watchTransition=function(a){var b=
[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)};c.utils.renderWatch=function(a,b){if(!(this instanceof c.utils.renderWatch))return new c.utils.renderWatch(a,b);var d=void 0!==b?b:250,g=[],f=this;this.models=function(a){a=[].slice.call(arguments,0);a.forEach(function(a){a.__rendered=!1;(function(a){a.dispatch.on("renderEnd",function(b){a.__rendered=!0;f.renderEnd("model")})})(a);0>g.indexOf(a)&&g.push(a)});return this};this.reset=function(a){void 0!==a&&(d=a);g=[]};this.transition=
function(a,b,c){b=1<arguments.length?[].slice.call(arguments,1):[];c=1<b.length?b.pop():void 0!==d?d:250;a.__rendered=!1;0>g.indexOf(a)&&g.push(a);if(0===c)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;0===a.length?a.__rendered=!0:a.every(function(a){return!a.length})?a.__rendered=!0:a.__rendered=!1;var e=0;return a.transition().duration(c).each(function(){++e}).each("end",function(c,d){0===--e&&(a.__rendered=!0,f.renderEnd.apply(this,b))})};this.renderEnd=
function(){g.every(function(a){return a.__rendered})&&(g.forEach(function(a){a.__rendered=!1}),a.renderEnd.apply(this,arguments))}};c.utils.deepExtend=function(a){(1<arguments.length?[].slice.call(arguments,1):[]).forEach(function(b){for(var d in b){var g=c.utils.isArray(a[d]),f=c.utils.isObject(a[d]),h=c.utils.isObject(b[d]);f&&!g&&h?c.utils.deepExtend(a[d],b[d]):a[d]=b[d]}})};c.utils.state=function(){if(!(this instanceof c.utils.state))return new c.utils.state;var a={},b=function(){},d=function(){return{}},
g=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(a){b(a,!0)});this.getter=function(a){d=a;return this};this.setter=function(a,c){c||(c=function(){});b=function(b,d){a(b);d&&c()};return this};this.init=function(a){g=g||{};c.utils.deepExtend(g,a)};this.update=function(){g&&(b(g,!1),g=null);var c=d();if(JSON.stringify(c)===JSON.stringify(a))c=!1;else{for(var h in c)void 0===a[h]&&(a[h]={}),a[h]=c[h];c=!0}c&&this.dispatch.change(a)}};c.utils.optionsFunc=function(a){a&&
d3.map(a).forEach(function(a,d){if(c.utils.isFunction(this[a]))this[a](d)}.bind(this));return this};c.utils.calcTicksX=function(a,b){for(var d=1,g=0;g<b.length;g+=1){var f=b[g]&&b[g].values?b[g].values.length:0;d=f>d?f:d}c.log("Requested number of ticks: ",a);c.log("Calculated max values to be: ",d);a=a>d?a=d-1:a;a=Math.floor(1>a?1:a);c.log("Calculating tick count as: ",a);return a};c.utils.calcTicksY=function(a,b){for(var d=1,g=0;g<b.length;g+=1)for(var f=b[g]&&b[g].values?b[g].values:[],h,l=0;l<
f.length;l+=1)h=f[l]&&f[l].value?f[l].value:0,d=h>d?h:d;c.log("Requested number of ticks: ",a);c.log("Calculated max values to be: ",d);a=a>d?a=d-1:a;a=Math.floor(1>a?1:a);c.log("Calculating tick count as: ",a);return a};c.utils.initOption=function(a,b){a._calls&&a._calls[b]?a[b]=a._calls[b]:(a[b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]=!0;a._options[b]=c;return a},a["_"+b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]||(a._options[b]=c);return a})};
c.utils.initOptions=function(a){a._overrides=a._overrides||{};var b=Object.getOwnPropertyNames(a._options||{}),d=Object.getOwnPropertyNames(a._calls||{});b=b.concat(d);for(var g in b)c.utils.initOption(a,b[g])};c.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]);c.unshift(b);c.unshift(a);d3.rebind.apply(this,c)};c.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})};c.utils.symbolMap=d3.map();c.utils.symbol=function(){function a(a,
f){var g=b.call(this,a,f);a=d.call(this,a,f);return-1!==d3.svg.symbolTypes.indexOf(g)?d3.svg.symbol().type(g).size(a)():c.utils.symbolMap.get(g)(a)}var b,d=64;a.type=function(c){if(!arguments.length)return b;b=d3.functor(c);return a};a.size=function(b){if(!arguments.length)return d;d=d3.functor(b);return a};return a};c.utils.inheritOptions=function(a,b){var d=Object.getOwnPropertyNames(b._options||{}),g=Object.getOwnPropertyNames(b._calls||{}),f=b._inherited||[],h=b._d3options||[],l=d.concat(g).concat(f).concat(h);
l.unshift(b);l.unshift(a);d3.rebind.apply(this,l);a._inherited=c.utils.arrayUnique(d.concat(g).concat(f).concat(d).concat(a._inherited||[]));a._d3options=c.utils.arrayUnique(h.concat(a._d3options||[]))};c.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})};c.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400};c.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960};c.utils.availableHeight=function(a,b,d){return Math.max(0,c.utils.sanitizeHeight(a,
b)-d.top-d.bottom)};c.utils.availableWidth=function(a,b,d){return Math.max(0,c.utils.sanitizeWidth(a,b)-d.left-d.right)};c.utils.noData=function(a,b){var d=a.options();a=d.margin();d=d.noData();d=null==d?["No Data Available."]:[d];var g=c.utils.availableHeight(null,b,a),f=c.utils.availableWidth(null,b,a);f=a.left+f/2;a=a.top+g/2;b.selectAll("g").remove();b=b.selectAll(".nv-noData").data(d);b.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");b.attr("x",
f).attr("y",a).text(function(a){return a})};c.utils.wrapTicks=function(a,b){a.each(function(){for(var a=d3.select(this),c=a.text().split(/\s+/).reverse(),f,h=[],l=0,e=a.attr("y"),k=parseFloat(a.attr("dy")),n=a.text(null).append("tspan").attr("x",0).attr("y",e).attr("dy",k+"em");f=c.pop();)h.push(f),n.text(h.join(" ")),n.node().getComputedTextLength()>b&&(h.pop(),n.text(h.join(" ")),h=[f],n=a.append("tspan").attr("x",0).attr("y",e).attr("dy",1.1*++l+k+"em").text(f))})};c.utils.arrayEquals=function(a,
b){if(a===b)return!0;if(!a||!b||a.length!=b.length)return!1;for(var d=0,g=a.length;d<g;d++)if(a[d]instanceof Array&&b[d]instanceof Array){if(!c.arrayEquals(a[d],b[d]))return!1}else if(a[d]!=b[d])return!1;return!0};c.models.axis=function(){function a(D){B.reset();D.each(function(a){var m=d3.select(this);c.utils.initSVG(m);a=m.selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");m=a.select("g");null!==u?b.ticks(u):("top"==b.orient()||"bottom"==
b.orient())&&b.ticks(Math.abs(d.range()[1]-d.range()[0])/100);m.watchTransition(B,"axis").call(b);t=t||b.scale();var D=b.tickFormat();null==D&&(D=t.tickFormat());var h=m.selectAll("text.nv-axislabel").data([l||null]);h.exit().remove();void 0!==v&&m.selectAll("g").select("text").style("font-size",v);switch(b.orient()){case "top":h.enter().append("text").attr("class","nv-axislabel");var y=0;1===d.range().length?y=r?2*d.range()[0]+d.rangeBand():0:2===d.range().length?y=r?d.range()[0]+d.range()[1]+d.rangeBand():
d.range()[1]:2<d.range().length&&(y=d.range()[d.range().length-1]+(d.range()[1]-d.range()[0]));h.attr("text-anchor","middle").attr("y",0).attr("x",y/2);if(e){var p=a.selectAll("g.nv-axisMaxMin").data(d.domain());p.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text");p.exit().remove();p.attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d(a))+",0)"}).select("text").attr("dy","-0.5em").attr("y",
-b.tickPadding()).attr("text-anchor","middle").text(function(a,b){a=D(a);return(""+a).match("NaN")?"":a});p.watchTransition(B,"min-max top").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d.range()[b])+",0)"})}break;case "bottom":p=w+36;var C=30,J=0;y=m.selectAll("g").select("text");var I="";k%360?(y.attr("transform",""),y.each(function(a,b){a=this.getBoundingClientRect();b=a.width;J=a.height;b>C&&(C=b)}),I="rotate("+k+" 0,"+(J/2+b.tickPadding())+")",p=Math.abs(Math.sin(k*Math.PI/
180)),p=(p?p*C:C)+30,y.attr("transform",I).style("text-anchor",0<k%360?"start":"end")):q?y.attr("transform",function(a,b){return"translate(0,"+(0==b%2?"0":"12")+")"}):y.attr("transform","translate(0,0)");h.enter().append("text").attr("class","nv-axislabel");y=0;1===d.range().length?y=r?2*d.range()[0]+d.rangeBand():0:2===d.range().length?y=r?d.range()[0]+d.range()[1]+d.rangeBand():d.range()[1]:2<d.range().length&&(y=d.range()[d.range().length-1]+(d.range()[1]-d.range()[0]));h.attr("text-anchor","middle").attr("y",
p).attr("x",y/2);e&&(p=a.selectAll("g.nv-axisMaxMin").data([d.domain()[0],d.domain()[d.domain().length-1]]),p.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),p.exit().remove(),p.attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d(a)+(r?d.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",I).style("text-anchor",k?0<k%360?"start":
"end":"middle").text(function(a,b){a=D(a);return(""+a).match("NaN")?"":a}),p.watchTransition(B,"min-max bottom").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d(a)+(r?d.rangeBand()/2:0))+",0)"}));break;case "right":h.enter().append("text").attr("class","nv-axislabel");h.style("text-anchor",n?"middle":"begin").attr("transform",n?"rotate(90)":"").attr("y",n?-Math.max(g.right,f)+12-(w||0):-10).attr("x",n?d3.max(d.range())/2:b.tickPadding());e&&(p=a.selectAll("g.nv-axisMaxMin").data(d.domain()),
p.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),p.exit().remove(),p.attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(d(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a,b){a=D(a);return(""+a).match("NaN")?"":a}),p.watchTransition(B,"min-max right").attr("transform",function(a,b){return"translate(0,"+
c.utils.NaNtoZero(d.range()[b])+")"}).select("text").style("opacity",1));break;case "left":h.enter().append("text").attr("class","nv-axislabel"),h.style("text-anchor",n?"middle":"end").attr("transform",n?"rotate(-90)":"").attr("y",n?-Math.max(g.left,f)+25-(w||0):-10).attr("x",n?-d3.max(d.range())/2:-b.tickPadding()),e&&(p=a.selectAll("g.nv-axisMaxMin").data(d.domain()),p.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",
0),p.exit().remove(),p.attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(t(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a,b){a=D(a);return(""+a).match("NaN")?"":a}),p.watchTransition(B,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(d.range()[b])+")"}).select("text").style("opacity",1))}h.text(function(a){return a});!e||"left"!==b.orient()&&"right"!==b.orient()||
(m.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1);if(d(a)<d.range()[1]+10||d(a)>d.range()[0]-10)(1E-10<a||-1E-10>a)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0)}),d.domain()[0]==d.domain()[1]&&0==d.domain()[0]&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1}));if(e&&("top"===b.orient()||"bottom"===b.orient())){var E=[];a.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?E.push(d(a)-this.getBoundingClientRect().width-
4):E.push(d(a)+this.getBoundingClientRect().width+4)}catch(P){b?E.push(d(a)-4):E.push(d(a)+4)}});m.selectAll("g").each(function(a,b){if(d(a)<E[0]||d(a)>E[1])1E-10<a||-1E-10>a?d3.select(this).remove():d3.select(this).select("text").remove()})}m.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1E5*a)/1E6)&&void 0!==a}).classed("zero",!0);t=d.copy()});B.renderEnd("axis immediate");return a}var b=d3.svg.axis(),d=d3.scale.linear(),g={top:0,right:0,bottom:0,left:0},f=75,h=60,l=null,e=
!0,k=0,n=!0,q=!1,r=!1,u=null,w=0,v=void 0,x=250,A=d3.dispatch("renderEnd");b.scale(d).orient("bottom").tickFormat(function(a){return a});var t,B=c.utils.renderWatch(A,x);a.axis=b;a.dispatch=A;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{axisLabelDistance:{get:function(){return w},set:function(a){w=a}},staggerLabels:{get:function(){return q},set:function(a){q=a}},rotateLabels:{get:function(){return k},set:function(a){k=a}},rotateYLabel:{get:function(){return n},set:function(a){n=
a}},showMaxMin:{get:function(){return e},set:function(a){e=a}},axisLabel:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return h},set:function(a){h=a}},ticks:{get:function(){return u},set:function(a){u=a}},width:{get:function(){return f},set:function(a){f=a}},fontSize:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top;g.right=void 0!==a.right?a.right:g.right;g.bottom=void 0!==a.bottom?a.bottom:g.bottom;
g.left=void 0!==a.left?a.left:g.left}},duration:{get:function(){return x},set:function(a){x=a;B.reset(x)}},scale:{get:function(){return d},set:function(e){d=e;b.scale(d);r="function"===typeof d.rangeBands;c.utils.inheritOptionsD3(a,d,["domain","range","rangeBand","rangeBands"])}}});c.utils.initOptions(a);c.utils.inheritOptionsD3(a,b,"orient tickValues tickSubdivide tickSize tickPadding tickFormat".split(" "));c.utils.inheritOptionsD3(a,d,["domain","range","rangeBand","rangeBands"]);return a};c.models.boxPlot=
function(){function a(E){I.reset();E.each(function(a){var E=d-b.left-b.right,z=g-b.top-b.bottom;D=d3.select(this);c.utils.initSVG(D);h.domain(m||a.map(function(a,b){return e(a,b)})).rangeBands(G||[0,E],.1);E=[];if(!H){var f=[];a.forEach(function(a,b){b=k(a);var c=q(a),d=r(a),m=u(a);(a=v(a))&&a.forEach(function(a,b){f.push(x(a,b,void 0))});d&&f.push(d);b&&f.push(b);c&&f.push(c);m&&f.push(m)});E=d3.min(f);var O=d3.max(f);E=[E,O]}l.domain(H||E);l.range(M||[z,0]);J=J||l.copy().range([l(0),l(0)]);z=D.selectAll("g.nv-wrap").data([a]);
z.enter().append("g").attr("class","nvd3 nv-wrap");z.attr("transform","translate("+b.left+","+b.top+")");var F=z.selectAll(".nv-boxplot").data(function(a){return a}),L=F.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);F.attr("class","nv-boxplot").attr("transform",function(a,b,c){return"translate("+(h(e(a,b))+.05*h.rangeBand())+", 0)"}).classed("hover",function(a){return a.hover});F.watchTransition(I,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",
.75).delay(function(b,c){return c*p/a.length}).attr("transform",function(a,b){return"translate("+(h(e(a,b))+.05*h.rangeBand())+", 0)"});F.exit().remove();L.each(function(a,b){var c=d3.select(this);[r,u].forEach(function(d){void 0!==d(a)&&null!==d(a)&&(d=d===r?"low":"high",c.append("line").style("stroke",w(a)||B(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+d),c.append("line").style("stroke",w(a)||B(a,b)).attr("class","nv-boxplot-tick nv-boxplot-"+d))})});var Y=function(){return null===C?.9*
h.rangeBand():Math.min(75,.9*h.rangeBand())},aa=function(){return.45*h.rangeBand()-Y()/2},X=function(){return.45*h.rangeBand()+Y()/2};[r,u].forEach(function(a){var b=a===r?"low":"high",c=a===r?k:q;F.select("line.nv-boxplot-whisker.nv-boxplot-"+b).watchTransition(I,"nv-boxplot: boxplots").attr("x1",.45*h.rangeBand()).attr("y1",function(b,c){return l(a(b))}).attr("x2",.45*h.rangeBand()).attr("y2",function(a,b){return l(c(a))});F.select("line.nv-boxplot-tick.nv-boxplot-"+b).watchTransition(I,"nv-boxplot: boxplots").attr("x1",
aa).attr("y1",function(b,c){return l(a(b))}).attr("x2",X).attr("y2",function(b,c){return l(a(b))})});[r,u].forEach(function(a){L.selectAll(".nv-boxplot-"+(a===r?"low":"high")).on("mouseover",function(b,c,d){d3.select(this).classed("hover",!0);y.elementMouseover({series:{key:a(b),color:w(b)||B(b,d)},e:d3.event})}).on("mouseout",function(b,c,d){d3.select(this).classed("hover",!1);y.elementMouseout({series:{key:a(b),color:w(b)||B(b,d)},e:d3.event})}).on("mousemove",function(a,b){y.elementMousemove({e:d3.event})})});
L.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",!0);y.elementMouseover({key:e(a),value:e(a),series:[{key:"Q3",value:q(a),color:w(a)||B(a,b)},{key:"Q2",value:n(a),color:w(a)||B(a,b)},{key:"Q1",value:k(a),color:w(a)||B(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);y.elementMouseout({key:e(a),value:e(a),series:[{key:"Q3",value:q(a),color:w(a)||B(a,b)},{key:"Q2",value:n(a),color:w(a)||B(a,
b)},{key:"Q1",value:k(a),color:w(a)||B(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(a,b){y.elementMousemove({e:d3.event})});F.select("rect.nv-boxplot-box").watchTransition(I,"nv-boxplot: boxes").attr("y",function(a,b){return l(q(a))}).attr("width",Y).attr("x",aa).attr("height",function(a,b){return Math.abs(l(q(a))-l(k(a)))||1}).style("fill",function(a,b){return w(a)||B(a,b)}).style("stroke",function(a,b){return w(a)||B(a,b)});L.append("line").attr("class","nv-boxplot-median");F.select("line.nv-boxplot-median").watchTransition(I,
"nv-boxplot: boxplots line").attr("x1",aa).attr("y1",function(a,b){return l(n(a))}).attr("x2",X).attr("y2",function(a,b){return l(n(a))});z=F.selectAll(".nv-boxplot-outlier").data(function(a){return v(a)||[]});z.enter().append("circle").style("fill",function(a,b,c){return t(a,b,c)||B(a,c)}).style("stroke",function(a,b,c){return t(a,b,c)||B(a,c)}).style("z-index",9E3).on("mouseover",function(a,b,c){d3.select(this).classed("hover",!0);y.elementMouseover({series:{key:A(a,b,c),color:t(a,b,c)||B(a,c)},
e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",!1);y.elementMouseout({series:{key:A(a,b,c),color:t(a,b,c)||B(a,c)},e:d3.event})}).on("mousemove",function(a,b){y.elementMousemove({e:d3.event})});z.attr("class","nv-boxplot-outlier");z.watchTransition(I,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*h.rangeBand()).attr("cy",function(a,b,c){return l(x(a,b,c))}).attr("r","3");z.exit().remove();h.copy();J=l.copy()});I.renderEnd("nv-boxplot immediate");return a}var b={top:0,
right:0,bottom:0,left:0},d=960,g=500,f=Math.floor(1E4*Math.random()),h=d3.scale.ordinal(),l=d3.scale.linear(),e=function(a){return a.label},k=function(a){return a.values.Q1},n=function(a){return a.values.Q2},q=function(a){return a.values.Q3},r=function(a){return a.values.whisker_low},u=function(a){return a.values.whisker_high},w=function(a){return a.color},v=function(a){return a.values.outliers},x=function(a,b,c){return a},A=function(a,b,c){return a},t=function(a,b,c){},B=c.utils.defaultColor(),D=
null,m,G,H,M,y=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),p=250,C=null,J,I=c.utils.renderWatch(y,p);a.dispatch=y;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},maxBoxWidth:{get:function(){return C},set:function(a){C=a}},x:{get:function(){return e},set:function(a){e=a}},q1:{get:function(){return k},set:function(a){k=a}},q2:{get:function(){return n},
set:function(a){n=a}},q3:{get:function(){return q},set:function(a){q=a}},wl:{get:function(){return r},set:function(a){r=a}},wh:{get:function(){return u},set:function(a){u=a}},itemColor:{get:function(){return w},set:function(a){w=a}},outliers:{get:function(){return v},set:function(a){v=a}},outlierValue:{get:function(){return x},set:function(a){x=a}},outlierLabel:{get:function(){return A},set:function(a){A=a}},outlierColor:{get:function(){return t},set:function(a){t=a}},xScale:{get:function(){return h},
set:function(a){h=a}},yScale:{get:function(){return l},set:function(a){l=a}},xDomain:{get:function(){return m},set:function(a){m=a}},yDomain:{get:function(){return H},set:function(a){H=a}},xRange:{get:function(){return G},set:function(a){G=a}},yRange:{get:function(){return M},set:function(a){M=a}},id:{get:function(){return f},set:function(a){f=a}},y:{get:function(){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.");return{}},set:function(a){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},
margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return B},set:function(a){B=c.utils.getColor(a)}},duration:{get:function(){return p},set:function(a){p=a;I.reset(p)}}});c.utils.initOptions(a);return a};c.models.boxPlotChart=function(){function a(e){B.reset();B.models(b);k&&B.models(d);n&&B.models(g);e.each(function(m){var e=
d3.select(this);c.utils.initSVG(e);var D=(h||parseInt(e.style("width"))||960)-f.left-f.right,B=(l||parseInt(e.style("height"))||400)-f.top-f.bottom;a.update=function(){A.beforeUpdate();e.transition().duration(t).call(a)};a.container=this;if(m&&m.length)e.selectAll(".nv-noData").remove();else return m=e.selectAll(".nv-noData").data([x]),m.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),m.attr("x",f.left+D/2).attr("y",f.top+B/2).text(function(a){return a}),
a;w=b.xScale();v=b.yScale().clamp(!0);var y=e.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([m]),p=y.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),C=p.append("defs");y=y.select("g");p.append("g").attr("class","nv-x nv-axis");p.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");p.append("g").attr("class","nv-barsWrap");y.attr("transform","translate("+f.left+","+f.top+")");q&&y.select(".nv-y.nv-axis").attr("transform","translate("+
D+",0)");b.width(D).height(B);y.select(".nv-barsWrap").datum(m.filter(function(a){return!a.disabled})).transition().call(b);C.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");y.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",w.rangeBand()*(r?2:1)).attr("height",16).attr("x",-w.rangeBand()/(r?1:2));k&&(d.scale(w).ticks(c.utils.calcTicksX(D/100,m)).tickSize(-B,0),y.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")"),y.select(".nv-x.nv-axis").call(d),
m=y.select(".nv-x.nv-axis").selectAll("g"),r&&m.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(0===c%2?"5":"17")+")"}));n&&(g.scale(v).ticks(Math.floor(B/36)).tickSize(-D,0),y.select(".nv-y.nv-axis").call(g));y.select(".nv-zeroLine line").attr("x1",0).attr("x2",D).attr("y1",v(0)).attr("y2",v(0))});B.renderEnd("nv-boxplot chart immediate");return a}var b=c.models.boxPlot(),d=c.models.axis(),g=c.models.axis(),f={top:15,right:10,bottom:50,left:60},h=null,l=null,e=c.utils.getColor(),
k=!0,n=!0,q=!1,r=!1,u=c.models.tooltip(),w,v,x="No Data Available.",A=d3.dispatch("beforeUpdate","renderEnd"),t=250;d.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a});g.orient(q?"right":"left").tickFormat(d3.format(",.1f"));u.duration(0);var B=c.utils.renderWatch(A,t);b.dispatch.on("elementMouseover.tooltip",function(a){u.data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){u.data(a).hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){u()});a.dispatch=
A;a.boxplot=b;a.xAxis=d;a.yAxis=g;a.tooltip=u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return l},set:function(a){l=a}},staggerLabels:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return k},set:function(a){k=a}},showYAxis:{get:function(){return n},set:function(a){n=a}},tooltipContent:{get:function(){return u},set:function(a){u=a}},noData:{get:function(){return x},set:function(a){x=
a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top;f.right=void 0!==a.right?a.right:f.right;f.bottom=void 0!==a.bottom?a.bottom:f.bottom;f.left=void 0!==a.left?a.left:f.left}},duration:{get:function(){return t},set:function(a){t=a;B.reset(t);b.duration(t);d.duration(t);g.duration(t)}},color:{get:function(){return e},set:function(a){e=c.utils.getColor(a);b.color(e)}},rightAlignYAxis:{get:function(){return q},set:function(a){q=a;g.orient(a?"right":"left")}}});c.utils.inheritOptions(a,
b);c.utils.initOptions(a);return a};c.models.bullet=function(){function a(a,b){var c=a.slice();a.sort(function(a,d){a=c.indexOf(a);d=c.indexOf(d);return d3.descending(b[a],b[d])})}function b(g){g.each(function(b,m){var g=n-d.left-d.right,D=q-d.top-d.bottom;r=d3.select(this);c.utils.initSVG(r);var B=h.call(this,b,m).slice(),y=l.call(this,b,m).slice(),p=(b.markerLines?b.markerLines:[0]).slice(),C=e.call(this,b,m).slice(),J=(b.rangeLabels?b.rangeLabels:[]).slice(),I=(b.markerLabels?b.markerLabels:[]).slice(),
E=(b.markerLineLabels?b.markerLineLabels:[]).slice(),z=(b.measureLabels?b.measureLabels:[]).slice();a(J,B);a(I,y);a(E,p);a(z,C);B.sort(d3.descending);y.sort(d3.descending);p.sort(d3.descending);C.sort(d3.descending);var K=d3.scale.linear().domain(d3.extent(d3.merge([k,B]))).range(f?[g,0]:[0,g]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(K.range());this.__chart__=K;d3.min(B);d3.max(B);b=r.selectAll("g.nv-wrap.nv-bullet").data([b]);g=b.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g");
var u=b.select("g");m=0;for(var N=B.length;m<N;m++){var O="nv-range nv-range"+m;2>=m&&(O=O+" nv-range"+A[m]);g.append("rect").attr("class",O)}g.append("rect").attr("class","nv-measure");b.attr("transform","translate("+d.left+","+d.top+")");m=0;for(N=B.length;m<N;m++)O=B[m],u.select("rect.nv-range"+m).datum(O).attr("height",D).transition().duration(t).attr("width",Math.abs(K(O)-K(0))).attr("x",0>O?K(O):K(0));u.select("rect.nv-measure").style("fill",w).attr("height",D/3).attr("y",D/3).on("mouseover",
function(){v.elementMouseover({value:C[0],label:z[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){v.elementMousemove({value:C[0],label:z[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){v.elementMouseout({value:C[0],label:z[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(t).attr("width",0>C?K(0)-K(C[0]):K(C[0])-K(0)).attr("x",0>C?K(C):K(0));m=D/6;y=y.map(function(a,b){return{value:a,label:I[b]}});g.selectAll("path.nv-markerTriangle").data(y).enter().append("path").attr("class",
"nv-markerTriangle").attr("d","M0,"+m+"L"+m+","+-m+" "+-m+","+-m+"Z").on("mouseover",function(a){v.elementMouseover({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[K(a.value),D/2]})}).on("mousemove",function(a){v.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){v.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})});u.selectAll("path.nv-markerTriangle").data(y).transition().duration(t).attr("transform",
function(a){return"translate("+K(a.value)+","+D/2+")"});p=p.map(function(a,b){return{value:a,label:E[b]}});g.selectAll("line.nv-markerLine").data(p).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(a){return K(a.value)}).attr("y1","2").attr("x2",function(a){return K(a.value)}).attr("y2",D-2).on("mouseover",function(a){v.elementMouseover({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[K(a.value),D/2]})}).on("mousemove",function(a){v.elementMousemove({value:a.value,
label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){v.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})});u.selectAll("line.nv-markerLine").data(p).transition().duration(t).attr("x1",function(a){return K(a.value)}).attr("x2",function(a){return K(a.value)});b.selectAll(".nv-range").on("mouseover",function(a,b){v.elementMouseover({value:a,label:J[b]||x[b],color:d3.select(this).style("fill")})}).on("mousemove",function(){v.elementMousemove({value:C[0],
label:z[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){v.elementMouseout({value:a,label:J[b]||x[b],color:d3.select(this).style("fill")})})});return b}var d={top:0,right:0,bottom:0,left:0},g="left",f=!1,h=function(a){return a.ranges},l=function(a){return a.markers?a.markers:[]},e=function(a){return a.measures},k=[0],n=380,q=30,r=null,u=null,w=c.utils.getColor(["#1f77b4"]),v=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),x=["Maximum","Mean",
"Minimum"],A=["Max","Avg","Min"],t=1E3;b.dispatch=v;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{ranges:{get:function(){return h},set:function(a){h=a}},markers:{get:function(){return l},set:function(a){l=a}},measures:{get:function(){return e},set:function(a){e=a}},forceX:{get:function(){return k},set:function(a){k=a}},width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return q},set:function(a){q=a}},tickFormat:{get:function(){return u},set:function(a){u=
a}},duration:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top;d.right=void 0!==a.right?a.right:d.right;d.bottom=void 0!==a.bottom?a.bottom:d.bottom;d.left=void 0!==a.left?a.left:d.left}},orient:{get:function(){return g},set:function(a){g=a;f="right"==g||"bottom"==g}},color:{get:function(){return w},set:function(a){w=c.utils.getColor(a)}}});c.utils.initOptions(b);return b};c.models.bulletChart=function(){function a(d){d.each(function(g,
t){var x=d3.select(this);c.utils.initSVG(x);var D=c.utils.availableWidth(n,x,h),m=q-h.top-h.bottom;a.update=function(){a(d)};a.container=this;if(g&&l.call(this,g,t))x.selectAll(".nv-noData").remove();else return c.utils.noData(a,x),a;var G=l.call(this,g,t).slice().sort(d3.descending),H=e.call(this,g,t).slice().sort(d3.descending);t=k.call(this,g,t).slice().sort(d3.descending);x=x.selectAll("g.nv-wrap.nv-bulletChart").data([g]);var A=x.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g");
g=x.select("g");A.append("g").attr("class","nv-bulletWrap");A.append("g").attr("class","nv-titles");x.attr("transform","translate("+h.left+","+h.top+")");var y=d3.scale.linear().domain([0,Math.max(G[0],H[0]||0,t[0])]).range(f?[D,0]:[0,D]),p=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(y.range());this.__chart__=y;G=A.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(q-h.top-h.bottom)/2+")");G.append("text").attr("class","nv-title").text(function(a){return a.title});
G.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(D).height(m);G=g.select(".nv-bulletWrap");d3.transition(G).call(b);var C=r||y.tickFormat(D/100);D=g.selectAll("g.nv-tick").data(y.ticks(u?u:D/50),function(a){return this.textContent||C(a)});G=D.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+p(a)+",0)"}).style("opacity",1E-6);G.append("line").attr("y1",m).attr("y2",7*m/6);G.append("text").attr("text-anchor",
"middle").attr("dy","1em").attr("y",7*m/6).text(C);G=d3.transition(D).transition().duration(b.duration()).attr("transform",function(a){return"translate("+y(a)+",0)"}).style("opacity",1);G.select("line").attr("y1",m).attr("y2",7*m/6);G.select("text").attr("y",7*m/6);d3.transition(D.exit()).transition().duration(b.duration()).attr("transform",function(a){return"translate("+y(a)+",0)"}).style("opacity",1E-6).remove()});d3.timer.flush();return a}var b=c.models.bullet(),d=c.models.tooltip(),g="left",f=
!1,h={top:5,right:40,bottom:20,left:120},l=function(a){return a.ranges},e=function(a){return a.markers?a.markers:[]},k=function(a){return a.measures},n=null,q=55,r=null,u=null,w=null,v=d3.dispatch();d.duration(0).headerEnabled(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color};d.data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){d()});a.bullet=b;a.dispatch=
v;a.tooltip=d;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return l},set:function(a){l=a}},markers:{get:function(){return e},set:function(a){e=a}},measures:{get:function(){return k},set:function(a){k=a}},width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return q},set:function(a){q=a}},tickFormat:{get:function(){return r},set:function(a){r=a}},ticks:{get:function(){return u},set:function(a){u=a}},noData:{get:function(){return w},
set:function(a){w=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top;h.right=void 0!==a.right?a.right:h.right;h.bottom=void 0!==a.bottom?a.bottom:h.bottom;h.left=void 0!==a.left?a.left:h.left}},orient:{get:function(){return g},set:function(a){g=a;f="right"==g||"bottom"==g}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.candlestickBar=function(){function a(p){p.each(function(a){h=d3.select(this);var p=c.utils.availableWidth(d,h,b),I=c.utils.availableHeight(g,
h,b);c.utils.initSVG(h);var E=p/a[0].values.length*.45;l.domain(m||d3.extent(a[0].values.map(k).concat(v)));A?l.range(H||[.5*p/a[0].values.length,p*(a[0].values.length-.5)/a[0].values.length]):l.range(H||[5+E/2,p-E/2-5]);e.domain(G||[d3.min(a[0].values.map(w).concat(x)),d3.max(a[0].values.map(u).concat(x))]).range(M||[I,0]);l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?
e.domain([e.domain()[0]+.01*e.domain()[0],e.domain()[1]-.01*e.domain()[1]]):e.domain([-1,1]));a=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([a[0].values]);var z=a.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),C=z.append("defs");z=z.append("g");var D=a.select("g");z.append("g").attr("class","nv-ticks");a.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){y.chartClick({data:a,index:b,pos:d3.event,id:f})});C.append("clipPath").attr("id",
"nv-chart-clip-path-"+f).append("rect");a.select("#nv-chart-clip-path-"+f+" rect").attr("width",p).attr("height",I);D.attr("clip-path",t?"url(#nv-chart-clip-path-"+f+")":"");p=a.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});p.exit().remove();I=p.enter().append("g");p.attr("class",function(a,b,c){return(q(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});I.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+
l(k(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return e(u(a,b))}).attr("x2",0).attr("y2",function(a,b){return e(w(a,b))});I.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(l(k(a,b))-E/2)+","+(e(n(a,b))-(q(a,b)>r(a,b)?e(r(a,b))-e(q(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",E).attr("height",function(a,b){var c=q(a,b);a=r(a,b);return c>a?e(a)-e(c):e(c)-e(a)});p.select(".nv-candlestick-lines").transition().attr("transform",
function(a,b){return"translate("+l(k(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return e(u(a,b))}).attr("x2",0).attr("y2",function(a,b){return e(w(a,b))});p.select(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+(l(k(a,b))-E/2)+","+(e(n(a,b))-(q(a,b)>r(a,b)?e(r(a,b))-e(q(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",E).attr("height",function(a,b){var c=q(a,b);a=r(a,b);return c>a?e(a)-e(c):e(c)-e(a)})});return a}var b={top:0,right:0,bottom:0,left:0},
d=null,g=null,f=Math.floor(1E4*Math.random()),h,l=d3.scale.linear(),e=d3.scale.linear(),k=function(a){return a.x},n=function(a){return a.y},q=function(a){return a.open},r=function(a){return a.close},u=function(a){return a.high},w=function(a){return a.low},v=[],x=[],A=!1,t=!0,B=c.utils.defaultColor(),D=!1,m,G,H,M,y=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();
h.select(".nv-candlestickBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)};a.dispatch=y;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return m},set:function(a){m=
a}},yDomain:{get:function(){return G},set:function(a){G=a}},xRange:{get:function(){return H},set:function(a){H=a}},yRange:{get:function(){return M},set:function(a){M=a}},forceX:{get:function(){return v},set:function(a){v=a}},forceY:{get:function(){return x},set:function(a){x=a}},padData:{get:function(){return A},set:function(a){A=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return D},set:function(a){D=a}},
x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return n},set:function(a){n=a}},open:{get:function(){return q()},set:function(a){q=a}},close:{get:function(){return r()},set:function(a){r=a}},high:{get:function(){return u},set:function(a){u=a}},low:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!=a.top?a.top:b.top;b.right=void 0!=a.right?a.right:b.right;b.bottom=void 0!=a.bottom?a.bottom:b.bottom;b.left=void 0!=a.left?
a.left:b.left}},color:{get:function(){return B},set:function(a){B=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.cumulativeLineChart=function(){function a(z){N.reset();N.models(d);x&&N.models(g);A&&N.models(f);z.each(function(z){function Y(){ca.data([P]);var b=a.duration();a.duration(0);a.update();a.duration(b)}var L=d3.select(this);c.utils.initSVG(L);L.classed("nv-chart-"+M,!0);var k=c.utils.availableWidth(u,L,n),C=c.utils.availableHeight(w,L,n);a.update=function(){0===E?L.call(a):
L.transition().duration(E).call(a)};a.container=this;y.setter(F(z),a.update).getter(O(z)).update();y.disabled=z.map(function(a){return!!a.disabled});if(!p)for(aa in p={},y)p[aa]=y[aa]instanceof Array?y[aa].slice(0):y[aa];var aa=d3.behavior.drag().on("dragstart",function(b,c){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(a,b){P.x=d3.event.x;P.i=Math.round(K.invert(P.x));Y()}).on("dragend",function(b,c){d3.select(a.container).style("cursor","auto");y.index=P.i;I.stateChange(y)});
if(z&&z.length&&z.filter(function(a){return a.values.length}).length)L.selectAll(".nv-noData").remove();else return c.utils.noData(a,L),a;G=d.xScale();H=d.yScale();if(m)d.yDomain(null);else{var N=z.filter(function(a){return!a.disabled}).map(function(a,b){a=d3.extent(a.values,d.y());-.95>a[0]&&(a[0]=-.95);return[(a[0]-a[1])/(1+a[1]),(a[1]-a[0])/(1+a[0])]});N=[d3.min(N,function(a){return a[0]}),d3.max(N,function(a){return a[1]})];d.yDomain(N)}K.domain([0,z[0].values.length-1]).range([0,k]).clamp(!0);
z=b(P.i,z);var Z=D?"none":"all",R=L.selectAll("g.nv-wrap.nv-cumulativeLine").data([z]),S=R.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g");N=R.select("g");S.append("g").attr("class","nv-interactive");S.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");S.append("g").attr("class","nv-y nv-axis");S.append("g").attr("class","nv-background");S.append("g").attr("class","nv-linesWrap").style("pointer-events",Z);S.append("g").attr("class","nv-avgLinesWrap").style("pointer-events",
"none");S.append("g").attr("class","nv-legendWrap");S.append("g").attr("class","nv-controlsWrap");v?(h.width(k),N.select(".nv-legendWrap").datum(z).call(h),q||h.height()===n.top||(n.top=h.height(),C=c.utils.availableHeight(w,L,n)),N.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")")):N.select(".nv-legendWrap").selectAll("*").remove();B?(Z=[{key:"Re-scale y-axis",disabled:!m}],l.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),N.select(".nv-controlsWrap").datum(Z).attr("transform",
"translate(0,"+-n.top+")").call(l)):N.select(".nv-controlsWrap").selectAll("*").remove();R.attr("transform","translate("+n.left+","+n.top+")");t&&N.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)");Z=z.filter(function(a){return a.tempDisabled});R.select(".tempDisabled").remove();Z.length&&R.append("text").attr("class","tempDisabled").attr("x",k/2).attr("y","-.71em").style("text-anchor","end").text(Z.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");
D&&(e.width(k).height(C).margin({left:n.left,top:n.top}).svgContainer(L).xScale(G),R.select(".nv-interactive").call(e));S.select(".nv-background").append("rect");N.select(".nv-background rect").attr("width",k).attr("height",C);d.y(function(a){return a.display.y}).width(k).height(C).color(z.map(function(a,b){return a.color||r(a,b)}).filter(function(a,b){return!z[b].disabled&&!z[b].tempDisabled}));R=N.select(".nv-linesWrap").datum(z.filter(function(a){return!a.disabled&&!a.tempDisabled}));R.call(d);
z.forEach(function(a,b){a.seriesIndex=b});S=z.filter(function(a){return!a.disabled&&!!J(a)});S=N.select(".nv-avgLinesWrap").selectAll("line").data(S,function(a){return a.key});Z=function(a){a=H(J(a));return 0>a?0:a>C?C:a};S.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,b){return d.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",k).attr("y1",Z).attr("y2",Z);S.style("stroke-opacity",function(a){a=H(J(a));return 0>a||a>C?0:1}).attr("x1",
0).attr("x2",k).attr("y1",Z).attr("y2",Z);S.exit().remove();var ca=R.selectAll(".nv-indexLine").data([P]);ca.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(aa);ca.attr("transform",function(a){return"translate("+K(a.i)+",0)"}).attr("height",C);x&&(g.scale(G)._ticks(c.utils.calcTicksX(k/70,z)).tickSize(-C,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+H.range()[0]+")"),N.select(".nv-x.nv-axis").call(g));
A&&(f.scale(H)._ticks(c.utils.calcTicksY(C/36,z)).tickSize(-k,0),N.select(".nv-y.nv-axis").call(f));N.select(".nv-background rect").on("click",function(){P.x=d3.mouse(this)[0];P.i=Math.round(K.invert(P.x));y.index=P.i;I.stateChange(y);Y()});d.dispatch.on("elementClick",function(a){P.i=a.pointIndex;P.x=K(P.i);y.index=P.i;I.stateChange(y);Y()});l.dispatch.on("legendClick",function(b,c){b.disabled=!b.disabled;m=!b.disabled;y.rescaleY=m;I.stateChange(y);a.update()});h.dispatch.on("stateChange",function(b){for(var c in b)y[c]=
b[c];I.stateChange(y);a.update()});e.dispatch.on("elementMousemove",function(b){d.clearHighlights();var m,F,E,I=[];z.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,z){F=c.interactiveBisect(e.values,b.pointXValue,a.x());d.highlightPoint(z,F,!0);z=e.values[F];"undefined"!==typeof z&&("undefined"===typeof m&&(m=z),"undefined"===typeof E&&(E=a.xScale()(a.x()(z,F))),I.push({key:e.key,value:a.y()(z,F),color:r(e,e.seriesIndex)}))});if(2<I.length){var p=a.yScale().invert(b.mouseY),
t=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]);p=c.nearestValueIndex(I.map(function(a){return a.value}),p,t);null!==p&&(I[p].highlight=!0)}p=g.tickFormat()(a.x()(m,F),F);e.tooltip.valueFormatter(function(a,b){return f.tickFormat()(a)}).data({value:p,series:I})();e.renderGuideLine(E)});e.dispatch.on("elementMouseout",function(a){d.clearHighlights()});I.on("changeState",function(b){"undefined"!==typeof b.disabled&&(z.forEach(function(a,c){a.disabled=b.disabled[c]}),y.disabled=b.disabled);
"undefined"!==typeof b.index&&(P.i=b.index,P.x=K(P.i),y.index=b.index,ca.data([P]));"undefined"!==typeof b.rescaleY&&(m=b.rescaleY);a.update()})});N.renderEnd("cumulativeLineChart immediate");return a}function b(a,b){L||(L=d.y());return b.map(function(b,c){if(!b.values)return b;c=b.values[a];if(null==c)return b;var d=L(c,a);if(-.95>d&&!z)return b.tempDisabled=!0,b;b.tempDisabled=!1;b.values=b.values.map(function(a,b){a.display={y:(L(a,b)-d)/(1+d)};return a});return b})}var d=c.models.line(),g=c.models.axis(),
f=c.models.axis(),h=c.models.legend(),l=c.models.legend(),e=c.interactiveGuideline(),k=c.models.tooltip(),n={top:30,right:30,bottom:50,left:60},q=null,r=c.utils.defaultColor(),u=null,w=null,v=!0,x=!0,A=!0,t=!1,B=!0,D=!1,m=!0,G,H,M=d.id(),y=c.utils.state(),p=null,C=null,J=function(a){return a.average},I=d3.dispatch("stateChange","changeState","renderEnd"),E=250,z=!1;y.index=0;y.rescaleY=m;g.orient("bottom").tickPadding(7);f.orient(t?"right":"left");k.valueFormatter(function(a,b){return f.tickFormat()(a,
b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)});l.updateState(!1);var K=d3.scale.linear(),P={i:0,x:0},N=c.utils.renderWatch(I,E),O=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:P.i,rescaleY:m}}},F=function(a){return function(b){void 0!==b.index&&(P.i=b.index);void 0!==b.rescaleY&&(m=b.rescaleY);void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};d.dispatch.on("elementMouseover.tooltip",function(b){var c={x:a.x()(b.point),
y:a.y()(b.point),color:b.point.color};b.point=c;k.data(b).hidden(!1)});d.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)});var L=null;a.dispatch=I;a.lines=d;a.legend=h;a.controls=l;a.xAxis=g;a.yAxis=f;a.interactiveLayer=e;a.state=y;a.tooltip=k;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return u},set:function(a){u=a}},height:{get:function(){return w},set:function(a){w=a}},rescaleY:{get:function(){return m},set:function(a){m=a}},showControls:{get:function(){return B},
set:function(a){B=a}},showLegend:{get:function(){return v},set:function(a){v=a}},average:{get:function(){return J},set:function(a){J=a}},defaultState:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return C},set:function(a){C=a}},showXAxis:{get:function(){return x},set:function(a){x=a}},showYAxis:{get:function(){return A},set:function(a){A=a}},noErrorCheck:{get:function(){return z},set:function(a){z=a}},margin:{get:function(){return n},set:function(a){void 0!==a.top&&(q=n.top=
a.top);n.right=void 0!==a.right?a.right:n.right;n.bottom=void 0!==a.bottom?a.bottom:n.bottom;n.left=void 0!==a.left?a.left:n.left}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a);h.color(r)}},useInteractiveGuideline:{get:function(){return D},set:function(b){D=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a;f.orient(a?"right":"left")}},duration:{get:function(){return E},set:function(a){E=a;d.duration(E);g.duration(E);
f.duration(E);N.reset(E)}}});c.utils.inheritOptions(a,d);c.utils.initOptions(a);return a};c.models.discreteBar=function(){function a(m){H.reset();m.each(function(a){var m=d-b.left-b.right,f=g-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var y=v&&x?[]:a.map(function(a){return a.values.map(function(a,b){return{x:k(a,b),y:n(a,b),y0:a.y0}})});l.domain(v||d3.merge(y).map(function(a){return a.x})).rangeBands(A||[0,m],.1);e.domain(x||
d3.extent(d3.merge(y).map(function(a){return a.y}).concat(q)));u?e.range(t||[f-(0>e.domain()[0]?12:0),0<e.domain()[1]?12:0]):e.range(t||[f,0]);G=G||e.copy().range([e(0),e(0)]);m=h.selectAll("g.nv-wrap.nv-discretebar").data([a]);f=m.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");m.select("g");f.append("g").attr("class","nv-groups");m.attr("transform","translate("+b.left+","+b.top+")");m=m.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});
m.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);m.exit().watchTransition(H,"discreteBar: exit groups").style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();m.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});m.watchTransition(H,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);m=m.selectAll("g.nv-bar").data(function(a){return a.values});m.exit().remove();f=m.enter().append("g").attr("transform",
function(a,b,c){return"translate("+(l(k(a,b))+.05*l.rangeBand())+", "+e(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);B.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);B.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){B.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){B.elementClick({data:a,
index:b,color:d3.select(this).style("fill"),event:d3.event,element:this});d3.event.stopPropagation()}).on("dblclick",function(a,b){B.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});f.append("rect").attr("height",0).attr("width",.9*l.rangeBand()/a.length);u?(f.append("text").attr("text-anchor","middle"),m.select("text").text(function(a,b){return w(n(a,b))}).watchTransition(H,"discreteBar: bars text").attr("x",.9*l.rangeBand()/2).attr("y",function(a,
b){return 0>n(a,b)?e(n(a,b))-e(0)+12:-4})):m.selectAll("text").remove();m.attr("class",function(a,b){return 0>n(a,b)?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||r(a,b)}).style("stroke",function(a,b){return a.color||r(a,b)}).select("rect").attr("class",D).watchTransition(H,"discreteBar: bars rect").attr("width",.9*l.rangeBand()/a.length);m.watchTransition(H,"discreteBar: bars").attr("transform",function(a,b){var c=l(k(a,b))+.05*l.rangeBand();a=0>n(a,b)?e(0):1>e(0)-
e(n(a,b))?e(0)-1:e(n(a,b));return"translate("+c+", "+a+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(e(n(a,b))-e(0)),1)});l.copy();G=e.copy()});H.renderEnd("discreteBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,g=500,f=Math.floor(1E4*Math.random()),h,l=d3.scale.ordinal(),e=d3.scale.linear(),k=function(a){return a.x},n=function(a){return a.y},q=[0],r=c.utils.defaultColor(),u=!1,w=d3.format(",.2f"),v,x,A,t,B=d3.dispatch("chartClick","elementClick",
"elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D="discreteBar",m=250,G,H=c.utils.renderWatch(B,m);a.dispatch=B;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},forceY:{get:function(){return q},set:function(a){q=a}},showValues:{get:function(){return u},set:function(a){u=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return n},
set:function(a){n=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return v},set:function(a){v=a}},yDomain:{get:function(){return x},set:function(a){x=a}},xRange:{get:function(){return A},set:function(a){A=a}},yRange:{get:function(){return t},set:function(a){t=a}},valueFormat:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return f},set:function(a){f=a}},rectClass:{get:function(){return D},
set:function(a){D=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a)}},duration:{get:function(){return m},set:function(a){m=a;H.reset(m)}}});c.utils.initOptions(a);return a};c.models.discreteBarChart=function(){function a(m){M.reset();M.models(b);u&&M.models(d);w&&M.models(g);
m.each(function(m){var h=d3.select(this);c.utils.initSVG(h);var y=c.utils.availableWidth(k,h,l),p=c.utils.availableHeight(n,h,l);a.update=function(){G.beforeUpdate();h.transition().duration(H).call(a)};a.container=this;if(m&&m.length&&m.filter(function(a){return a.values.length}).length)h.selectAll(".nv-noData").remove();else return c.utils.noData(a,h),a;B=b.xScale();D=b.yScale().clamp(!0);var E=h.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([m]),z=E.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),
K=z.append("defs"),q=E.select("g");z.append("g").attr("class","nv-x nv-axis");z.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");z.append("g").attr("class","nv-barsWrap");z.append("g").attr("class","nv-legendWrap");q.attr("transform","translate("+l.left+","+l.top+")");r?(f.width(y),q.select(".nv-legendWrap").datum(m).call(f),e||f.height()===l.top||(l.top=f.height(),p=c.utils.availableHeight(n,h,l)),E.select(".nv-legendWrap").attr("transform","translate(0,"+
-l.top+")")):q.select(".nv-legendWrap").selectAll("*").remove();v&&q.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)");b.width(y).height(p);q.select(".nv-barsWrap").datum(m.filter(function(a){return!a.disabled})).transition().call(b);K.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");q.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",B.rangeBand()*(x?2:1)).attr("height",16).attr("x",-B.rangeBand()/(x?1:2));u&&(d.scale(B)._ticks(c.utils.calcTicksX(y/100,m)).tickSize(-p,
0),q.select(".nv-x.nv-axis").attr("transform","translate(0,"+(D.range()[0]+(b.showValues()&&0>D.domain()[0]?16:0))+")"),q.select(".nv-x.nv-axis").call(d),E=q.select(".nv-x.nv-axis").selectAll("g"),x&&E.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(0==c%2?"5":"17")+")"}),t&&E.selectAll(".tick text").attr("transform","rotate("+t+" 0,0)").style("text-anchor",0<t?"start":"end"),A&&q.selectAll(".tick text").call(c.utils.wrapTicks,a.xAxis.rangeBand()));w&&(g.scale(D)._ticks(c.utils.calcTicksY(p/
36,m)).tickSize(-y,0),q.select(".nv-y.nv-axis").call(g));q.select(".nv-zeroLine line").attr("x1",0).attr("x2",v?-y:y).attr("y1",D(0)).attr("y2",D(0))});M.renderEnd("discreteBar chart immediate");return a}var b=c.models.discreteBar(),d=c.models.axis(),g=c.models.axis(),f=c.models.legend(),h=c.models.tooltip(),l={top:15,right:10,bottom:50,left:60},e=null,k=null,n=null,q=c.utils.getColor(),r=!1,u=!0,w=!0,v=!1,x=!1,A=!1,t=0,B,D,m=null,G=d3.dispatch("beforeUpdate","renderEnd"),H=250;d.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a});
g.orient(v?"right":"left").tickFormat(d3.format(",.1f"));h.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).keyFormatter(function(a,b){return d.tickFormat()(a,b)});var M=c.utils.renderWatch(G,H);b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};h.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){h.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){h()});a.dispatch=
G;a.discretebar=b;a.legend=f;a.xAxis=d;a.yAxis=g;a.tooltip=h;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return r},set:function(a){r=a}},staggerLabels:{get:function(){return x},set:function(a){x=a}},rotateLabels:{get:function(){return t},set:function(a){t=a}},wrapLabels:{get:function(){return A},set:function(a){A=!!a}},showXAxis:{get:function(){return u},
set:function(a){u=a}},showYAxis:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return m},set:function(a){m=a}},margin:{get:function(){return l},set:function(a){void 0!==a.top&&(e=l.top=a.top);l.right=void 0!==a.right?a.right:l.right;l.bottom=void 0!==a.bottom?a.bottom:l.bottom;l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return H},set:function(a){H=a;M.reset(H);b.duration(H);d.duration(H);g.duration(H)}},color:{get:function(){return q},set:function(a){q=
c.utils.getColor(a);b.color(q);f.color(q)}},rightAlignYAxis:{get:function(){return v},set:function(a){v=a;g.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.distribution=function(){function a(d){r.reset();d.each(function(a){var d="x"==f?"y":"x",k=d3.select(this);c.utils.initSVG(k);q=q||e;a=k.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");k=a.select("g");a.attr("transform","translate("+
b.left+","+b.top+")");a=k.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return l(a,b)});k=a.selectAll("line.nv-dist"+f).data(function(a){return a.values});k.enter().append("line").attr(f+"1",function(a,b){return q(h(a,b))}).attr(f+"2",function(a,b){return q(h(a,b))});r.transition(a.exit().selectAll("line.nv-dist"+f),"dist exit").attr(f+"1",function(a,b){return e(h(a,
b))}).attr(f+"2",function(a,b){return e(h(a,b))}).style("stroke-opacity",0).remove();k.attr("class",function(a,b){return"nv-dist"+f+" nv-dist"+f+"-"+b}).attr(d+"1",0).attr(d+"2",g);r.transition(k,"dist").attr(f+"1",function(a,b){return e(h(a,b))}).attr(f+"2",function(a,b){return e(h(a,b))});q=e.copy()});r.renderEnd("distribution immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=400,g=8,f="x",h=function(a){return a[f]},l=c.utils.defaultColor(),e=d3.scale.linear(),k=250,n=d3.dispatch("renderEnd"),
q,r=c.utils.renderWatch(n,k);a.options=c.utils.optionsFunc.bind(a);a.dispatch=n;a.margin=function(c){if(!arguments.length)return b;b.top="undefined"!=typeof c.top?c.top:b.top;b.right="undefined"!=typeof c.right?c.right:b.right;b.bottom="undefined"!=typeof c.bottom?c.bottom:b.bottom;b.left="undefined"!=typeof c.left?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return d;d=b;return a};a.axis=function(b){if(!arguments.length)return f;f=b;return a};a.size=function(b){if(!arguments.length)return g;
g=b;return a};a.getData=function(b){if(!arguments.length)return h;h=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return e;e=b;return a};a.color=function(b){if(!arguments.length)return l;l=c.utils.getColor(b);return a};a.duration=function(b){if(!arguments.length)return k;k=b;r.reset(k);return a};return a};c.models.focus=function(a){function b(D){B.reset();B.models(a);n&&B.models(d);q&&B.models(g);D.each(function(m){function D(){f.empty()||f.extent(v);E.data([f.empty()?u.domain():
v]).each(function(a,b){b=u(a[0])-u.range()[0];var c=y-u(a[1]);d3.select(this).select(".left").attr("width",0>b?0:b);d3.select(this).select(".right").attr("x",u(a[1])).attr("width",0>c?0:c)})}function H(a){v=f.empty()?null:f.extent();var b=f.empty()?u.domain():f.extent();A.brush({extent:b,brush:f});D();if(a)A.onBrush(b)}var B=d3.select(this);c.utils.initSVG(B);var y=c.utils.availableWidth(e,B,h),p=k-h.top-h.bottom;b.update=function(){0===x?B.call(b):B.transition().duration(x).call(b)};b.container=
this;u=a.xScale();w=a.yScale();var C=B.selectAll("g.nv-focus").data([m]),J=C.enter().append("g").attr("class","nvd3 nv-focus").append("g"),I=C.select("g");C.attr("transform","translate("+h.left+","+h.top+")");J.append("g").attr("class","nv-background").append("rect");J.append("g").attr("class","nv-x nv-axis");J.append("g").attr("class","nv-y nv-axis");J.append("g").attr("class","nv-contentWrap");J.append("g").attr("class","nv-brushBackground");J.append("g").attr("class","nv-x nv-brush");r&&I.select(".nv-y.nv-axis").attr("transform",
"translate("+y+",0)");I.select(".nv-background rect").attr("width",y).attr("height",p);a.width(y).height(p).color(m.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!m[b].disabled}));C=I.select(".nv-contentWrap").datum(m.filter(function(a){return!a.disabled}));d3.transition(C).call(a);f.x(u).on("brush",function(){H(t)});f.on("brushend",function(){if(!t)A.onBrush(f.empty()?u.domain():f.extent())});v&&f.extent(v);var E=I.select(".nv-brushBackground").selectAll("g").data([v||f.extent()]);
C=E.enter().append("g");C.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",p);C.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",p);C=I.select(".nv-x.nv-brush").call(f);C.selectAll("rect").attr("height",p);C.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,c=p/3;return"M"+.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+
(2*c-8)});H(!0);I.select(".nv-background rect").attr("width",y).attr("height",p);n&&(d.scale(u)._ticks(c.utils.calcTicksX(y/100,m)).tickSize(-p,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")"),d3.transition(I.select(".nv-x.nv-axis")).call(d));q&&(g.scale(w)._ticks(c.utils.calcTicksY(p/36,m)).tickSize(-y,0),d3.transition(I.select(".nv-y.nv-axis")).call(g));I.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")")});B.renderEnd("focus immediate");return b}
a=a||c.models.line();var d=c.models.axis(),g=c.models.axis(),f=d3.svg.brush(),h={top:10,right:0,bottom:30,left:0},l=c.utils.defaultColor(),e=null,k=70,n=!0,q=!1,r=!1,u,w,v=null,x=250,A=d3.dispatch("brush","onBrush","renderEnd"),t=!0;a.interactive(!1);a.pointActive(function(a){return!1});var B=c.utils.renderWatch(A,x);b.dispatch=A;b.content=a;b.brush=f;b.xAxis=d;b.yAxis=g;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},
set:function(a){k=a}},showXAxis:{get:function(){return n},set:function(a){n=a}},showYAxis:{get:function(){return q},set:function(a){q=a}},brushExtent:{get:function(){return v},set:function(a){v=a}},syncBrushing:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top;h.right=void 0!==a.right?a.right:h.right;h.bottom=void 0!==a.bottom?a.bottom:h.bottom;h.left=void 0!==a.left?a.left:h.left}},duration:{get:function(){return x},
set:function(b){x=b;B.reset(x);a.duration(x);d.duration(x);g.duration(x)}},color:{get:function(){return l},set:function(b){l=c.utils.getColor(b);a.color(l)}},interpolate:{get:function(){return a.interpolate()},set:function(b){a.interpolate(b)}},xTickFormat:{get:function(){return d.tickFormat()},set:function(a){d.tickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a)}},x:{get:function(){return a.x()},set:function(b){a.x(b)}},y:{get:function(){return a.y()},
set:function(b){a.y(b)}},rightAlignYAxis:{get:function(){return r},set:function(a){r=a;g.orient(r?"right":"left")}}});c.utils.inheritOptions(b,a);c.utils.initOptions(b);return b};c.models.forceDirectedGraph=function(){function a(m){D.reset();m.each(function(m){f=d3.select(this);c.utils.initSVG(f);var h=c.utils.availableWidth(d,f,b),k=c.utils.availableHeight(g,f,b);f.attr("width",h).attr("height",k);if(m&&m.links&&m.nodes)f.selectAll(".nv-noData").remove();else return c.utils.noData(a,f),a;f.selectAll("*").remove();
var y=new Set;m.nodes.forEach(function(a){Object.keys(a).forEach(function(a){y.add(a)})});h=d3.layout.force().nodes(m.nodes).links(m.links).size([h,k]).linkStrength(n).friction(q).linkDistance(r).charge(u).gravity(w).theta(v).alpha(x).start();var p=f.selectAll(".link").data(m.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(a){return Math.sqrt(a.value)}),C=f.selectAll(".node").data(m.nodes).enter().append("g").attr("class","nv-force-node").call(h.drag);C.append("circle").attr("r",
A).style("fill",function(a){return l(a)}).on("mouseover",function(a){f.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.py);f.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.px);var b=l(a);a.series=[];y.forEach(function(c){a.series.push({color:b,key:c,value:a[c]})});e.data(a).hidden(!1)}).on("mouseout",function(a){e.hidden(!0)});e.headerFormatter(function(a){return"Node"});B(p);t(C);h.on("tick",function(){p.attr("x1",function(a){return a.source.x}).attr("y1",
function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y});C.attr("transform",function(a){return"translate("+a.x+", "+a.y+")"})})});return a}var b={top:2,right:0,bottom:2,left:0},d=400,g=32,f=null,h=d3.dispatch("renderEnd"),l=c.utils.getColor(["#000"]),e=c.models.tooltip(),k=null,n=.1,q=.9,r=30,u=-120,w=.1,v=.8,x=.1,A=5,t=function(a){},B=function(a){},D=c.utils.renderWatch(h);a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},
{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},linkStrength:{get:function(){return n},set:function(a){n=a}},friction:{get:function(){return q},set:function(a){q=a}},linkDist:{get:function(){return r},set:function(a){r=a}},charge:{get:function(){return u},set:function(a){u=a}},gravity:{get:function(){return w},set:function(a){w=a}},theta:{get:function(){return v},set:function(a){v=a}},alpha:{get:function(){return x},set:function(a){x=a}},
radius:{get:function(){return A},set:function(a){A=a}},x:{get:function(){return getX},set:function(a){getX=d3.functor(a)}},y:{get:function(){return getY},set:function(a){getY=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}},noData:{get:function(){return k},
set:function(a){k=a}},nodeExtras:{get:function(){return t},set:function(a){t=a}},linkExtras:{get:function(){return B},set:function(a){B=a}}});a.dispatch=h;a.tooltip=e;c.utils.initOptions(a);return a};c.models.furiousLegend=function(){function a(A){function t(a,b){if("furious"!=x)return"#000";if(w)return a.disengaged?l(a,b):"#fff";if(!w)return a.disabled?l(a,b):"#fff"}function B(a,b){return w&&"furious"==x?a.disengaged?"#fff":l(a,b):a.disabled?"#fff":l(a,b)}A.each(function(a){var m=d-b.left-b.right,
G=d3.select(this);c.utils.initSVG(G);G=G.selectAll("g.nv-legend").data([a]);G.enter().append("g").attr("class","nvd3 nv-legend").append("g");a=G.select("g");G.attr("transform","translate("+b.left+","+b.top+")");var H=a.selectAll(".nv-series").data(function(a){return"furious"!=x?a:a.filter(function(a){return w?!0:!a.disengaged})});G=H.enter().append("g").attr("class","nv-series");if("classic"==x){G.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);var D=H.select("circle")}else"furious"==
x&&(G.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),D=H.select("rect"),G.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),H.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",t(a,
b))}));G.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var y=H.select("text.nv-legend-text");H.on("mouseover",function(a,b){v.legendMouseover(a,b)}).on("mouseout",function(a,b){v.legendMouseout(a,b)}).on("click",function(a,b){v.legendClick(a,b);b=H.data();r&&("classic"==x?u?(b.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,b.every(function(a){return a.disabled})&&b.forEach(function(a){a.disabled=!1})):"furious"==
x&&(w?(a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled):w||(a.disabled=!a.disabled,a.userDisabled=a.disabled,b.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&b.forEach(function(a){a.disabled=a.userDisabled=!1}))),v.stateChange({disabled:b.map(function(a){return!!a.disabled}),disengaged:b.map(function(a){return!!a.disengaged})}))}).on("dblclick",function(a,b){"furious"==x&&w||(v.legendDblclick(a,
b),r&&(b=H.data(),b.forEach(function(a){a.disabled=!0;"furious"==x&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==x&&(a.userDisabled=a.disabled),v.stateChange({disabled:b.map(function(a){return!!a.disabled})})))});H.classed("nv-disabled",function(a){return a.userDisabled});H.exit().remove();y.attr("fill",t).text(function(a){return h(f(a))});switch(x){case "furious":var p=23;break;case "classic":p=20}if(k){var C=[];H.each(function(a,b){h(f(a))&&h(f(a)).length>e?(b=h(f(a)).substring(0,e),b=
d3.select(this).select("text").text(b+"..."),d3.select(this).append("svg:title").text(h(f(a)))):b=d3.select(this).select("text");try{var d=b.node().getComputedTextLength();if(0>=d)throw Error();}catch(aa){d=c.utils.calcApproxTextWidth(b)}C.push(d+n)});var J=0,I=0;for(G=[];I<m&&J<C.length;)G[J]=C[J],I+=C[J++];for(0===J&&(J=1);I>m&&1<J;){G=[];J--;for(I=0;I<C.length;I++)C[I]>(G[I%J]||0)&&(G[I%J]=C[I]);I=G.reduce(function(a,b,c,d){return a+b})}for(var E=[],z=m=0;m<J;m++)E[m]=z,z+=G[m];H.attr("transform",
function(a,b){return"translate("+E[b%J]+","+(5+Math.floor(b/J)*p)+")"});q?a.attr("transform","translate("+(d-b.right-I)+","+b.top+")"):a.attr("transform","translate(0,"+b.top+")");g=b.top+b.bottom+Math.ceil(C.length/J)*p}else{var K=5,A=5,N=0,O;H.attr("transform",function(a,c){a=d3.select(this).select("text").node().getComputedTextLength()+n;O=A;d<b.left+b.right+O+a&&(A=O=5,K+=p);A+=a;A>N&&(N=A);return"translate("+O+","+K+")"});a.attr("transform","translate("+(d-b.right-N)+","+b.top+")");g=b.top+b.bottom+
K+15}"furious"==x&&D.attr("width",function(a,b){return y[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);D.style("fill",B).style("stroke",function(a,b){return a.color||l(a,b)})});return a}var b={top:5,right:0,bottom:5,left:0},d=400,g=20,f=function(a){return a.key},h=function(a){return a},l=c.utils.getColor(),e=20,k=!0,n=28,q=!0,r=!0,u=!1,w=!1,v=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),x="classic";a.dispatch=v;a.options=
c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},key:{get:function(){return f},set:function(a){f=a}},keyFormatter:{get:function(){return h},set:function(a){h=a}},align:{get:function(){return k},set:function(a){k=a}},rightAlign:{get:function(){return q},set:function(a){q=a}},maxKeyLength:{get:function(){return e},set:function(a){e=a}},padding:{get:function(){return n},set:function(a){n=
a}},updateState:{get:function(){return r},set:function(a){r=a}},radioButtonMode:{get:function(){return u},set:function(a){u=a}},expanded:{get:function(){return w},set:function(a){w=a}},vers:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}}});
c.utils.initOptions(a);return a};c.models.historicalBar=function(){function a(H){H.each(function(a){G.reset();h=d3.select(this);var y=c.utils.availableWidth(d,h,b),p=c.utils.availableHeight(g,h,b);c.utils.initSVG(h);l.domain(x||d3.extent(a[0].values.map(k).concat(q)));u?l.range(t||[.5*y/a[0].values.length,y*(a[0].values.length-.5)/a[0].values.length]):l.range(t||[0,y]);e.domain(A||d3.extent(a[0].values.map(n).concat(r))).range(B||[p,0]);l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-
.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+.01*e.domain()[0],e.domain()[1]-.01*e.domain()[1]]):e.domain([-1,1]));var C=h.selectAll("g.nv-wrap.nv-historicalBar-"+f).data([a[0].values]),H=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+f),I=H.append("defs");H=H.append("g");var E=C.select("g");H.append("g").attr("class","nv-bars");C.attr("transform","translate("+b.left+","+b.top+")");
h.on("click",function(a,b){D.chartClick({data:a,index:b,pos:d3.event,id:f})});I.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");C.select("#nv-chart-clip-path-"+f+" rect").attr("width",y).attr("height",p);E.attr("clip-path",w?"url(#nv-chart-clip-path-"+f+")":"");p=C.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return k(a,b)});p.exit().remove();p.enter().append("rect").attr("x",0).attr("y",function(a,b){return c.utils.NaNtoZero(e(Math.max(0,n(a,
b))))}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.abs(e(n(a,b))-e(0)))}).attr("transform",function(b,c){return"translate("+(l(k(b,c))-y/a[0].values.length*.45)+",0)"}).on("mouseover",function(a,b){m&&(d3.select(this).classed("hover",!0),D.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mouseout",function(a,b){m&&(d3.select(this).classed("hover",!1),D.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mousemove",function(a,b){m&&
D.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){m&&(D.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation())}).on("dblclick",function(a,b){m&&(D.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation())});p.attr("fill",function(a,b){return v(a,b)}).attr("class",function(a,b,c){return(0>n(a,b)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+
c+"-"+b}).watchTransition(G,"bars").attr("transform",function(b,c){return"translate("+(l(k(b,c))-y/a[0].values.length*.45)+",0)"}).attr("width",y/a[0].values.length*.9);p.watchTransition(G,"bars").attr("y",function(a,b){a=0>n(a,b)?e(0):1>e(0)-e(n(a,b))?e(0)-1:e(n(a,b));return c.utils.NaNtoZero(a)}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.max(Math.abs(e(n(a,b))-e(0)),1))})});G.renderEnd("historicalBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=null,g=null,f=Math.floor(1E4*
Math.random()),h=null,l=d3.scale.linear(),e=d3.scale.linear(),k=function(a){return a.x},n=function(a){return a.y},q=[],r=[0],u=!1,w=!0,v=c.utils.defaultColor(),x,A,t,B,D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),m=!0,G=c.utils.renderWatch(D,0);a.highlightPoint=function(a,b){h.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=function(){h.select(".nv-bars .nv-bar.hover").classed("hover",!1)};a.dispatch=
D;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return q},set:function(a){q=a}},forceY:{get:function(){return r},set:function(a){r=a}},padData:{get:function(){return u},set:function(a){u=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return n},set:function(a){n=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return e},
set:function(a){e=a}},xDomain:{get:function(){return x},set:function(a){x=a}},yDomain:{get:function(){return A},set:function(a){A=a}},xRange:{get:function(){return t},set:function(a){t=a}},yRange:{get:function(){return B},set:function(a){B=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return m},set:function(a){m=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=
void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return v},set:function(a){v=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBarChart=function(a){function b(a){a.each(function(e){p.reset();p.models(d);v&&p.models(g);x&&p.models(f);var I=d3.select(this);c.utils.initSVG(I);var E=c.utils.availableWidth(r,I,k),z=c.utils.availableHeight(u,I,k);b.update=function(){I.transition().duration(y).call(b)};
b.container=this;m.disabled=e.map(function(a){return!!a.disabled});if(!G)for(H in G={},m)G[H]=m[H]instanceof Array?m[H].slice(0):m[H];if(e&&e.length&&e.filter(function(a){return a.values.length}).length)I.selectAll(".nv-noData").remove();else return c.utils.noData(b,I),b;B=d.xScale();D=d.yScale();var C=I.selectAll("g.nv-wrap.nv-historicalBarChart").data([e]);var H=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");var J=C.select("g");H.append("g").attr("class","nv-x nv-axis");
H.append("g").attr("class","nv-y nv-axis");H.append("g").attr("class","nv-barsWrap");H.append("g").attr("class","nv-legendWrap");H.append("g").attr("class","nv-interactive");w?(h.width(E),J.select(".nv-legendWrap").datum(e).call(h),n||h.height()===k.top||(k.top=h.height(),z=c.utils.availableHeight(u,I,k)),C.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")):J.select(".nv-legendWrap").selectAll("*").remove();C.attr("transform","translate("+k.left+","+k.top+")");A&&J.select(".nv-y.nv-axis").attr("transform",
"translate("+E+",0)");t&&(l.width(E).height(z).margin({left:k.left,top:k.top}).svgContainer(I).xScale(B),C.select(".nv-interactive").call(l));d.width(E).height(z).color(e.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!e[b].disabled}));J.select(".nv-barsWrap").datum(e.filter(function(a){return!a.disabled})).transition().call(d);v&&(g.scale(B)._ticks(c.utils.calcTicksX(E/100,e)).tickSize(-z,0),J.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")"),J.select(".nv-x.nv-axis").transition().call(g));
x&&(f.scale(D)._ticks(c.utils.calcTicksY(z/36,e)).tickSize(-E,0),J.select(".nv-y.nv-axis").transition().call(f));l.dispatch.on("elementMousemove",function(a){d.clearHighlights();var m,z,h,k=[];e.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,f){z=c.interactiveBisect(e.values,a.pointXValue,b.x());d.highlightPoint(z,!0);f=e.values[z];void 0!==f&&(void 0===m&&(m=f),void 0===h&&(h=b.xScale()(b.x()(f,z))),k.push({key:e.key,value:b.y()(f,z),color:q(e,e.seriesIndex),data:e.values[z]}))});
var E=g.tickFormat()(b.x()(m,z));l.tooltip.valueFormatter(function(a,b){return f.tickFormat()(a)}).data({value:E,index:z,series:k})();l.renderGuideLine(h)});l.dispatch.on("elementMouseout",function(a){M.tooltipHide();d.clearHighlights()});h.dispatch.on("legendClick",function(c,d){c.disabled=!c.disabled;e.filter(function(a){return!a.disabled}).length||e.map(function(a){a.disabled=!1;C.selectAll(".nv-series").classed("disabled",!1);return a});m.disabled=e.map(function(a){return!!a.disabled});M.stateChange(m);
a.transition().call(b)});h.dispatch.on("legendDblclick",function(a){e.forEach(function(a){a.disabled=!0});a.disabled=!1;m.disabled=e.map(function(a){return!!a.disabled});M.stateChange(m);b.update()});M.on("changeState",function(a){"undefined"!==typeof a.disabled&&(e.forEach(function(b,c){b.disabled=a.disabled[c]}),m.disabled=a.disabled);b.update()})});p.renderEnd("historicalBarChart immediate");return b}var d=a||c.models.historicalBar(),g=c.models.axis(),f=c.models.axis(),h=c.models.legend(),l=c.interactiveGuideline(),
e=c.models.tooltip(),k={top:30,right:90,bottom:50,left:90},n=null,q=c.utils.defaultColor(),r=null,u=null,w=!1,v=!0,x=!0,A=!1,t=!1,B,D,m={},G=null,H=null,M=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),y=250;g.orient("bottom").tickPadding(7);f.orient(A?"right":"left");e.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)});var p=c.utils.renderWatch(M,0);d.dispatch.on("elementMouseover.tooltip",
function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color};e.data(a).hidden(!1)});d.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)});d.dispatch.on("elementMousemove.tooltip",function(a){e()});b.dispatch=M;b.bars=d;b.legend=h;b.xAxis=g;b.yAxis=f;b.interactiveLayer=l;b.tooltip=e;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{width:{get:function(){return r},set:function(a){r=a}},height:{get:function(){return u},set:function(a){u=a}},showLegend:{get:function(){return w},
set:function(a){w=a}},showXAxis:{get:function(){return v},set:function(a){v=a}},showYAxis:{get:function(){return x},set:function(a){x=a}},defaultState:{get:function(){return G},set:function(a){G=a}},noData:{get:function(){return H},set:function(a){H=a}},margin:{get:function(){return k},set:function(a){void 0!==a.top&&(n=k.top=a.top);k.right=void 0!==a.right?a.right:k.right;k.bottom=void 0!==a.bottom?a.bottom:k.bottom;k.left=void 0!==a.left?a.left:k.left}},color:{get:function(){return q},set:function(a){q=
c.utils.getColor(a);h.color(q);d.color(q)}},duration:{get:function(){return y},set:function(a){y=a;p.reset(y);f.duration(y);g.duration(y)}},rightAlignYAxis:{get:function(){return A},set:function(a){A=a;f.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return t},set:function(a){t=a;!0===a&&b.interactive(!1)}}});c.utils.inheritOptions(b,d);c.utils.initOptions(b);return b};c.models.ohlcBarChart=function(){var a=c.models.historicalBarChart(c.models.ohlcBar());a.useInteractiveGuideline(!0);
a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.candlestickBarChart=function(){var a=c.models.historicalBarChart(c.models.candlestickBar());
a.useInteractiveGuideline(!0);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.legend=function(){function a(A){function t(a,
b){if("furious"!=x)return"#000";if(w)return a.disengaged?"#000":"#fff";if(!w)return a.color||(a.color=l(a,b)),a.disabled?a.color:"#fff"}function B(a,b){return w&&"furious"==x?a.disengaged?"#eee":a.color||l(a,b):a.color||l(a,b)}function D(a,b){return w&&"furious"==x?1:a.disabled?0:1}A.each(function(a){var m=d-b.left-b.right,l=d3.select(this);c.utils.initSVG(l);var A=l.selectAll("g.nv-legend").data([a]);a=A.enter().append("g").attr("class","nvd3 nv-legend").append("g");l=A.select("g");q?A.attr("transform",
"translate("+-b.right+","+b.top+")"):A.attr("transform","translate("+b.left+","+b.top+")");var y=l.selectAll(".nv-series").data(function(a){return"furious"!=x?a:a.filter(function(a){return w?!0:!a.disengaged})});A=y.enter().append("g").attr("class","nv-series");switch(x){case "furious":var p=23;break;case "classic":p=20}if("classic"==x){A.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);var C=y.select(".nv-legend-symbol")}else"furious"==x&&(A.append("rect").style("stroke-width",
2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),C=y.select(".nv-legend-symbol"),A.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),y.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",t(a,b))}));A.append("text").attr("text-anchor",
"start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var J=y.select("text.nv-legend-text");y.on("mouseover",function(a,b){v.legendMouseover(a,b)}).on("mouseout",function(a,b){v.legendMouseout(a,b)}).on("click",function(a,b){v.legendClick(a,b);b=y.data();r&&("classic"==x?u?(b.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,b.every(function(a){return a.disabled})&&b.forEach(function(a){a.disabled=!1})):"furious"==x&&(w?(a.disengaged=!a.disengaged,a.userDisabled=
void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled):w||(a.disabled=!a.disabled,a.userDisabled=a.disabled,b.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&b.forEach(function(a){a.disabled=a.userDisabled=!1}))),v.stateChange({disabled:b.map(function(a){return!!a.disabled}),disengaged:b.map(function(a){return!!a.disengaged})}))}).on("dblclick",function(a,b){"furious"==x&&w||(v.legendDblclick(a,b),r&&(b=y.data(),b.forEach(function(a){a.disabled=
!0;"furious"==x&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==x&&(a.userDisabled=a.disabled),v.stateChange({disabled:b.map(function(a){return!!a.disabled})})))});y.classed("nv-disabled",function(a){return a.userDisabled});y.exit().remove();J.attr("fill",t).text(function(a){return h(f(a))});var I=0;if(k){var E=[];y.each(function(a,b){h(f(a))&&h(f(a)).length>e?(b=h(f(a)).substring(0,e),b=d3.select(this).select("text").text(b+"..."),d3.select(this).append("svg:title").text(h(f(a)))):b=d3.select(this).select("text");
try{var d=b.node().getComputedTextLength();if(0>=d)throw Error();}catch(U){d=c.utils.calcApproxTextWidth(b)}E.push(d+n)});var z=0;A=[];for(I=0;I<m&&z<E.length;)A[z]=E[z],I+=E[z++];for(0===z&&(z=1);I>m&&1<z;){A=[];z--;for(var K=0;K<E.length;K++)E[K]>(A[K%z]||0)&&(A[K%z]=E[K]);I=A.reduce(function(a,b,c,d){return a+b})}var P=[];for(K=m=0;m<z;m++)P[m]=K,K+=A[m];y.attr("transform",function(a,b){return"translate("+P[b%z]+","+(5+Math.floor(b/z)*p)+")"});q?l.attr("transform","translate("+(d-b.right-I)+","+
b.top+")"):l.attr("transform","translate(0,"+b.top+")");g=b.top+b.bottom+Math.ceil(E.length/z)*p}else{var N=5,O=5,F=0,L;y.attr("transform",function(a,c){a=d3.select(this).select("text").node().getComputedTextLength()+n;L=O;d<b.left+b.right+L+a&&(O=L=5,N+=p);O+=a;O>F&&(F=O);I<L+F&&(I=L+F);return"translate("+L+","+N+")"});l.attr("transform","translate("+(d-b.right-F)+","+b.top+")");g=b.top+b.bottom+N+15}"furious"==x&&(C.attr("width",function(a,b){return J[0][b].getComputedTextLength()+27}).attr("height",
18).attr("y",-9).attr("x",-15),a.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),l.select(".nv-legend-bg").transition().duration(300).attr("x",-p).attr("width",I+p-12).attr("height",g+10).attr("y",-b.top-10).attr("opacity",w?1:0));C.style("fill",B).style("fill-opacity",D).style("stroke",B)});return a}var b={top:5,right:0,bottom:5,left:0},d=400,g=20,f=function(a){return a.key},h=function(a){return a},l=c.utils.getColor(),e=20,k=!0,n=32,q=!0,r=!0,u=!1,
w=!1,v=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),x="classic";a.dispatch=v;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},key:{get:function(){return f},set:function(a){f=a}},keyFormatter:{get:function(){return h},set:function(a){h=a}},align:{get:function(){return k},set:function(a){k=a}},maxKeyLength:{get:function(){return e},
set:function(a){e=a}},rightAlign:{get:function(){return q},set:function(a){q=a}},padding:{get:function(){return n},set:function(a){n=a}},updateState:{get:function(){return r},set:function(a){r=a}},radioButtonMode:{get:function(){return u},set:function(a){u=a}},expanded:{get:function(){return w},set:function(a){w=a}},vers:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=
void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.line=function(){function a(m){D.reset();D.models(b);m.each(function(a){h=d3.select(this);var m=c.utils.availableWidth(g,h,d),G=c.utils.availableHeight(f,h,d);c.utils.initSVG(h);u=b.xScale();w=b.yScale();t=t||u;B=B||w;a=h.selectAll("g.nv-wrap.nv-line").data([a]);var y=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),
p=y.append("defs"),C=y.append("g");y=a.select("g");C.append("g").attr("class","nv-groups");C.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+d.left+","+d.top+")");b.width(m).height(G);C=a.select(".nv-scatterWrap");C.call(b);p.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",m).attr("height",0<G?G:0);y.attr("clip-path",r?"url(#nv-edge-clip-"+b.id()+")":"");C.attr("clip-path",r?"url(#nv-edge-clip-"+
b.id()+")":"");m=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});m.enter().append("g").style("stroke-opacity",1E-6).style("stroke-width",function(a){return a.strokeWidth||1.5}).style("fill-opacity",1E-6);m.exit().remove();m.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return l(a,b)}).style("stroke",function(a,b){return l(a,b)});m.watchTransition(D,
"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||.5});G=m.selectAll("path.nv-area").data(function(a){return q(a)?[a]:[]});G.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(v).defined(n).x(function(a,b){return c.utils.NaNtoZero(t(e(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(B(k(a,b)))}).y1(function(a,b){return B(0>=w.domain()[0]?0<=w.domain()[1]?0:w.domain()[1]:w.domain()[0])}).apply(this,[a.values])});
m.exit().selectAll("path.nv-area").remove();G.watchTransition(D,"line: areaPaths").attr("d",function(a){return d3.svg.area().interpolate(v).defined(n).x(function(a,b){return c.utils.NaNtoZero(u(e(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(w(k(a,b)))}).y1(function(a,b){return w(0>=w.domain()[0]?0<=w.domain()[1]?0:w.domain()[1]:w.domain()[0])}).apply(this,[a.values])});m=m.selectAll("path.nv-line").data(function(a){return[a.values]});m.enter().append("path").attr("class","nv-line").attr("d",
d3.svg.line().interpolate(v).defined(n).x(function(a,b){return c.utils.NaNtoZero(t(e(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(B(k(a,b)))}));m.watchTransition(D,"line: linePaths").attr("d",d3.svg.line().interpolate(v).defined(n).x(function(a,b){return c.utils.NaNtoZero(u(e(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(w(k(a,b)))}));t=u.copy();B=w.copy()});D.renderEnd("line immediate");return a}var b=c.models.scatter(),d={top:0,right:0,bottom:0,left:0},g=960,f=500,h=null,l=c.utils.defaultColor(),
e=function(a){return a.x},k=function(a){return a.y},n=function(a,b){return!isNaN(k(a,b))&&null!==k(a,b)},q=function(a){return a.area},r=!1,u,w,v="linear",x=250,A=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");b.pointSize(16).pointDomain([16,256]);var t,B,D=c.utils.renderWatch(A,x);a.dispatch=A;a.scatter=b;b.dispatch.on("elementClick",function(){A.elementClick.apply(this,arguments)});b.dispatch.on("elementMouseover",function(){A.elementMouseover.apply(this,arguments)});
b.dispatch.on("elementMouseout",function(){A.elementMouseout.apply(this,arguments)});a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return f},set:function(a){f=a}},defined:{get:function(){return n},set:function(a){n=a}},interpolate:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?
a.top:d.top;d.right=void 0!==a.right?a.right:d.right;d.bottom=void 0!==a.bottom?a.bottom:d.bottom;d.left=void 0!==a.left?a.left:d.left}},duration:{get:function(){return x},set:function(a){x=a;D.reset(x);b.duration(x)}},isArea:{get:function(){return q},set:function(a){q=d3.functor(a)}},x:{get:function(){return e},set:function(a){e=a;b.x(a)}},y:{get:function(){return k},set:function(a){k=a;b.y(a)}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a);b.color(l)}}});c.utils.inheritOptions(a,
b);c.utils.initOptions(a);return a};c.models.lineChart=function(){function a(z){J.reset();J.models(b);x&&J.models(d);A&&J.models(g);z.each(function(z){function l(){x&&U.select(".nv-focus .nv-x.nv-axis").transition().duration(C).call(d)}function y(){A&&U.select(".nv-focus .nv-y.nv-axis").transition().duration(C).call(g)}function O(a){U.select(".nv-focus .nv-linesWrap").datum(z.filter(function(a){return!a.disabled}).map(function(c,d){return{key:c.key,area:c.area,classed:c.classed,values:c.values.filter(function(c,
d){return b.x()(c,d)>=a[0]&&b.x()(c,d)<=a[1]}),disableTooltip:c.disableTooltip}})).transition().duration(C).call(b);l();y()}var F=d3.select(this);c.utils.initSVG(F);var L=c.utils.availableWidth(r,F,k),J=c.utils.availableHeight(u,F,k)-(G?e.height():0);a.update=function(){0===C?F.call(a):F.transition().duration(C).call(a)};a.container=this;H.setter(E(z),a.update).getter(I(z)).update();H.disabled=z.map(function(a){return!!a.disabled});if(!M)for(K in M={},H)M[K]=H[K]instanceof Array?H[K].slice(0):H[K];
if(z&&z.length&&z.filter(function(a){return a.values.length}).length)F.selectAll(".nv-noData").remove();else return c.utils.noData(a,F),a;e.dispatch.on("onBrush",function(a){O(a)});D=b.xScale();m=b.yScale();var K=F.selectAll("g.nv-wrap.nv-lineChart").data([z]);var X=K.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),U=K.select("g");X.append("g").attr("class","nv-legendWrap");var T=X.append("g").attr("class","nv-focus");T.append("g").attr("class","nv-background").append("rect");
T.append("g").attr("class","nv-x nv-axis");T.append("g").attr("class","nv-y nv-axis");T.append("g").attr("class","nv-linesWrap");T.append("g").attr("class","nv-interactive");X.append("g").attr("class","nv-focusWrap");w?(f.width(L),U.select(".nv-legendWrap").datum(z).call(f),"bottom"===v?K.select(".nv-legendWrap").attr("transform","translate(0,"+J+")"):"top"===v&&(n||f.height()===k.top||(k.top=f.height(),J=c.utils.availableHeight(u,F,k)-(G?e.height():0)),K.select(".nv-legendWrap").attr("transform",
"translate(0,"+-k.top+")"))):U.select(".nv-legendWrap").selectAll("*").remove();K.attr("transform","translate("+k.left+","+k.top+")");t&&U.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)");B&&(h.width(L).height(J).margin({left:k.left,top:k.top}).svgContainer(F).xScale(D),K.select(".nv-interactive").call(h));U.select(".nv-focus .nv-background rect").attr("width",L).attr("height",J);b.width(L).height(J).color(z.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!z[b].disabled}));
K=U.select(".nv-linesWrap").datum(z.filter(function(a){return!a.disabled}));x&&d.scale(D)._ticks(c.utils.calcTicksX(L/100,z)).tickSize(-J,0);A&&g.scale(m)._ticks(c.utils.calcTicksY(J/36,z)).tickSize(-L,0);U.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+J+")");G?(e.width(L),U.select(".nv-focusWrap").attr("transform","translate(0,"+(J+k.bottom+e.margin().top)+")").datum(z.filter(function(a){return!a.disabled})).call(e),L=e.brush.empty()?e.xDomain():e.brush.extent(),null!==L&&O(L)):
(K.call(b),l(),y());f.dispatch.on("stateChange",function(b){for(var c in b)H[c]=b[c];p.stateChange(H);a.update()});h.dispatch.on("elementMousemove",function(d){b.clearHighlights();var m,f,k,F=[];z.filter(function(a,b){a.seriesIndex=b;return!a.disabled&&!a.disableTooltip}).forEach(function(z,g){var h=G?e.brush.empty()?e.xScale().domain():e.brush.extent():D.domain(),t=z.values.filter(function(a,c){return h[0]<=h[1]?b.x()(a,c)>=h[0]&&b.x()(a,c)<=h[1]:b.x()(a,c)>=h[1]&&b.x()(a,c)<=h[0]});f=c.interactiveBisect(t,
d.pointXValue,b.x());t=t[f];var E=a.y()(t,f);null!==E&&b.highlightPoint(g,f,!0);void 0!==t&&(void 0===m&&(m=t),void 0===k&&(k=a.xScale()(a.x()(t,f))),F.push({key:z.key,value:E,color:q(z,z.seriesIndex),data:t}))});if(2<F.length){var t=a.yScale().invert(d.mouseY),E=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]);t=c.nearestValueIndex(F.map(function(a){return a.value}),t,E);null!==t&&(F[t].highlight=!0)}t=function(a,b){return null==a?"N/A":g.tickFormat()(a)};h.tooltip.valueFormatter(h.tooltip.valueFormatter()||
t).data({value:a.x()(m,f),index:f,series:F})();h.renderGuideLine(k)});h.dispatch.on("elementClick",function(d){var e,f=[];z.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(b){var m=c.interactiveBisect(b.values,d.pointXValue,a.x()),z=b.values[m];if("undefined"!==typeof z){"undefined"===typeof e&&(e=a.xScale()(a.x()(z,m)));var g=a.yScale()(a.y()(z,m));f.push({point:z,pointIndex:m,pos:[e,g],seriesIndex:b.seriesIndex,series:b})}});b.dispatch.elementClick(f)});h.dispatch.on("elementMouseout",
function(a){b.clearHighlights()});p.on("changeState",function(b){"undefined"!==typeof b.disabled&&z.length===b.disabled.length&&(z.forEach(function(a,c){a.disabled=b.disabled[c]}),H.disabled=b.disabled);a.update()})});J.renderEnd("lineChart immediate");return a}var b=c.models.line(),d=c.models.axis(),g=c.models.axis(),f=c.models.legend(),h=c.interactiveGuideline(),l=c.models.tooltip(),e=c.models.focus(c.models.line()),k={top:30,right:20,bottom:50,left:60},n=null,q=c.utils.defaultColor(),r=null,u=
null,w=!0,v="top",x=!0,A=!0,t=!1,B=!1,D,m,G=!1,H=c.utils.state(),M=null,y=null,p=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),C=250;d.orient("bottom").tickPadding(7);g.orient(t?"right":"left");b.clipEdge(!0).duration(0);l.valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});h.tooltip.valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});
var J=c.utils.renderWatch(p,C),I=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},E=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){a.series.disableTooltip||l.data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){l.hidden(!0)});a.dispatch=p;a.lines=b;a.legend=f;a.focus=e;a.xAxis=d;a.x2Axis=e.xAxis;a.yAxis=g;a.y2Axis=e.yAxis;a.interactiveLayer=
h;a.tooltip=l;a.state=H;a.dispatch=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return r},set:function(a){r=a}},height:{get:function(){return u},set:function(a){u=a}},showLegend:{get:function(){return w},set:function(a){w=a}},legendPosition:{get:function(){return v},set:function(a){v=a}},showXAxis:{get:function(){return x},set:function(a){x=a}},showYAxis:{get:function(){return A},set:function(a){A=a}},defaultState:{get:function(){return M},set:function(a){M=
a}},noData:{get:function(){return y},set:function(a){y=a}},focusEnable:{get:function(){return G},set:function(a){G=a}},focusHeight:{get:function(){return e.height()},set:function(a){e.height(a)}},focusShowAxisX:{get:function(){return e.showXAxis()},set:function(a){e.showXAxis(a)}},focusShowAxisY:{get:function(){return e.showYAxis()},set:function(a){e.showYAxis(a)}},brushExtent:{get:function(){return e.brushExtent()},set:function(a){e.brushExtent(a)}},focusMargin:{get:function(){return e.margin},set:function(a){void 0!==
a.top&&(n=k.top=a.top);e.margin.right=void 0!==a.right?a.right:e.margin.right;e.margin.bottom=void 0!==a.bottom?a.bottom:e.margin.bottom;e.margin.left=void 0!==a.left?a.left:e.margin.left}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top;k.right=void 0!==a.right?a.right:k.right;k.bottom=void 0!==a.bottom?a.bottom:k.bottom;k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return C},set:function(a){C=a;J.reset(C);b.duration(C);e.duration(C);d.duration(C);
g.duration(C)}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a);f.color(q);b.color(q);e.color(q)}},interpolate:{get:function(){return b.interpolate()},set:function(a){b.interpolate(a);e.interpolate(a)}},xTickFormat:{get:function(){return d.tickFormat()},set:function(a){d.tickFormat(a);e.xTickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a);e.yTickFormat(a)}},x:{get:function(){return b.x()},set:function(a){b.x(a);e.x(a)}},y:{get:function(){return b.y()},
set:function(a){b.y(a);e.y(a)}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a;g.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return B},set:function(a){if(B=a)b.interactive(!1),b.useVoronoi(!1)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineWithFocusChart=function(){return c.models.lineChart().margin({bottom:30}).focusEnable(!0)};c.models.linePlusBarChart=function(){function a(F){F.each(function(F){function w(){u.empty()||u.extent(I);
oa.data([u.empty()?z.domain():I]).each(function(a,b){b=z(a[0])-z.range()[0];var c=z.range()[1]-z(a[1]);d3.select(this).select(".left").attr("width",0>b?0:b);d3.select(this).select(".right").attr("x",z(a[1])).attr("width",0>c?0:c)})}function R(){I=u.empty()?null:u.extent();J=u.empty()?z.domain():u.extent();L.brush({extent:J,brush:u});w();g.width(ha).height(S).color(F.map(function(a,b){return a.color||G(a,b)}).filter(function(a,b){return!F[b].disabled&&F[b].bar}));b.width(ha).height(S).color(F.map(function(a,
b){return a.color||G(a,b)}).filter(function(a,b){return!F[b].disabled&&!F[b].bar}));var a=Q.select(".nv-focus .nv-barsWrap").datum(fa.length?fa.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,b){return g.x()(a,b)>=J[0]&&g.x()(a,b)<=J[1]})}}):[{values:[]}]),d=Q.select(".nv-focus .nv-linesWrap").datum(Z(ma)?[{values:[]}]:ma.filter(function(a){return!a.disabled}).map(function(a,c){return{area:a.area,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,key:a.key,values:a.values.filter(function(a,
c){return b.x()(a,c)>=J[0]&&b.x()(a,c)<=J[1]})}}));E=fa.length&&!V?g.xScale():b.xScale();h.scale(E)._ticks(c.utils.calcTicksX(ha/100,F)).tickSize(-S,0);h.domain([Math.ceil(J[0]),Math.floor(J[1])]);Q.select(".nv-x.nv-axis").transition().duration(Y).call(h);a.transition().duration(Y).call(g);d.transition().duration(Y).call(b);Q.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+K.range()[0]+")");e.scale(K)._ticks(c.utils.calcTicksY(S/36,F)).tickSize(-ha,0);k.scale(P)._ticks(c.utils.calcTicksY(S/
36,F));V?k.tickSize(ma.length?0:-ha,0):k.tickSize(fa.length?0:-ha,0);d=fa.length?1:0;var f=ma.length&&!Z(ma)?1:0;a=V?f:d;d=V?d:f;Q.select(".nv-focus .nv-y1.nv-axis").style("opacity",a);Q.select(".nv-focus .nv-y2.nv-axis").style("opacity",d).attr("transform","translate("+E.range()[1]+",0)");Q.select(".nv-focus .nv-y1.nv-axis").transition().duration(Y).call(e);Q.select(".nv-focus .nv-y2.nv-axis").transition().duration(Y).call(k)}var W=d3.select(this);c.utils.initSVG(W);var ha=c.utils.availableWidth(t,
W,v),S=c.utils.availableHeight(B,W,v)-(M?C:0),da=C-A.top-A.bottom;a.update=function(){W.transition().duration(Y).call(a)};a.container=this;aa.setter(ka(F),a.update).getter(ja(F)).update();aa.disabled=F.map(function(a){return!!a.disabled});if(!X)for(ea in X={},aa)X[ea]=aa[ea]instanceof Array?aa[ea].slice(0):aa[ea];if(F&&F.length&&F.filter(function(a){return a.values.length}).length)W.selectAll(".nv-noData").remove();else return c.utils.noData(a,W),a;var fa=F.filter(function(a){return!a.disabled&&a.bar}),
ma=F.filter(function(a){return!a.bar});E=fa.length&&!V?g.xScale():b.xScale();z=l.scale();K=V?b.yScale():g.yScale();P=V?g.yScale():b.yScale();N=V?d.yScale():f.yScale();O=V?f.yScale():d.yScale();var ea=F.filter(function(a){return!a.disabled&&(V?!a.bar:a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:D(a,b),y:m(a,b)}})});var ia=F.filter(function(a){return!a.disabled&&(V?a.bar:!a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:D(a,b),y:m(a,b)}})});E.range([0,ha]);
z.domain(d3.extent(d3.merge(ea.concat(ia)),function(a){return a.x})).range([0,ha]);ea=W.selectAll("g.nv-wrap.nv-linePlusBar").data([F]);ia=ea.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g");var Q=ea.select("g");ia.append("g").attr("class","nv-legendWrap");var la=ia.append("g").attr("class","nv-focus");la.append("g").attr("class","nv-x nv-axis");la.append("g").attr("class","nv-y1 nv-axis");la.append("g").attr("class","nv-y2 nv-axis");la.append("g").attr("class","nv-barsWrap");
la.append("g").attr("class","nv-linesWrap");ia=ia.append("g").attr("class","nv-context");ia.append("g").attr("class","nv-x nv-axis");ia.append("g").attr("class","nv-y1 nv-axis");ia.append("g").attr("class","nv-y2 nv-axis");ia.append("g").attr("class","nv-barsWrap");ia.append("g").attr("class","nv-linesWrap");ia.append("g").attr("class","nv-brushBackground");ia.append("g").attr("class","nv-x nv-brush");H?(ia=r.align()?ha/2:ha,la=r.align()?ia:0,r.width(ia),Q.select(".nv-legendWrap").datum(F.map(function(a){a.originalKey=
void 0===a.originalKey?a.key:a.originalKey;a.key=V?a.originalKey+(a.bar?T:U):a.originalKey+(a.bar?U:T);return a})).call(r),x||r.height()===v.top||(v.top=r.height(),S=c.utils.availableHeight(B,W,v)-C),Q.select(".nv-legendWrap").attr("transform","translate("+la+","+-v.top+")")):Q.select(".nv-legendWrap").selectAll("*").remove();ea.attr("transform","translate("+v.left+","+v.top+")");Q.select(".nv-context").style("display",M?"initial":"none");f.width(ha).height(da).color(F.map(function(a,b){return a.color||
G(a,b)}).filter(function(a,b){return!F[b].disabled&&F[b].bar}));d.width(ha).height(da).color(F.map(function(a,b){return a.color||G(a,b)}).filter(function(a,b){return!F[b].disabled&&!F[b].bar}));ea=Q.select(".nv-context .nv-barsWrap").datum(fa.length?fa:[{values:[]}]);ia=Q.select(".nv-context .nv-linesWrap").datum(Z(ma)?[{values:[]}]:ma.filter(function(a){return!a.disabled}));Q.select(".nv-context").attr("transform","translate(0,"+(S+v.bottom+A.top)+")");ea.transition().call(f);ia.transition().call(d);
p&&(l._ticks(c.utils.calcTicksX(ha/100,F)).tickSize(-da,0),Q.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+N.range()[0]+")"),Q.select(".nv-context .nv-x.nv-axis").transition().call(l));y&&(n.scale(N)._ticks(da/36).tickSize(-ha,0),q.scale(O)._ticks(da/36).tickSize(fa.length?0:-ha,0),Q.select(".nv-context .nv-y3.nv-axis").style("opacity",fa.length?1:0).attr("transform","translate(0,"+z.range()[0]+")"),Q.select(".nv-context .nv-y2.nv-axis").style("opacity",ma.length?1:0).attr("transform",
"translate("+z.range()[1]+",0)"),Q.select(".nv-context .nv-y1.nv-axis").transition().call(n),Q.select(".nv-context .nv-y2.nv-axis").transition().call(q));u.x(z).on("brush",R);I&&u.extent(I);var oa=Q.select(".nv-brushBackground").selectAll("g").data([I||u.extent()]);ea=oa.enter().append("g");ea.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",da);ea.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",da);ea=Q.select(".nv-x.nv-brush").call(u);ea.selectAll("rect").attr("height",
da);ea.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,c=da/3;return"M"+.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});r.dispatch.on("stateChange",function(b){for(var c in b)aa[c]=b[c];L.stateChange(aa);a.update()});L.on("changeState",function(b){"undefined"!==typeof b.disabled&&(F.forEach(function(a,c){a.disabled=b.disabled[c]}),aa.disabled=b.disabled);a.update()});
R()});return a}var b=c.models.line(),d=c.models.line(),g=c.models.historicalBar(),f=c.models.historicalBar(),h=c.models.axis(),l=c.models.axis(),e=c.models.axis(),k=c.models.axis(),n=c.models.axis(),q=c.models.axis(),r=c.models.legend(),u=d3.svg.brush(),w=c.models.tooltip(),v={top:30,right:30,bottom:30,left:60},x=null,A={top:0,right:30,bottom:20,left:60},t=null,B=null,D=function(a){return a.x},m=function(a){return a.y},G=c.utils.defaultColor(),H=!0,M=!0,y=!1,p=!0,C=50,J,I=null,E,z,K,P,N,O,F=null,
L=d3.dispatch("brush","stateChange","changeState"),Y=0,aa=c.utils.state(),X=null,U=" (left axis)",T=" (right axis)",V=!1;b.clipEdge(!0);d.interactive(!1);d.pointActive(function(a){return!1});h.orient("bottom").tickPadding(5);e.orient("left");k.orient("right");l.orient("bottom").tickPadding(5);n.orient("left");q.orient("right");w.headerEnabled(!0).headerFormatter(function(a,b){return h.tickFormat()(a,b)});var ja=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},ka=
function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},Z=function(a){return a.every(function(a){return a.disabled})};b.dispatch.on("elementMouseover.tooltip",function(a){w.duration(100).valueFormatter(function(a,b){return(V?{main:e,focus:n}:{main:k,focus:q}).main.tickFormat()(a,b)}).data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){w.hidden(!0)});g.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series=
{value:a.y()(b.data),color:b.color};w.duration(0).valueFormatter(function(a,b){return(V?{main:k,focus:q}:{main:e,focus:n}).main.tickFormat()(a,b)}).data(b).hidden(!1)});g.dispatch.on("elementMouseout.tooltip",function(a){w.hidden(!0)});g.dispatch.on("elementMousemove.tooltip",function(a){w()});a.dispatch=L;a.legend=r;a.lines=b;a.lines2=d;a.bars=g;a.bars2=f;a.xAxis=h;a.x2Axis=l;a.y1Axis=e;a.y2Axis=k;a.y3Axis=n;a.y4Axis=q;a.tooltip=w;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},
{width:{get:function(){return t},set:function(a){t=a}},height:{get:function(){return B},set:function(a){B=a}},showLegend:{get:function(){return H},set:function(a){H=a}},brushExtent:{get:function(){return I},set:function(a){I=a}},noData:{get:function(){return F},set:function(a){F=a}},focusEnable:{get:function(){return M},set:function(a){M=a}},focusHeight:{get:function(){return C},set:function(a){C=a}},focusShowAxisX:{get:function(){return p},set:function(a){p=a}},focusShowAxisY:{get:function(){return y},
set:function(a){y=a}},legendLeftAxisHint:{get:function(){return U},set:function(a){U=a}},legendRightAxisHint:{get:function(){return T},set:function(a){T=a}},margin:{get:function(){return v},set:function(a){void 0!==a.top&&(x=v.top=a.top);v.right=void 0!==a.right?a.right:v.right;v.bottom=void 0!==a.bottom?a.bottom:v.bottom;v.left=void 0!==a.left?a.left:v.left}},focusMargin:{get:function(){return A},set:function(a){A.top=void 0!==a.top?a.top:A.top;A.right=void 0!==a.right?a.right:A.right;A.bottom=void 0!==
a.bottom?a.bottom:A.bottom;A.left=void 0!==a.left?a.left:A.left}},duration:{get:function(){return Y},set:function(a){Y=a}},color:{get:function(){return G},set:function(a){G=c.utils.getColor(a);r.color(G)}},x:{get:function(){return D},set:function(a){D=a;b.x(a);d.x(a);g.x(a);f.x(a)}},y:{get:function(){return m},set:function(a){m=a;b.y(a);d.y(a);g.y(a);f.y(a)}},switchYAxisOrder:{get:function(){return V},set:function(a){if(V!==a){var b=e;e=k;k=b;b=n;n=q;q=b}V=a;e.orient("left");k.orient("right");n.orient("left");
q.orient("right")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBar=function(){function a(E){J.reset();E.each(function(a){var E=d-b.left-b.right,z=g-b.top-b.bottom;e=d3.select(this);c.utils.initSVG(e);var N=0;x&&a.length&&(x=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]);if(u){var O=d3.layout.stack().offset(w).values(function(a){return a.values}).y(n)(!a.length&&x?x:a);O.forEach(function(b,c){b.nonStackable?(a[c].nonStackableSeries=
N++,O[c]=a[c]):0<c&&O[c-1].nonStackable&&O[c].values.map(function(a,b){a.y0-=O[c-1].values[b].y;a.y1=a.y0+a.y})});a=O}a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});u&&0<a.length&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(b,f){a[f].nonStackable||(b=b.values[c],b.size=Math.abs(b.y),0>b.y?(b.y1=e,e-=b.size):(b.y1=b.size+d,d+=b.size))})});var F=D&&m?[]:a.map(function(a,b){return a.values.map(function(a,c){return{x:k(a,c),y:n(a,c),y0:a.y0,y1:a.y1,idx:b}})});
f.domain(D||d3.merge(F).map(function(a){return a.x})).rangeBands(G||[0,E],M);h.domain(m||d3.extent(d3.merge(F).map(function(b){var c=b.y;u&&!a[b.idx].nonStackable&&(c=0<b.y?b.y1:b.y1+b.y);return c}).concat(q))).range(H||[z,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1]));h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,
1]));C=C||h;F=e.selectAll("g.nv-wrap.nv-multibar").data([a]);var L=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),Y=L.append("defs");L=L.append("g");var aa=F.select("g");L.append("g").attr("class","nv-groups");F.attr("transform","translate("+b.left+","+b.top+")");Y.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect");F.select("#nv-edge-clip-"+l+" rect").attr("width",E).attr("height",z);aa.attr("clip-path",r?"url(#nv-edge-clip-"+l+")":"");E=F.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,b){return b});E.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);z=J.transition(E.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,B)).attr("y",function(b,c,d){c=C(0)||0;u&&a[b.series]&&!a[b.series].nonStackable&&(c=C(b.y0));return c}).attr("height",0).remove();z.delay&&z.delay(function(a,b){return B/(I+1)*b-b});E.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return v(a,
b)}).style("stroke",function(a,b){return v(a,b)});E.style("stroke-opacity",1).style("fill-opacity",y);E=E.selectAll("rect.nv-bar").data(function(b){return x&&!a.length?x.values:b.values});E.exit().remove();E.enter().append("rect").attr("class",function(a,b){return 0>n(a,b)?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,c,d){return u&&!a[d].nonStackable?0:d*f.rangeBand()/a.length}).attr("y",function(b,c,d){return C(u&&!a[d].nonStackable?b.y0:0)||0}).attr("height",0).attr("width",function(b,
c,d){return f.rangeBand()/(u&&!a[d].nonStackable?1:a.length)}).attr("transform",function(a,b){return"translate("+f(k(a,b))+",0)"});E.style("fill",function(a,b,c){return v(a,c,b)}).style("stroke",function(a,b,c){return v(a,c,b)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);p.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);p.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",
function(a,b){p.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){p.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:this});d3.event.stopPropagation()}).on("dblclick",function(a,b){p.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});E.attr("class",function(a,b){return 0>n(a,b)?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+
f(k(a,b))+",0)"});A&&(t||(t=a.map(function(){return!0})),E.style("fill",function(a,b,c){return d3.rgb(A(a,b)).darker(t.map(function(a,b){return b}).filter(function(a,b){return!t[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(A(a,b)).darker(t.map(function(a,b){return b}).filter(function(a,b){return!t[b]})[c]).toString()}));E=E.watchTransition(J,"multibar",Math.min(250,B)).delay(function(b,c){return c*B/a[0].values.length});u?E.attr("y",function(b,c,d){return a[d].nonStackable?0>
n(b,c)?h(0):-1>h(0)-h(n(b,c))?h(0)-1:h(n(b,c))||0:h(b.y1)}).attr("height",function(b,c,d){return a[d].nonStackable?Math.max(Math.abs(h(n(b,c))-h(0)),0)||0:Math.max(Math.abs(h(b.y+b.y0)-h(b.y0)),0)}).attr("x",function(b,c,d){c=0;a[d].nonStackable&&(c=b.series*f.rangeBand()/a.length,a.length!==N&&(c=a[d].nonStackableSeries*f.rangeBand()/(2*N)));return c}).attr("width",function(b,c,d){return a[d].nonStackable?(b=f.rangeBand()/N,a.length!==N&&(b=f.rangeBand()/(2*N)),b):f.rangeBand()}):E.attr("x",function(b,
c){return b.series*f.rangeBand()/a.length}).attr("width",f.rangeBand()/a.length).attr("y",function(a,b){return 0>n(a,b)?h(0):1>h(0)-h(n(a,b))?h(0)-1:h(n(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(h(n(a,b))-h(0)),1)||0});f.copy();C=h.copy();a[0]&&a[0].values&&(I=a[0].values.length)});J.renderEnd("multibar immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,g=500,f=d3.scale.ordinal(),h=d3.scale.linear(),l=Math.floor(1E4*Math.random()),e=null,k=function(a){return a.x},
n=function(a){return a.y},q=[0],r=!0,u=!1,w="zero",v=c.utils.defaultColor(),x=!1,A=null,t,B=500,D,m,G,H,M=.1,y=.75,p=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),C,J=c.utils.renderWatch(p,B),I=0;a.dispatch=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},x:{get:function(){return k},set:function(a){k=
a}},y:{get:function(){return n},set:function(a){n=a}},xScale:{get:function(){return f},set:function(a){f=a}},yScale:{get:function(){return h},set:function(a){h=a}},xDomain:{get:function(){return D},set:function(a){D=a}},yDomain:{get:function(){return m},set:function(a){m=a}},xRange:{get:function(){return G},set:function(a){G=a}},yRange:{get:function(){return H},set:function(a){H=a}},forceY:{get:function(){return q},set:function(a){q=a}},stacked:{get:function(){return u},set:function(a){u=a}},stackOffset:{get:function(){return w},
set:function(a){w=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},disabled:{get:function(){return t},set:function(a){t=a}},id:{get:function(){return l},set:function(a){l=a}},hideable:{get:function(){return x},set:function(a){x=a}},groupSpacing:{get:function(){return M},set:function(a){M=a}},fillOpacity:{get:function(){return y},set:function(a){y=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==
a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},duration:{get:function(){return B},set:function(a){B=a;J.reset(B)}},color:{get:function(){return v},set:function(a){v=c.utils.getColor(a)}},barColor:{get:function(){return A},set:function(a){A=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarChart=function(){function a(F){K.reset();K.models(b);A&&K.models(d);t&&K.models(g);F.each(function(F){var L=d3.select(this);c.utils.initSVG(L);var J=c.utils.availableWidth(q,
L,k),K=c.utils.availableHeight(r,L,k);a.update=function(){0===E?L.call(a):L.transition().duration(E).call(a)};a.container=this;p.setter(O(F),a.update).getter(N(F)).update();p.disabled=F.map(function(a){return!!a.disabled});if(!C)for(U in C={},p)C[U]=p[U]instanceof Array?p[U].slice(0):p[U];if(F&&F.length&&F.filter(function(a){return a.values.length}).length)L.selectAll(".nv-noData").remove();else return c.utils.noData(a,L),a;M=b.xScale();y=b.yScale();var U=L.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([F]);
var T=U.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),V=U.select("g");T.append("g").attr("class","nv-x nv-axis");T.append("g").attr("class","nv-y nv-axis");T.append("g").attr("class","nv-barsWrap");T.append("g").attr("class","nv-legendWrap");T.append("g").attr("class","nv-controlsWrap");T.append("g").attr("class","nv-interactive");x?(h.width(J-(w?180:0)),V.select(".nv-legendWrap").datum(F).call(h),n||h.height()===k.top||(k.top=h.height(),K=c.utils.availableHeight(r,
L,k)),V.select(".nv-legendWrap").attr("transform","translate("+(w?180:0)+","+-k.top+")")):V.select(".nv-legendWrap").selectAll("*").remove();if(w){var ja=[{key:v.grouped||"Grouped",disabled:b.stacked()},{key:v.stacked||"Stacked",disabled:!b.stacked()}];l.width(w?180:0).color(["#444","#444","#444"]);V.select(".nv-controlsWrap").datum(ja).attr("transform","translate(0,"+-k.top+")").call(l)}else V.select(".nv-controlsWrap").selectAll("*").remove();U.attr("transform","translate("+k.left+","+k.top+")");
B&&V.select(".nv-y.nv-axis").attr("transform","translate("+J+",0)");b.disabled(F.map(function(a){return a.disabled})).width(J).height(K).color(F.map(function(a,b){return a.color||u(a,b)}).filter(function(a,b){return!F[b].disabled}));V.select(".nv-barsWrap").datum(F.filter(function(a){return!a.disabled})).call(b);if(A){d.scale(M)._ticks(c.utils.calcTicksX(J/100,F)).tickSize(-K,0);V.select(".nv-x.nv-axis").attr("transform","translate(0,"+y.range()[0]+")");V.select(".nv-x.nv-axis").call(d);T=V.select(".nv-x.nv-axis > g").selectAll("g");
T.selectAll("line, text").style("opacity",1);if(m){T.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(0==c%2?5:17)+")"});var ka=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;V.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return"translate(0,"+(0===b||0!==ka%2?17:5)+")"})}G&&V.selectAll(".tick text").call(c.utils.wrapTicks,a.xAxis.rangeBand());D&&T.filter(function(a,b){return 0!==b%Math.ceil(F[0].values.length/(J/100))}).selectAll("text, line").style("opacity",
0);H&&T.selectAll(".tick text").attr("transform","rotate("+H+" 0,0)").style("text-anchor",0<H?"start":"end");V.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}t&&(g.scale(y)._ticks(c.utils.calcTicksY(K/36,F)).tickSize(-J,0),V.select(".nv-y.nv-axis").call(g));z&&(f.width(J).height(K).margin({left:k.left,top:k.top}).svgContainer(L).xScale(M),U.select(".nv-interactive").call(f));h.dispatch.on("stateChange",function(b){for(var c in b)p[c]=b[c];I.stateChange(p);a.update()});
l.dispatch.on("legendClick",function(c,d){if(c.disabled){ja=ja.map(function(a){a.disabled=!0;return a});c.disabled=!1;switch(c.key){case "Grouped":case v.grouped:b.stacked(!1);break;case "Stacked":case v.stacked:b.stacked(!0)}p.stacked=b.stacked();I.stateChange(p);a.update()}});I.on("changeState",function(c){"undefined"!==typeof c.disabled&&(F.forEach(function(a,b){a.disabled=c.disabled[b]}),p.disabled=c.disabled);"undefined"!==typeof c.stacked&&(b.stacked(c.stacked),P=p.stacked=c.stacked);a.update()});
z?(f.dispatch.on("elementMousemove",function(b){if(void 0!=b.pointXValue){var c,d,e,m,g=[];F.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(f,F){d=M.domain().indexOf(b.pointXValue);F=f.values[d];void 0!==F&&(m=F.x,void 0===c&&(c=F),void 0===e&&(e=b.mouseX),g.push({key:f.key,value:a.y()(F,d),color:u(f,f.seriesIndex),data:f.values[d]}))});f.tooltip.data({value:m,index:d,series:g})();f.renderGuideLine(e)}}),f.dispatch.on("elementMouseout",function(a){f.tooltip.hidden(!0)})):
(b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};e.data(b).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(a){e()}))});K.renderEnd("multibarchart immediate");return a}var b=c.models.multiBar(),d=c.models.axis(),g=c.models.axis(),f=c.interactiveGuideline(),h=c.models.legend(),l=c.models.legend(),e=c.models.tooltip(),k={top:30,right:20,
bottom:50,left:60},n=null,q=null,r=null,u=c.utils.defaultColor(),w=!0,v={},x=!0,A=!0,t=!0,B=!1,D=!0,m=!1,G=!1,H=0,M,y,p=c.utils.state(),C=null,J=null,I=d3.dispatch("stateChange","changeState","renderEnd"),E=250,z=!1;p.stacked=!1;b.stacked(!1);d.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(a){return a});g.orient(B?"right":"left").tickFormat(d3.format(",.1f"));e.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,
b)});f.tooltip.valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});f.tooltip.valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});f.tooltip.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});l.updateState(!1);var K=c.utils.renderWatch(I),P=!1,N=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),
stacked:P}}},O=function(a){return function(b){void 0!==b.stacked&&(P=b.stacked);void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};a.dispatch=I;a.multibar=b;a.legend=h;a.controls=l;a.xAxis=d;a.yAxis=g;a.state=p;a.tooltip=e;a.interactiveLayer=f;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return q},set:function(a){q=a}},height:{get:function(){return r},set:function(a){r=a}},showLegend:{get:function(){return x},set:function(a){x=a}},showControls:{get:function(){return w},
set:function(a){w=a}},controlLabels:{get:function(){return v},set:function(a){v=a}},showXAxis:{get:function(){return A},set:function(a){A=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return C},set:function(a){C=a}},noData:{get:function(){return J},set:function(a){J=a}},reduceXTicks:{get:function(){return D},set:function(a){D=a}},rotateLabels:{get:function(){return H},set:function(a){H=a}},staggerLabels:{get:function(){return m},set:function(a){m=a}},wrapLabels:{get:function(){return G},
set:function(a){G=!!a}},margin:{get:function(){return k},set:function(a){void 0!==a.top&&(n=k.top=a.top);k.right=void 0!==a.right?a.right:k.right;k.bottom=void 0!==a.bottom?a.bottom:k.bottom;k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return E},set:function(a){E=a;b.duration(E);d.duration(E);g.duration(E);K.reset(E)}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a);h.color(u)}},rightAlignYAxis:{get:function(){return B},set:function(a){B=a;g.orient(B?"right":
"left")}},useInteractiveGuideline:{get:function(){return z},set:function(a){z=a}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);h.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBarHorizontal=function(){function a(f){I.reset();f.each(function(a){var f=d-b.left-b.right,p=g-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);x&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(n)(a));
a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});x&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);0>a.y?(a.y1=e-a.size,e-=a.size):(a.y1=d,d+=a.size)})});var E=G&&H?[]:a.map(function(a){return a.values.map(function(a,b){return{x:k(a,b),y:n(a,b),y0:a.y0,y1:a.y1}})});l.domain(G||d3.merge(E).map(function(a){return a.x})).rangeBands(M||[0,p],B);e.domain(H||d3.extent(d3.merge(E).map(function(a){return x?0<a.y?a.y1+a.y:a.y1:
a.y}).concat(r)));A&&!x?e.range(y||[0>e.domain()[0]?t:0,f-(0<e.domain()[1]?t:0)]):e.range(y||[0,f]);J=J||d3.scale.linear().domain(e.domain()).range([e(0),e(0)]);f=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);p=f.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");p.append("defs");p=p.append("g");f.select("g");p.append("g").attr("class","nv-groups");f.attr("transform","translate("+b.left+","+b.top+")");f=f.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,b){return b});f.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);f.exit().watchTransition(I,"multibarhorizontal: exit groups").style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();f.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return u(a,b)}).style("stroke",function(a,b){return u(a,b)});f.watchTransition(I,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",
D);f=f.selectAll("g.nv-bar").data(function(a){return a.values});f.exit().remove();p=f.enter().append("g").attr("transform",function(b,c,d){return"translate("+J(x?b.y0:0)+","+(x?0:d*l.rangeBand()/a.length+l(k(b,c)))+")"});p.append("rect").attr("width",0).attr("height",l.rangeBand()/(x?1:a.length));f.on("mouseover",function(a,b){d3.select(this).classed("hover",!0);C.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);
C.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){C.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){C.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){C.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:this});d3.event.stopPropagation()}).on("dblclick",function(a,b){C.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});
d3.event.stopPropagation()});q(a[0],0)&&(p.append("polyline"),f.select("polyline").attr("fill","none").attr("points",function(b,c){b=q(b,c);c=.8*l.rangeBand()/(2*(x?1:a.length));b=b.length?b:[-Math.abs(b),Math.abs(b)];b=b.map(function(a){return e(a)-e(0)});return[[b[0],-c],[b[0],c],[b[0],0],[b[1],0],[b[1],-c],[b[1],c]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){var d=l.rangeBand()/(2*(x?1:a.length));return"translate("+(0>n(b,c)?0:e(n(b,c))-e(0))+", "+d+")"}));
p.append("text");A&&!x?(f.select("text").attr("text-anchor",function(a,b){return 0>n(a,b)?"end":"start"}).attr("y",l.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){var c=m(n(a,b));a=q(a,b);return void 0===a?c:a.length?c+"+"+m(Math.abs(a[1]))+"-"+m(Math.abs(a[0])):c+"\u00b1"+m(Math.abs(a))}),f.watchTransition(I,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return 0>n(a,b)?-4:e(n(a,b))-e(0)+4})):f.selectAll("text").text("");f.selectAll("text.nv-bar-label").text("");
f.attr("class",function(a,b){return 0>n(a,b)?"nv-bar negative":"nv-bar positive"});w&&(v||(v=a.map(function(){return!0})),f.style("fill",function(a,b,c){return d3.rgb(w(a,b)).darker(v.map(function(a,b){return b}).filter(function(a,b){return!v[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(w(a,b)).darker(v.map(function(a,b){return b}).filter(function(a,b){return!v[b]})[c]).toString()}));x?f.watchTransition(I,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+
e(a.y1)+","+l(k(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(e(n(a,b)+a.y0)-e(a.y0))||0}).attr("height",l.rangeBand()):f.watchTransition(I,"multibarhorizontal: bars").attr("transform",function(b,c){return"translate("+(0>n(b,c)?e(n(b,c)):e(0))+","+(b.series*l.rangeBand()/a.length+l(k(b,c)))+")"}).select("rect").attr("height",l.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(e(n(a,b))-e(0)),1)||0});l.copy();J=e.copy()});I.renderEnd("multibarHorizontal immediate");
return a}var b={top:0,right:0,bottom:0,left:0},d=960,g=500,f=Math.floor(1E4*Math.random()),h=null,l=d3.scale.ordinal(),e=d3.scale.linear(),k=function(a){return a.x},n=function(a){return a.y},q=function(a){return a.yErr},r=[0],u=c.utils.defaultColor(),w=null,v,x=!1,A=!1,t=60,B=.1,D=.75,m=d3.format(",.2f"),G,H,M,y,p=250,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),J,I=c.utils.renderWatch(C,p);a.dispatch=C;a.options=
c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return n},set:function(a){n=a}},yErr:{get:function(){return q},set:function(a){q=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return G},set:function(a){G=a}},yDomain:{get:function(){return H},
set:function(a){H=a}},xRange:{get:function(){return M},set:function(a){M=a}},yRange:{get:function(){return y},set:function(a){y=a}},forceY:{get:function(){return r},set:function(a){r=a}},stacked:{get:function(){return x},set:function(a){x=a}},showValues:{get:function(){return A},set:function(a){A=a}},disabled:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return f},set:function(a){f=a}},valueFormat:{get:function(){return m},set:function(a){m=a}},valuePadding:{get:function(){return t},
set:function(a){t=a}},groupSpacing:{get:function(){return B},set:function(a){B=a}},fillOpacity:{get:function(){return D},set:function(a){D=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},duration:{get:function(){return p},set:function(a){p=a;I.reset(p)}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a)}},barColor:{get:function(){return w},
set:function(a){w=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarHorizontalChart=function(){function a(l){J.reset();J.models(b);x&&J.models(d);A&&J.models(g);l.each(function(l){var z=d3.select(this);c.utils.initSVG(z);var I=c.utils.availableWidth(n,z,e),H=c.utils.availableHeight(q,z,e);a.update=function(){z.transition().duration(y).call(a)};a.container=this;t=b.stacked();m.setter(C(l),a.update).getter(p(l)).update();m.disabled=l.map(function(a){return!!a.disabled});
if(!G)for(E in G={},m)G[E]=m[E]instanceof Array?m[E].slice(0):m[E];if(l&&l.length&&l.filter(function(a){return a.values.length}).length)z.selectAll(".nv-noData").remove();else return c.utils.noData(a,z),a;B=b.xScale();D=b.yScale().clamp(!0);var E=z.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([l]);var J=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),F=E.select("g");J.append("g").attr("class","nv-x nv-axis");J.append("g").attr("class","nv-y nv-axis").append("g").attr("class",
"nv-zeroLine").append("line");J.append("g").attr("class","nv-barsWrap");J.append("g").attr("class","nv-legendWrap");J.append("g").attr("class","nv-controlsWrap");v?(f.width(I-(u?180:0)),F.select(".nv-legendWrap").datum(l).call(f),k||f.height()===e.top||(e.top=f.height(),H=c.utils.availableHeight(q,z,e)),F.select(".nv-legendWrap").attr("transform","translate("+(u?180:0)+","+-e.top+")")):F.select(".nv-legendWrap").selectAll("*").remove();if(u){var L=[{key:w.grouped||"Grouped",disabled:b.stacked()},
{key:w.stacked||"Stacked",disabled:!b.stacked()}];h.width(u?180:0).color(["#444","#444","#444"]);F.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+-e.top+")").call(h)}else F.select(".nv-controlsWrap").selectAll("*").remove();E.attr("transform","translate("+e.left+","+e.top+")");b.disabled(l.map(function(a){return a.disabled})).width(I).height(H).color(l.map(function(a,b){return a.color||r(a,b)}).filter(function(a,b){return!l[b].disabled}));F.select(".nv-barsWrap").datum(l.filter(function(a){return!a.disabled})).transition().call(b);
x&&(d.scale(B)._ticks(c.utils.calcTicksX(H/24,l)).tickSize(-I,0),F.select(".nv-x.nv-axis").call(d),F.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));A&&(g.scale(D)._ticks(c.utils.calcTicksY(I/100,l)).tickSize(-H,0),F.select(".nv-y.nv-axis").attr("transform","translate(0,"+H+")"),F.select(".nv-y.nv-axis").call(g));F.select(".nv-zeroLine line").attr("x1",D(0)).attr("x2",D(0)).attr("y1",0).attr("y2",-H);f.dispatch.on("stateChange",function(b){for(var c in b)m[c]=b[c];M.stateChange(m);
a.update()});h.dispatch.on("legendClick",function(c,d){if(c.disabled){L=L.map(function(a){a.disabled=!0;return a});c.disabled=!1;switch(c.key){case "Grouped":case w.grouped:b.stacked(!1);break;case "Stacked":case w.stacked:b.stacked(!0)}m.stacked=b.stacked();M.stateChange(m);t=b.stacked();a.update()}});M.on("changeState",function(c){"undefined"!==typeof c.disabled&&(l.forEach(function(a,b){a.disabled=c.disabled[b]}),m.disabled=c.disabled);"undefined"!==typeof c.stacked&&(b.stacked(c.stacked),t=m.stacked=
c.stacked);a.update()})});J.renderEnd("multibar horizontal chart immediate");return a}var b=c.models.multiBarHorizontal(),d=c.models.axis(),g=c.models.axis(),f=c.models.legend().height(30),h=c.models.legend().height(30),l=c.models.tooltip(),e={top:30,right:20,bottom:50,left:60},k=null,n=null,q=null,r=c.utils.defaultColor(),u=!0,w={},v=!0,x=!0,A=!0,t=!1,B,D,m=c.utils.state(),G=null,H=null,M=d3.dispatch("stateChange","changeState","renderEnd"),y=250;m.stacked=!1;b.stacked(t);d.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a){return a});
g.orient("bottom").tickFormat(d3.format(",.1f"));l.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});h.updateState(!1);var p=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:t}}},C=function(a){return function(b){void 0!==b.stacked&&(t=b.stacked);void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},J=c.utils.renderWatch(M,y);b.dispatch.on("elementMouseover.tooltip",
function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};l.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){l.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){l()});a.dispatch=M;a.multibar=b;a.legend=f;a.controls=h;a.xAxis=d;a.yAxis=g;a.state=m;a.tooltip=l;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return q},set:function(a){q=
a}},showLegend:{get:function(){return v},set:function(a){v=a}},showControls:{get:function(){return u},set:function(a){u=a}},controlLabels:{get:function(){return w},set:function(a){w=a}},showXAxis:{get:function(){return x},set:function(a){x=a}},showYAxis:{get:function(){return A},set:function(a){A=a}},defaultState:{get:function(){return G},set:function(a){G=a}},noData:{get:function(){return H},set:function(a){H=a}},margin:{get:function(){return e},set:function(a){void 0!==a.top&&(k=e.top=a.top);e.right=
void 0!==a.right?a.right:e.right;e.bottom=void 0!==a.bottom?a.bottom:e.bottom;e.left=void 0!==a.left?a.left:e.left}},duration:{get:function(){return y},set:function(a){y=a;J.reset(y);b.duration(y);d.duration(y);g.duration(y)}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a);f.color(r)}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);
return a};c.models.multiChart=function(){function a(e){e.each(function(e){function t(a){var b=2===e[a.seriesIndex].yAxis?K:z;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color,key:a.series.key};N.duration(0).headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function w(a){var b=2===e[a.seriesIndex].yAxis?K:z;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color,key:a.series.key};N.duration(100).headerFormatter(function(a,
b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function L(a){var b=2===e[a.seriesIndex].yAxis?K:z;a.point.x=J.x()(a.point);a.point.y=J.y()(a.point);N.duration(0).headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function O(a){var b=2===e[a.data.series].yAxis?K:z;a.value=p.x()(a.data);a.series={value:p.y()(a.data),color:a.color,key:a.data.key};N.duration(0).headerFormatter(function(a,
b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function Y(){for(var a=0,b=F.length;a<b;a++){var c=F[a];try{c.clearHighlights()}catch(xa){}}}function ja(a,b,c){for(var d=0,e=F.length;d<e;d++){var f=F[d];try{f.highlightPoint(a,b,c)}catch(ya){}}}var ka=d3.select(this);c.utils.initSVG(ka);a.update=function(){ka.transition().call(a)};a.container=this;var Z=c.utils.availableWidth(f,ka,b),R=c.utils.availableHeight(h,ka,b),S=e.filter(function(a){return"line"==
a.type&&1==a.yAxis}),ca=e.filter(function(a){return"line"==a.type&&2==a.yAxis}),ba=e.filter(function(a){return"scatter"==a.type&&1==a.yAxis}),W=e.filter(function(a){return"scatter"==a.type&&2==a.yAxis}),ha=e.filter(function(a){return"bar"==a.type&&1==a.yAxis}),na=e.filter(function(a){return"bar"==a.type&&2==a.yAxis}),da=e.filter(function(a){return"area"==a.type&&1==a.yAxis}),fa=e.filter(function(a){return"area"==a.type&&2==a.yAxis});if(e&&e.length&&e.filter(function(a){return a.values.length}).length)ka.selectAll(".nv-noData").remove();
else return c.utils.noData(a,ka),a;var ma=e.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:q(a),y:r(a)}})}),ea=e.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:q(a),y:r(a)}})});B.domain(d3.extent(d3.merge(ma.concat(ea)),function(a){return a.x})).range([0,Z]);var ia=ka.selectAll("g.wrap.multiChart").data([e]),Q=ia.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");
Q.append("g").attr("class","nv-x nv-axis");Q.append("g").attr("class","nv-y1 nv-axis");Q.append("g").attr("class","nv-y2 nv-axis");Q.append("g").attr("class","stack1Wrap");Q.append("g").attr("class","stack2Wrap");Q.append("g").attr("class","bars1Wrap");Q.append("g").attr("class","bars2Wrap");Q.append("g").attr("class","scatters1Wrap");Q.append("g").attr("class","scatters2Wrap");Q.append("g").attr("class","lines1Wrap");Q.append("g").attr("class","lines2Wrap");Q.append("g").attr("class","legendWrap");
Q.append("g").attr("class","nv-interactive");Q=ia.select("g");var la=e.map(function(a,b){return e[b].color||g(a,b)});if(l){var oa=P.align()?Z/2:Z,pa=P.align()?oa:0;P.width(oa);P.color(la);Q.select(".legendWrap").datum(e.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(1==a.yAxis?"":A);return a})).call(P);d||P.height()===b.top||(b.top=P.height(),R=c.utils.availableHeight(h,ka,b));Q.select(".legendWrap").attr("transform","translate("+pa+","+-b.top+")")}else Q.select(".legendWrap").selectAll("*").remove();
G.width(Z).height(R).interpolate(u).color(la.filter(function(a,b){return!e[b].disabled&&1==e[b].yAxis&&"line"==e[b].type}));H.width(Z).height(R).interpolate(u).color(la.filter(function(a,b){return!e[b].disabled&&2==e[b].yAxis&&"line"==e[b].type}));M.width(Z).height(R).color(la.filter(function(a,b){return!e[b].disabled&&1==e[b].yAxis&&"scatter"==e[b].type}));y.width(Z).height(R).color(la.filter(function(a,b){return!e[b].disabled&&2==e[b].yAxis&&"scatter"==e[b].type}));p.width(Z).height(R).color(la.filter(function(a,
b){return!e[b].disabled&&1==e[b].yAxis&&"bar"==e[b].type}));C.width(Z).height(R).color(la.filter(function(a,b){return!e[b].disabled&&2==e[b].yAxis&&"bar"==e[b].type}));J.width(Z).height(R).interpolate(u).color(la.filter(function(a,b){return!e[b].disabled&&1==e[b].yAxis&&"area"==e[b].type}));I.width(Z).height(R).interpolate(u).color(la.filter(function(a,b){return!e[b].disabled&&2==e[b].yAxis&&"area"==e[b].type}));Q.attr("transform","translate("+b.left+","+b.top+")");la=Q.select(".lines1Wrap").datum(S.filter(function(a){return!a.disabled}));
oa=Q.select(".scatters1Wrap").datum(ba.filter(function(a){return!a.disabled}));pa=Q.select(".bars1Wrap").datum(ha.filter(function(a){return!a.disabled}));var qa=Q.select(".stack1Wrap").datum(da.filter(function(a){return!a.disabled})),ra=Q.select(".lines2Wrap").datum(ca.filter(function(a){return!a.disabled})),sa=Q.select(".scatters2Wrap").datum(W.filter(function(a){return!a.disabled})),ta=Q.select(".bars2Wrap").datum(na.filter(function(a){return!a.disabled})),ua=Q.select(".stack2Wrap").datum(fa.filter(function(a){return!a.disabled})),
va=da.length?da.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],wa=fa.length?fa.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];D.domain(k||d3.extent(d3.merge(ma).concat(va),function(a){return a.y})).range([0,R]);m.domain(n||d3.extent(d3.merge(ea).concat(wa),function(a){return a.y})).range([0,R]);G.yDomain(D.domain());M.yDomain(D.domain());
p.yDomain(D.domain());J.yDomain(D.domain());H.yDomain(m.domain());y.yDomain(m.domain());C.yDomain(m.domain());I.yDomain(m.domain());da.length&&d3.transition(qa).call(J);fa.length&&d3.transition(ua).call(I);ha.length&&d3.transition(pa).call(p);na.length&&d3.transition(ta).call(C);S.length&&d3.transition(la).call(G);ca.length&&d3.transition(ra).call(H);ba.length&&d3.transition(oa).call(M);W.length&&d3.transition(sa).call(y);E._ticks(c.utils.calcTicksX(Z/100,e)).tickSize(-R,0);Q.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+R+")");d3.transition(Q.select(".nv-x.nv-axis")).call(E);z._ticks(c.utils.calcTicksY(R/36,e)).tickSize(-Z,0);d3.transition(Q.select(".nv-y1.nv-axis")).call(z);K._ticks(c.utils.calcTicksY(R/36,e)).tickSize(-Z,0);d3.transition(Q.select(".nv-y2.nv-axis")).call(K);Q.select(".nv-y1.nv-axis").classed("nv-disabled",ma.length?!1:!0).attr("transform","translate("+B.range()[0]+",0)");Q.select(".nv-y2.nv-axis").classed("nv-disabled",ea.length?!1:!0).attr("transform","translate("+B.range()[1]+",0)");
P.dispatch.on("stateChange",function(b){a.update()});x&&(v.width(Z).height(R).margin({left:b.left,top:b.top}).svgContainer(ka).xScale(B),ia.select(".nv-interactive").call(v));x?(v.dispatch.on("elementMousemove",function(b){Y();var d,f,m,h=[];e.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,t){var k=B.domain(),p=e.values.filter(function(b,c){return a.x()(b,c)>=k[0]&&a.x()(b,c)<=k[1]});f=c.interactiveBisect(p,b.pointXValue,a.x());p=p[f];var l=a.y()(p,f);null!==l&&ja(t,f,
!0);void 0!==p&&(void 0===d&&(d=p),void 0===m&&(m=B(a.x()(p,f))),h.push({key:e.key,value:l,color:g(e,e.seriesIndex),data:p,yAxis:2==e.yAxis?K:z}))});var t=function(a,b){b=h[b].yAxis;return null==a?"N/A":b.tickFormat()(a)};v.tooltip.headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(v.tooltip.valueFormatter()||t).data({value:a.x()(d,f),index:f,series:h})();v.renderGuideLine(m)}),v.dispatch.on("elementMouseout",function(a){Y()})):(G.dispatch.on("elementMouseover.tooltip",t),H.dispatch.on("elementMouseover.tooltip",
t),G.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),H.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",w),y.dispatch.on("elementMouseover.tooltip",w),M.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),y.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),J.dispatch.on("elementMouseover.tooltip",L),I.dispatch.on("elementMouseover.tooltip",L),J.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),
I.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),p.dispatch.on("elementMouseover.tooltip",O),C.dispatch.on("elementMouseover.tooltip",O),p.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),C.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),p.dispatch.on("elementMousemove.tooltip",function(a){N()}),C.dispatch.on("elementMousemove.tooltip",function(a){N()}))});return a}var b={top:30,right:20,bottom:50,left:60},d=null,g=c.utils.defaultColor(),f=null,h=
null,l=!0,e=null,k,n,q=function(a){return a.x},r=function(a){return a.y},u="linear",w=!0,v=c.interactiveGuideline(),x=!1,A=" (right axis)",t=250,B=d3.scale.linear(),D=d3.scale.linear(),m=d3.scale.linear(),G=c.models.line().yScale(D).duration(t),H=c.models.line().yScale(m).duration(t),M=c.models.scatter().yScale(D).duration(t),y=c.models.scatter().yScale(m).duration(t),p=c.models.multiBar().stacked(!1).yScale(D).duration(t),C=c.models.multiBar().stacked(!1).yScale(m).duration(t),J=c.models.stackedArea().yScale(D).duration(t),
I=c.models.stackedArea().yScale(m).duration(t),E=c.models.axis().scale(B).orient("bottom").tickPadding(5).duration(t),z=c.models.axis().scale(D).orient("left").duration(t),K=c.models.axis().scale(m).orient("right").duration(t),P=c.models.legend().height(30),N=c.models.tooltip(),O=d3.dispatch(),F=[G,H,M,y,p,C,J,I];a.dispatch=O;a.legend=P;a.lines1=G;a.lines2=H;a.scatters1=M;a.scatters2=y;a.bars1=p;a.bars2=C;a.stack1=J;a.stack2=I;a.xAxis=E;a.yAxis1=z;a.yAxis2=K;a.tooltip=N;a.interactiveLayer=v;a.options=
c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return h},set:function(a){h=a}},showLegend:{get:function(){return l},set:function(a){l=a}},yDomain1:{get:function(){return k},set:function(a){k=a}},yDomain2:{get:function(){return n},set:function(a){n=a}},noData:{get:function(){return e},set:function(a){e=a}},interpolate:{get:function(){return u},set:function(a){u=a}},legendRightAxisHint:{get:function(){return A},set:function(a){A=
a}},margin:{get:function(){return b},set:function(a){void 0!==a.top&&(d=b.top=a.top);b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return g},set:function(a){g=c.utils.getColor(a)}},x:{get:function(){return q},set:function(a){q=a;G.x(a);H.x(a);M.x(a);y.x(a);p.x(a);C.x(a);J.x(a);I.x(a)}},y:{get:function(){return r},set:function(a){r=a;G.y(a);H.y(a);M.y(a);y.y(a);J.y(a);I.y(a);p.y(a);C.y(a)}},useVoronoi:{get:function(){return w},
set:function(a){w=a;G.useVoronoi(a);H.useVoronoi(a);J.useVoronoi(a);I.useVoronoi(a)}},useInteractiveGuideline:{get:function(){return x},set:function(a){if(x=a)G.interactive(!1),G.useVoronoi(!1),H.interactive(!1),H.useVoronoi(!1),J.interactive(!1),J.useVoronoi(!1),I.interactive(!1),I.useVoronoi(!1),M.interactive(!1),y.interactive(!1)}},duration:{get:function(){return t},set:function(a){t=a;[G,H,J,I,M,y,E,z,K].forEach(function(a){a.duration(t)})}}});c.utils.initOptions(a);return a};c.models.ohlcBar=
function(){function a(p){p.each(function(a){h=d3.select(this);var p=c.utils.availableWidth(d,h,b),D=c.utils.availableHeight(g,h,b);c.utils.initSVG(h);var C=p/a[0].values.length*.9;l.domain(m||d3.extent(a[0].values.map(k).concat(v)));A?l.range(H||[.5*p/a[0].values.length,p*(a[0].values.length-.5)/a[0].values.length]):l.range(H||[5+C/2,p-C/2-5]);e.domain(G||[d3.min(a[0].values.map(w).concat(x)),d3.max(a[0].values.map(u).concat(x))]).range(M||[D,0]);l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-
.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+.01*e.domain()[0],e.domain()[1]-.01*e.domain()[1]]):e.domain([-1,1]));var z=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),K=z.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),P=K.append("defs");K=K.append("g");var N=z.select("g");K.append("g").attr("class","nv-ticks");z.attr("transform","translate("+b.left+","+b.top+")");h.on("click",
function(a,b){y.chartClick({data:a,index:b,pos:d3.event,id:f})});P.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");z.select("#nv-chart-clip-path-"+f+" rect").attr("width",p).attr("height",D);N.attr("clip-path",t?"url(#nv-chart-clip-path-"+f+")":"");D=z.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});D.exit().remove();D.enter().append("path").attr("class",function(a,b,c){return(q(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",
function(a,b){return"m0,0l0,"+(e(q(a,b))-e(u(a,b)))+"l"+-C/2+",0l"+C/2+",0l0,"+(e(w(a,b))-e(q(a,b)))+"l0,"+(e(r(a,b))-e(w(a,b)))+"l"+C/2+",0l"+-C/2+",0z"}).attr("transform",function(a,b){return"translate("+l(k(a,b))+","+e(u(a,b))+")"}).attr("fill",function(a,b){return B[0]}).attr("stroke",function(a,b){return B[0]}).attr("x",0).attr("y",function(a,b){return e(Math.max(0,n(a,b)))}).attr("height",function(a,b){return Math.abs(e(n(a,b))-e(0))});D.attr("class",function(a,b,c){return(q(a,b)>r(a,b)?"nv-tick negative":
"nv-tick positive")+" nv-tick-"+c+"-"+b});d3.transition(D).attr("transform",function(a,b){return"translate("+l(k(a,b))+","+e(u(a,b))+")"}).attr("d",function(b,c){var d=p/a[0].values.length*.9;return"m0,0l0,"+(e(q(b,c))-e(u(b,c)))+"l"+-d/2+",0l"+d/2+",0l0,"+(e(w(b,c))-e(q(b,c)))+"l0,"+(e(r(b,c))-e(w(b,c)))+"l"+d/2+",0l"+-d/2+",0z"})});return a}var b={top:0,right:0,bottom:0,left:0},d=null,g=null,f=Math.floor(1E4*Math.random()),h=null,l=d3.scale.linear(),e=d3.scale.linear(),k=function(a){return a.x},
n=function(a){return a.y},q=function(a){return a.open},r=function(a){return a.close},u=function(a){return a.high},w=function(a){return a.low},v=[],x=[],A=!1,t=!0,B=c.utils.defaultColor(),D=!1,m,G,H,M,y=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();h.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-ohlcBar .nv-tick.hover").classed("hover",
!1)};a.dispatch=y;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return m},set:function(a){m=a}},yDomain:{get:function(){return G},set:function(a){G=a}},xRange:{get:function(){return H},set:function(a){H=a}},yRange:{get:function(){return M},
set:function(a){M=a}},forceX:{get:function(){return v},set:function(a){v=a}},forceY:{get:function(){return x},set:function(a){x=a}},padData:{get:function(){return A},set:function(a){A=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return D},set:function(a){D=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return n},set:function(a){n=a}},open:{get:function(){return q()},set:function(a){q=
a}},close:{get:function(){return r()},set:function(a){r=a}},high:{get:function(){return u},set:function(a){u=a}},low:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!=a.top?a.top:b.top;b.right=void 0!=a.right?a.right:b.right;b.bottom=void 0!=a.bottom?a.bottom:b.bottom;b.left=void 0!=a.left?a.left:b.left}},color:{get:function(){return B},set:function(a){B=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.parallelCoordinates=
function(){function a(C){p.reset();C.each(function(a){function p(a){return H(q.map(function(b){if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key]))||X){var c=e[b.key].domain(),d=e[b.key].range(),f=c[0]-(c[1]-c[0])/9;0>t.indexOf(b.key)&&(c=d3.scale.linear().domain([f,c[1]]).range([h-12,d[1]]),e[b.key].brush.y(c),t.push(b.key));if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key])))return[l(b.key),e[b.key](f)]}void 0!==Z&&(0<t.length||X?(Z.style("display","inline"),R.style("display",
"inline")):(Z.style("display","none"),R.style("display","none")));return[l(b.key),e[b.key](a.values[b.key])]}))}function C(a){v.forEach(function(b){var c=e[b.dimension].brush.y().domain();b.hasOnlyNaN&&(b.extent[1]=(e[b.dimension].domain()[1]-c[0])*(b.extent[1]-b.extent[0])/(aa[b.dimension]-b.extent[0])+c[0]);b.hasNaN&&(b.extent[0]=c[0]);a&&e[b.dimension].brush.extent(b.extent)});G.select(".nv-brushBackground").each(function(a){d3.select(this).call(e[a.key].brush)}).selectAll("rect").attr("x",-8).attr("width",
16);N()}function z(){!1===u&&(u=!0,C(!0))}function J(){S=r.filter(function(a){return!e[a].brush.empty()});ca=S.map(function(a){return e[a].brush.extent()});v=[];S.forEach(function(a,b){v[b]={dimension:a,extent:ca[b],hasNaN:!1,hasOnlyNaN:!1}});x=[];D.style("display",function(a){var b=S.every(function(b,c){return(isNaN(a.values[b])||isNaN(parseFloat(a.values[b])))&&ca[c][0]==e[b].brush.y().domain()[0]?!0:ca[c][0]<=a.values[b]&&a.values[b]<=ca[c][1]&&!isNaN(parseFloat(a.values[b]))});b&&x.push(a);return b?
null:"none"});N();y.brush({filters:v,active:x})}function P(){var a=0<S.length?!0:!1;v.forEach(function(a){a.extent[0]===e[a.dimension].brush.y().domain()[0]&&0<=t.indexOf(a.dimension)&&(a.hasNaN=!0);a.extent[1]<e[a.dimension].domain()[0]&&(a.hasOnlyNaN=!0)});y.brushEnd(x,a)}function N(){G.select(".nv-axis").each(function(a,b){b=v.filter(function(b){return b.dimension==a.key});U[a.key]=e[a.key].domain();0!=b.length&&u&&(U[a.key]=[],b[0].extent[1]>e[a.key].domain()[0]&&(U[a.key]=[b[0].extent[1]]),b[0].extent[0]>=
e[a.key].domain()[0]&&U[a.key].push(b[0].extent[0]));d3.select(this).call(M.scale(e[a.key]).tickFormat(a.format).tickValues(U[a.key]))})}function O(a){var b=A[a];return null==b?l(a):b}var F=d3.select(this);f=c.utils.availableWidth(d,F,b);h=c.utils.availableHeight(g,F,b);c.utils.initSVG(F);if(void 0===a[0].values){var L=[];a.forEach(function(a){var b={};Object.keys(a).forEach(function(c){"name"!==c&&(b[c]=a[c])});L.push({key:a.name,values:b})});a=L}var Y=a.map(function(a){return a.values});0===x.length&&
(x=a);r=n.sort(function(a,b){return a.currentPosition-b.currentPosition}).map(function(a){return a.key});q=n.filter(function(a){return!a.disabled});l.rangePoints([0,f],1).domain(q.map(function(a){return a.key}));var aa={},X=!1,U=[];r.forEach(function(a){var b=d3.extent(Y,function(b){return+b[a]}),c=b[0];b=b[1];var d=!1;if(isNaN(c)||isNaN(b))d=!0,b=c=0;c===b&&(--c,b+=1);var f=v.filter(function(b){return b.dimension==a});0!==f.length&&(d?(c=e[a].domain()[0],b=e[a].domain()[1]):!f[0].hasOnlyNaN&&u?(c=
c>f[0].extent[0]?f[0].extent[0]:c,b=b<f[0].extent[1]?f[0].extent[1]:b):f[0].hasNaN&&(b=b<f[0].extent[1]?f[0].extent[1]:b,aa[a]=e[a].domain()[1],X=!0));e[a]=d3.scale.linear().domain([c,b]).range([.9*(h-12),0]);t=[];e[a].brush=d3.svg.brush().y(e[a]).on("brushstart",z).on("brush",J).on("brushend",P)});F=F.selectAll("g.nv-wrap.nv-parallelCoordinates").data([a]);var T=F.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),V=F.select("g");T.append("g").attr("class","nv-parallelCoordinates background");
T.append("g").attr("class","nv-parallelCoordinates foreground");T.append("g").attr("class","nv-parallelCoordinates missingValuesline");F.attr("transform","translate("+b.left+","+b.top+")");H.interpolate("cardinal").tension(B);M.orient("left");T=d3.behavior.drag().on("dragstart",function(a){A[a.key]=this.parentNode.__origin__=l(a.key);m.attr("visibility","hidden")}).on("drag",function(a){A[a.key]=Math.min(f,Math.max(0,this.parentNode.__origin__+=d3.event.x));D.attr("d",p);q.sort(function(a,b){return O(a.key)-
O(b.key)});q.forEach(function(a,b){return a.currentPosition=b});l.domain(q.map(function(a){return a.key}));G.attr("transform",function(a){return"translate("+O(a.key)+")"})}).on("dragend",function(a,b){delete this.parentNode.__origin__;delete A[a.key];d3.select(this.parentNode).attr("transform","translate("+l(a.key)+")");D.attr("d",p);m.attr("d",p).attr("visibility",null);y.dimensionsOrder(q)});var ja=l.range()[1]-l.range()[0];ja=isNaN(ja)?l.range()[0]:ja;if(!isNaN(ja)){var ka=[ja/2,h-12,f-ja/2,h-
12];var Z=F.select(".missingValuesline").selectAll("line").data([ka]);Z.enter().append("line");Z.exit().remove();Z.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]});var R=F.select(".missingValuesline").selectAll("text").data([k]);R.append("text").data([k]);R.enter().append("text");R.exit().remove();R.attr("y",h).attr("x",f-92-ja/2).text(function(a){return a})}m=F.select(".background").selectAll("path").data(a);
m.enter().append("path");m.exit().remove();m.attr("d",p);D=F.select(".foreground").selectAll("path").data(a);D.enter().append("path");D.exit().remove();D.attr("d",p).style("stroke-width",function(a,b){isNaN(a.strokeWidth)&&(a.strokeWidth=1);return a.strokeWidth}).attr("stroke",function(a,b){return a.color||w(a,b)});D.on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("stroke-width",a.strokeWidth+2+"px").style("stroke-opacity",1);y.elementMouseover({label:a.name,color:a.color||
w(a,b),values:a.values,dimensions:q})});D.on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("stroke-width",a.strokeWidth+"px").style("stroke-opacity",.7);y.elementMouseout({label:a.name,index:b})});D.on("mousemove",function(a,b){y.elementMousemove()});D.on("click",function(a){y.elementClick({id:a.id})});G=V.selectAll(".dimension").data(q);a=G.enter().append("g").attr("class","nv-parallelCoordinates dimension");G.attr("transform",function(a){return"translate("+l(a.key)+",0)"});
a.append("g").attr("class","nv-axis");a.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(a,b){y.elementMouseover({label:a.tooltip||a.key,color:a.color})}).on("mouseout",function(a,b){y.elementMouseout({label:a.tooltip})}).on("mousemove",function(a,b){y.elementMousemove()}).call(T);a.append("g").attr("class","nv-brushBackground");G.exit().remove();G.select(".nv-label").text(function(a){return a.key});C(u);var S=r.filter(function(a){return!e[a].brush.empty()}),
ca=S.map(function(a){return e[a].brush.extent()});a=x.slice(0);x=[];D.style("display",function(a){var b=S.every(function(b,c){return(isNaN(a.values[b])||isNaN(parseFloat(a.values[b])))&&ca[c][0]==e[b].brush.y().domain()[0]?!0:ca[c][0]<=a.values[b]&&a.values[b]<=ca[c][1]&&!isNaN(parseFloat(a.values[b]))});b&&x.push(a);return b?null:"none"});(0<v.length||!c.utils.arrayEquals(x,a))&&y.activeChanged(x)});return a}var b={top:30,right:0,bottom:10,left:0},d=null,g=null,f=null,h=null,l=d3.scale.ordinal(),
e={},k="undefined values",n=[],q=[],r=[],u=!0,w=c.utils.defaultColor(),v=[],x=[],A=[],t=[],B=1,D,m,G,H=d3.svg.line(),M=d3.svg.axis(),y=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),p=c.utils.renderWatch(y);a.dispatch=y;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},
set:function(a){g=a}},dimensionData:{get:function(){return n},set:function(a){n=a}},displayBrush:{get:function(){return u},set:function(a){u=a}},filters:{get:function(){return v},set:function(a){v=a}},active:{get:function(){return x},set:function(a){x=a}},lineTension:{get:function(){return B},set:function(a){B=a}},undefinedValuesLabel:{get:function(){return k},set:function(a){k=a}},dimensions:{get:function(){return n.map(function(a){return a.key})},set:function(a){c.deprecated("dimensions","use dimensionData instead");
0===n.length?a.forEach(function(a){n.push({key:a})}):a.forEach(function(a,b){n[b].key=a})}},dimensionNames:{get:function(){return n.map(function(a){return a.key})},set:function(a){c.deprecated("dimensionNames","use dimensionData instead");r=[];0===n.length?a.forEach(function(a){n.push({key:a})}):a.forEach(function(a,b){n[b].key=a})}},dimensionFormats:{get:function(){return n.map(function(a){return a.format})},set:function(a){c.deprecated("dimensionFormats","use dimensionData instead");0===n.length?
a.forEach(function(a){n.push({format:a})}):a.forEach(function(a,b){n[b].format=a})}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return w},set:function(a){w=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.parallelCoordinatesChart=function(){function a(m){t.reset();t.models(b);m.each(function(m){var g=
d3.select(this);c.utils.initSVG(g);var t=c.utils.availableWidth(l,g,f),y=c.utils.availableHeight(e,g,f);a.update=function(){g.call(a)};a.container=this;q.setter(D(r),a.update).getter(B(r)).update();q.disabled=r.map(function(a){return!!a.disabled});r=r.map(function(a){a.disabled=!!a.disabled;return a});r.forEach(function(a,b){a.originalPosition=isNaN(a.originalPosition)?b:a.originalPosition;a.currentPosition=isNaN(a.currentPosition)?b:a.currentPosition});if(!w)for(p in w={},q)w[p]=q[p]instanceof Array?
q[p].slice(0):q[p];if(m&&m.length)g.selectAll(".nv-noData").remove();else return c.utils.noData(a,g),a;var p=g.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([m]);var n=p.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),G=p.select("g");n.append("g").attr("class","nv-parallelCoordinatesWrap");n.append("g").attr("class","nv-legendWrap");G.select("rect").attr("width",t).attr("height",0<y?y:0);k?(d.width(t).color(function(a){return"rgb(188,190,192)"}),
G.select(".nv-legendWrap").datum(r.sort(function(a,b){return a.originalPosition-b.originalPosition})).call(d),h||d.height()===f.top||(f.top=d.height(),y=c.utils.availableHeight(e,g,f)),p.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-f.top+")")):G.select(".nv-legendWrap").selectAll("*").remove();p.attr("transform","translate("+f.left+","+f.top+")");b.width(t).height(y).dimensionData(r).displayBrush(u);G.select(".nv-parallelCoordinatesWrap ").datum(m).transition().call(b);b.dispatch.on("brushEnd",
function(a,b){b?(u=!0,A.brushEnd(a)):u=!1});d.dispatch.on("stateChange",function(b){for(var c in b)q[c]=b[c];A.stateChange(q);a.update()});b.dispatch.on("dimensionsOrder",function(a){r.sort(function(a,b){return a.currentPosition-b.currentPosition});var b=!1;r.forEach(function(a,c){a.currentPosition=c;a.currentPosition!==a.originalPosition&&(b=!0)});A.dimensionsOrder(r,b)});A.on("changeState",function(b){"undefined"!==typeof b.disabled&&(r.forEach(function(a,c){a.disabled=b.disabled[c]}),q.disabled=
b.disabled);a.update()})});t.renderEnd("parraleleCoordinateChart immediate");return a}var b=c.models.parallelCoordinates(),d=c.models.legend(),g=c.models.tooltip();c.models.tooltip();var f={top:0,right:0,bottom:0,left:0},h=null,l=null,e=null,k=!0,n=c.utils.defaultColor(),q=c.utils.state(),r=[],u=!0,w=null,v=null,x="undefined",A=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),t=c.utils.renderWatch(A),B=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
D=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};g.contentGenerator(function(a){var b='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+a.color+'"></div></td><td><strong>'+a.key+"</strong></td></tr></thead>";0!==a.series.length&&(b+='<tbody><tr><td height ="10px"></td></tr>',a.series.forEach(function(a){b=b+'<tr><td class="legend-color-guide"><div style="background-color:'+a.color+'"></div></td><td class="key">'+
a.key+'</td><td class="value">'+a.value+"</td></tr>"}),b+="</tbody>");return b+="</table>"});b.dispatch.on("elementMouseover.tooltip",function(a){var b={key:a.label,color:a.color,series:[]};a.values&&(Object.keys(a.values).forEach(function(c){var d=a.dimensions.filter(function(a){return a.key===c})[0];if(d){var e=isNaN(a.values[c])||isNaN(parseFloat(a.values[c]))?x:d.format(a.values[c]);b.series.push({idx:d.currentPosition,key:c,value:e,color:d.color})}}),b.series.sort(function(a,b){return a.idx-
b.idx}));g.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){g.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(){g()});a.dispatch=A;a.parallelCoordinates=b;a.legend=d;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return e},set:function(a){e=a}},showLegend:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return w},set:function(a){w=
a}},dimensionData:{get:function(){return r},set:function(a){r=a}},displayBrush:{get:function(){return u},set:function(a){u=a}},noData:{get:function(){return v},set:function(a){v=a}},nanValue:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return f},set:function(a){void 0!==a.top&&(h=f.top=a.top);f.right=void 0!==a.right?a.right:f.right;f.bottom=void 0!==a.bottom?a.bottom:f.bottom;f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a);
d.color(n);b.color(n)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.pie=function(){function a(z){E.reset();z.each(function(a){var z=d-b.left-b.right,K=g-b.top-b.bottom,O=Math.min(z,K)/2,F=[],L=[];e=d3.select(this);if(0===p.length)for(var Y=O-O/5,aa=M*O,X=0;X<a[0].length;X++)F.push(Y),L.push(aa);else A?(F=p.map(function(a){return(a.outer-a.outer/5)*O}),L=p.map(function(a){return(a.inner-a.inner/5)*O}),M=d3.min(p.map(function(a){return a.inner-a.inner/5}))):(F=p.map(function(a){return a.outer*
O}),L=p.map(function(a){return a.inner*O}),M=d3.min(p.map(function(a){return a.inner})));c.utils.initSVG(e);Y=e.selectAll(".nv-wrap.nv-pie").data(a);X=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+l).append("g");var U=Y.select("g");aa=X.append("g").attr("class","nv-pie");X.append("g").attr("class","nv-pieLabels");Y.attr("transform","translate("+b.left+","+b.top+")");U.select(".nv-pie").attr("transform","translate("+z/2+","+K/2+")");U.select(".nv-pieLabels").attr("transform","translate("+
z/2+","+K/2+")");e.on("click",function(a,b){C.chartClick({data:a,index:b,pos:d3.event,id:l})});J=[];I=[];for(X=0;X<a[0].length;X++){U=d3.svg.arc().outerRadius(F[X]);var T=d3.svg.arc().outerRadius(F[X]+5);!1!==D&&(U.startAngle(D),T.startAngle(D));!1!==G&&(U.endAngle(G),T.endAngle(G));v&&(U.innerRadius(L[X]),T.innerRadius(L[X]));U.cornerRadius&&H&&(U.cornerRadius(H),T.cornerRadius(H));J.push(U);I.push(T)}L=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:h(a)});L.padAngle&&m&&L.padAngle(m);
v&&x&&(aa.append("text").attr("class","nv-pie-title"),Y.select(".nv-pie-title").style("text-anchor","middle").text(function(a){return x}).style("font-size",Math.min(z,K)*M*2/(x.length+2)+"px").attr("dy","0.35em").attr("transform",function(a,b){return"translate(0, "+t+")"}));z=Y.select(".nv-pie").selectAll(".nv-slice").data(L);K=Y.select(".nv-pieLabels").selectAll(".nv-label").data(L);z.exit().remove();K.exit().remove();L=z.enter().append("g");L.attr("class","nv-slice");L.on("mouseover",function(a,
b){d3.select(this).classed("hover",!0);A&&d3.select(this).select("path").transition().duration(70).attr("d",I[b]);C.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill"),percent:(a.endAngle-a.startAngle)/(2*Math.PI)})});L.on("mouseout",function(a,b){d3.select(this).classed("hover",!1);A&&d3.select(this).select("path").transition().duration(50).attr("d",J[b]);C.elementMouseout({data:a.data,index:b})});L.on("mousemove",function(a,b){C.elementMousemove({data:a.data,index:b})});L.on("click",
function(a,b){C.elementClick({data:a.data,index:b,color:d3.select(this).style("fill"),event:d3.event,element:this})});L.on("dblclick",function(a,b){C.elementDblClick({data:a.data,index:b,color:d3.select(this).style("fill")})});z.attr("fill",function(a,b){return k(a.data,b)});z.attr("stroke",function(a,b){return k(a.data,b)});L.append("path").each(function(a){this._current=a});z.select("path").transition().duration(y).attr("d",function(a,b){return J[b](a)}).attrTween("d",function(a,b){a.endAngle=isNaN(a.endAngle)?
0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;v||(a.innerRadius=0);var c=d3.interpolate(this._current,a);this._current=c(0);return function(a){return J[b](c(a))}});if(q){var V=[];for(X=0;X<a[0].length;X++)V.push(J[X]),r?v&&(V[X]=d3.svg.arc().outerRadius(J[X].outerRadius()),!1!==D&&V[X].startAngle(D),!1!==G&&V[X].endAngle(G)):v||V[X].innerRadius(0);K.enter().append("g").classed("nv-label",!0).each(function(a,b){b=d3.select(this);b.attr("transform",function(a,b){if(B){a.outerRadius=F[b]+
10;a.innerRadius=F[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+V[b].centroid(a)+") rotate("+c+")"}a.outerRadius=O+10;a.innerRadius=O+15;return"translate("+V[b].centroid(a)+")"});b.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);b.append("text").style("text-anchor",B?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var ja={},ka=function(a){return 140*Math.floor(a[0]/
140)+","+14*Math.floor(a[1]/14)};K.watchTransition(E,"pie labels").attr("transform",function(a,b){if(B){a.outerRadius=F[b]+10;a.innerRadius=F[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+V[b].centroid(a)+") rotate("+c+")"}a.outerRadius=O+10;a.innerRadius=O+15;b=V[b].centroid(a);c=(a.endAngle-a.startAngle)/(2*Math.PI);a.value&&c>=w&&(a=ka(b),ja[a]&&(b[1]-=14),ja[ka(b)]=!0);return"translate("+b+")"});K.select(".nv-label text").style("text-anchor",
function(a,b){return B?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=(a.endAngle-a.startAngle)/(2*Math.PI),d="";if(!a.value||c<w)return"";if("function"===typeof u)d=u(a,b,{key:f(a.data),value:h(a.data),percent:n(c)});else switch(u){case "key":d=f(a.data);break;case "value":d=n(h(a.data));break;case "percent":d=d3.format("%")(c)}return d})}});E.renderEnd("pie immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=500,g=500,f=function(a){return a.x},h=function(a){return a.y},
l=Math.floor(1E4*Math.random()),e=null,k=c.utils.defaultColor(),n=d3.format(",.2f"),q=!0,r=!1,u="key",w=.02,v=!1,x=!1,A=!0,t=0,B=!1,D=!1,m=!1,G=!1,H=0,M=.5,y=250,p=[],C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),J=[],I=[],E=c.utils.renderWatch(C);a.dispatch=C;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{arcsRadius:{get:function(){return p},set:function(a){p=a}},width:{get:function(){return d},
set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},showLabels:{get:function(){return q},set:function(a){q=a}},title:{get:function(){return x},set:function(a){x=a}},titleOffset:{get:function(){return t},set:function(a){t=a}},labelThreshold:{get:function(){return w},set:function(a){w=a}},valueFormat:{get:function(){return n},set:function(a){n=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return l},set:function(a){l=a}},endAngle:{get:function(){return G},
set:function(a){G=a}},startAngle:{get:function(){return D},set:function(a){D=a}},padAngle:{get:function(){return m},set:function(a){m=a}},cornerRadius:{get:function(){return H},set:function(a){H=a}},donutRatio:{get:function(){return M},set:function(a){M=a}},labelsOutside:{get:function(){return r},set:function(a){r=a}},labelSunbeamLayout:{get:function(){return B},set:function(a){B=a}},donut:{get:function(){return v},set:function(a){v=a}},growOnHover:{get:function(){return A},set:function(a){A=a}},
pieLabelsOutside:{get:function(){return r},set:function(a){r=a;c.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return r},set:function(a){r=a;c.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return n},set:function(a){n=a;c.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return b},set:function(a){b.top="undefined"!=typeof a.top?a.top:b.top;b.right="undefined"!=typeof a.right?a.right:
b.right;b.bottom="undefined"!=typeof a.bottom?a.bottom:b.bottom;b.left="undefined"!=typeof a.left?a.left:b.left}},duration:{get:function(){return y},set:function(a){y=a;E.reset(y)}},y:{get:function(){return h},set:function(a){h=d3.functor(a)}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a)}},labelType:{get:function(){return u},set:function(a){u=a||"key"}}});c.utils.initOptions(a);return a};c.models.pieChart=function(){function a(m){t.reset();t.models(b);m.each(function(m){var g=
d3.select(this);c.utils.initSVG(g);var t=c.utils.availableWidth(l,g,f),k=c.utils.availableHeight(e,g,f);a.update=function(){g.transition().call(a)};a.container=this;u.setter(D(m),a.update).getter(B(m)).update();u.disabled=m.map(function(a){return!!a.disabled});if(!w)for(p in w={},u)w[p]=u[p]instanceof Array?u[p].slice(0):u[p];if(m&&m.length)g.selectAll(".nv-noData").remove();else return c.utils.noData(a,g),a;var p=g.selectAll("g.nv-wrap.nv-pieChart").data([m]);var r=p.enter().append("g").attr("class",
"nvd3 nv-wrap nv-pieChart").append("g"),v=p.select("g");r.append("g").attr("class","nv-pieWrap");r.append("g").attr("class","nv-legendWrap");n?"top"===q?(d.width(t).key(b.x()),p.select(".nv-legendWrap").datum(m).call(d),h||d.height()===f.top||(f.top=d.height(),k=c.utils.availableHeight(e,g,f)),p.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")):"right"===q&&(r=c.models.legend().width(),t/2<r&&(r=t/2),d.height(k).key(b.x()),d.width(r),t-=d.width(),p.select(".nv-legendWrap").datum(m).call(d).attr("transform",
"translate("+t+",0)")):v.select(".nv-legendWrap").selectAll("*").remove();p.attr("transform","translate("+f.left+","+f.top+")");b.width(t).height(k);t=v.select(".nv-pieWrap").datum([m]);d3.transition(t).call(b);d.dispatch.on("stateChange",function(b){for(var c in b)u[c]=b[c];A.stateChange(u);a.update()});A.on("changeState",function(b){"undefined"!==typeof b.disabled&&(m.forEach(function(a,c){a.disabled=b.disabled[c]}),u.disabled=b.disabled);a.update()})});t.renderEnd("pieChart immediate");return a}
var b=c.models.pie(),d=c.models.legend(),g=c.models.tooltip(),f={top:30,right:20,bottom:20,left:20},h=null,l=null,e=null,k=!1,n=!0,q="top",r=c.utils.defaultColor(),u=c.utils.state(),w=null,v=null,x=250,A=d3.dispatch("stateChange","changeState","renderEnd");g.duration(0).headerEnabled(!1).valueFormatter(function(a,c){return b.valueFormat()(a,c)});var t=c.utils.renderWatch(A),B=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},D=function(a){return function(b){void 0!==
b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color,percent:b.percent};k||(delete b.percent,delete b.series.percent);g.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){g.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){g()});a.legend=d;a.dispatch=A;a.pie=b;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},
{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return e},set:function(a){e=a}},noData:{get:function(){return v},set:function(a){v=a}},showTooltipPercent:{get:function(){return k},set:function(a){k=a}},showLegend:{get:function(){return n},set:function(a){n=a}},legendPosition:{get:function(){return q},set:function(a){q=a}},defaultState:{get:function(){return w},set:function(a){w=a}},color:{get:function(){return r},set:function(a){r=a;d.color(r);b.color(r)}},duration:{get:function(){return x},
set:function(a){x=a;t.reset(x);b.duration(x)}},margin:{get:function(){return f},set:function(a){void 0!==a.top&&(h=f.top=a.top);f.right=void 0!==a.right?a.right:f.right;f.bottom=void 0!==a.bottom?a.bottom:f.bottom;f.left=void 0!==a.left?a.left:f.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sankey=function(){function a(){u.forEach(function(a){a.sourceLinks=[];a.targetLinks=[]});w.forEach(function(a){var b=a.source,c=a.target;"number"===typeof b&&(b=a.source=u[a.source]);
"number"===typeof c&&(c=a.target=u[a.target]);b.sourceLinks.push(a);c.targetLinks.push(a)})}function b(){u.forEach(function(a){a.value=Math.max(d3.sum(a.sourceLinks,e),d3.sum(a.targetLinks,e))})}function d(){for(var a=u,b,c=0;a.length&&c<u.length;)b=[],a.forEach(function(a){a.x=c;a.dx=n;a.sourceLinks.forEach(function(a){0>b.indexOf(a.target)&&b.push(a.target)})}),a=b,++c;v&&g(c);f((r[0]-n)/(c-1))}function g(a){u.forEach(function(b){b.sourceLinks.length||(b.x=a-1)})}function f(a){u.forEach(function(b){b.x*=
a})}function h(a){function b(a){function b(a){return(a.source.y+a.sy+a.dy/2)*a.value}g.forEach(function(c,d){c.forEach(function(c){if(c.targetLinks.length){var d=d3.sum(c.targetLinks,b)/d3.sum(c.targetLinks,e);c.y+=(d-A(c))*a}})})}function c(a){function b(a){return(a.target.y+a.ty+a.dy/2)*a.value}g.slice().reverse().forEach(function(c){c.forEach(function(c){if(c.sourceLinks.length){var d=d3.sum(c.sourceLinks,b)/d3.sum(c.sourceLinks,e);c.y+=(d-A(c))*a}})})}function d(){g.forEach(function(a){var b=
0;var c=a.length,d;a.sort(f);for(d=0;d<c;++d){var e=a[d];b-=e.y;0<b&&(e.y+=b);b=e.y+e.dy+q}b=b-q-r[1];if(0<b)for(b=e.y-=b,d=c-2;0<=d;--d)e=a[d],b=e.y+e.dy+q-b,0<b&&(e.y-=b),b=e.y})}function f(a,b){return a.y-b.y}var g=d3.nest().key(function(a){return a.x}).sortKeys(d3.ascending).entries(u).map(function(a){return a.values});(function(){var a=d3.min(g,function(a){return(r[1]-(a.length-1)*q)/d3.sum(a,e)});g.forEach(function(b){b.forEach(function(b,c){b.y=c;b.dy=b.value*a})});w.forEach(function(b){b.dy=
b.value*a})})();d();l();for(var h=1;0<a;--a)c(h*=.99),d(),l(),b(h),d(),l()}function l(){function a(a,b){return a.source.y-b.source.y}function b(a,b){return a.target.y-b.target.y}u.forEach(function(c){c.sourceLinks.sort(b);c.targetLinks.sort(a)});u.forEach(function(a){var b=0,c=0;a.sourceLinks.forEach(function(a){a.sy=b;b+=a.dy});a.targetLinks.forEach(function(a){a.ty=c;c+=a.dy})})}function e(a){return a.value}var k={},n=24,q=8,r=[1,1],u=[],w=[],v=!0,x=function(){function a(a){var c=a.source.x+a.source.dx,
d=a.target.x,e=d3.interpolateNumber(c,d),f=e(b);e=e(1-b);var g=a.source.y+a.sy+a.dy/2;a=a.target.y+a.ty+a.dy/2;return"M"+c+","+g+"C"+f+","+g+" "+e+","+a+" "+d+","+a}var b=.5;a.curvature=function(c){if(!arguments.length)return b;b=+c;return a};return a},A=function(a){return a.y+a.dy/2};k.options=c.utils.optionsFunc.bind(k);k._options=Object.create({},{nodeWidth:{get:function(){return n},set:function(a){n=+a}},nodePadding:{get:function(){return q},set:function(a){q=a}},nodes:{get:function(){return u},
set:function(a){u=a}},links:{get:function(){return w},set:function(a){w=a}},size:{get:function(){return r},set:function(a){r=a}},sinksRight:{get:function(){return v},set:function(a){v=a}},layout:{get:function(){a();b();d();h(32)},set:function(c){a();b();d();h(c)}},relayout:{get:function(){l()},set:function(a){}},center:{get:function(){return A()},set:function(a){"function"===typeof a&&(A=a)}},link:{get:function(){return x()},set:function(a){"function"===typeof a&&(x=a);return x()}}});c.utils.initOptions(k);
return k};c.models.sankeyChart=function(){function a(b){b.each(function(a){var c={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},e=!1,t=!1;0<=("object"===
typeof a.nodes&&a.nodes.length)&&0<=("object"===typeof a.links&&a.links.length)&&(e=!0);a.nodes&&0<a.nodes.length&&a.links&&0<a.links.length&&(t=!0);if(!e)return console.error("NVD3 Sankey chart error:","invalid data format for",a),console.info("Valid data format is: ",c,JSON.stringify(c)),A(b,"Error loading chart, data is invalid"),!1;if(!t)return A(b,"No data available"),!1;c=b.append("svg").attr("width",g).attr("height",f).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");d.nodeWidth(h).nodePadding(l).size([g,
f]);var n=d.link();d.nodes(a.nodes).links(a.links).layout(32).center(k);var r=c.append("g").selectAll(".link").data(a.links).enter().append("path").attr("class","link").attr("d",n).style("stroke-width",function(a){return Math.max(1,a.dy)}).sort(function(a,b){return b.dy-a.dy});r.append("title").text(u);a=c.append("g").selectAll(".node").data(a.nodes).enter().append("g").attr("class","node").attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).call(d3.behavior.drag().origin(function(a){return a}).on("dragstart",
function(){this.parentNode.appendChild(this)}).on("drag",function(a){d3.select(this).attr("transform","translate("+a.x+","+(a.y=Math.max(0,Math.min(f-a.dy,d3.event.y)))+")");d.relayout();r.attr("d",n)}));a.append("rect").attr("height",function(a){return a.dy}).attr("width",d.nodeWidth()).style("fill",w).style("stroke",v).append("title").text(x);a.append("text").attr("x",-6).attr("y",function(a){return a.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(a){return a.name}).filter(function(a){return a.x<
g/2}).attr("x",6+d.nodeWidth()).attr("text-anchor","start")});return a}var b={top:5,right:0,bottom:5,left:0},d=c.models.sankey(),g=600,f=400,h=36,l=40,e="units",k=void 0,n=d3.format(",.0f"),q=function(a){return n(a)+" "+e},r=d3.scale.category20(),u=function(a){return a.source.name+" \u2192 "+a.target.name+"\n"+q(a.value)},w=function(a){return a.color=r(a.name.replace(/ .*/,""))},v=function(a){return d3.rgb(a.color).darker(2)},x=function(a){return a.name+"\n"+q(a.value)},A=function(a,b){a.append("text").attr("x",
0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(b)};a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{units:{get:function(){return e},set:function(a){e=a}},width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return f},set:function(a){f=a}},format:{get:function(){return q},set:function(a){q=a}},linkTitle:{get:function(){return u},set:function(a){u=a}},nodeWidth:{get:function(){return h},set:function(a){h=a}},nodePadding:{get:function(){return l},
set:function(a){l=a}},center:{get:function(){return k},set:function(a){k=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},nodeStyle:{get:function(){return{}},set:function(a){w=void 0!==a.fillColor?a.fillColor:w;v=void 0!==a.strokeColor?a.strokeColor:v;x=void 0!==a.title?a.title:x}}});c.utils.initOptions(a);return a};c.models.scatter=function(){function a(a){delete ba[a[0].series+
":"+a[1]]}function b(a){var b=a[0].series+":"+a[1];var c=ba[b]=ba[b]||{};var d=!1;for(b=1;b<arguments.length;b+=2){var e=arguments[b];var f=arguments[b+1](a[0],a[1]);c[e]===f&&c.hasOwnProperty(e)||(c[e]=f,d=!0)}return d}function d(W){S.reset();W.each(function(W){function Y(){R=!1;if(!m)return!1;if(!0===L){var a=d3.merge(W.map(function(a,b){return a.values.map(function(a,d){var e=w(a,d),f=v(a,d);return[c.utils.NaNtoZero(q(e))+1E-4*Math.random(),c.utils.NaNtoZero(r(f))+1E-4*Math.random(),b,d,a]}).filter(function(a,
b){return G(a[4],b)})}));if(0==a.length)return!1;3>a.length&&(a.push([q.range()[0]-20,r.range()[0]-20,null,null]),a.push([q.range()[1]+20,r.range()[1]+20,null,null]),a.push([q.range()[0]-20,r.range()[0]+20,null,null]),a.push([q.range()[1]+20,r.range()[1]-20,null,null]));var b=d3.geom.polygon([[-10,-10],[-10,h+10],[f+10,h+10],[f+10,-10]]),d=d3.geom.voronoi(a).map(function(c,d){return{data:b.clip(c),series:a[d][2],point:a[d][3]}});ba.select(".nv-point-paths").selectAll("path").remove();d=ba.select(".nv-point-paths").selectAll("path").data(d);
var e=d.enter().append("svg:path").attr("d",function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join(",")+"Z":"M 0 0"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+k+"-"+b+")"});C&&e.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200));p&&(ba.select(".nv-point-clips").selectAll("*").remove(),ba.select(".nv-point-clips").selectAll("clipPath").data(a).enter().append("svg:clipPath").attr("id",
function(a,b){return"nv-clip-"+k+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",J));var t=function(a,b,c){if(R)return 0;var d=W[b.series];if(void 0!==d){var e=d.values[b.point];e.color=l(d,b.series);e.x=w(e);e.y=v(e);var f=n.node().getBoundingClientRect(),h=window.pageYOffset||document.documentElement.scrollTop,k=window.pageXOffset||document.documentElement.scrollLeft;f={left:q(w(e,b.point))+f.left+k+g.left+10,top:r(v(e,b.point))+f.top+
h+g.top+10};c({point:e,series:d,pos:f,relativePos:[q(w(e,b.point))+g.left,r(v(e,b.point))+g.top],seriesIndex:b.series,pointIndex:b.point,event:d3.event,element:a})}};d.on("click",function(a){t(this,a,F.elementClick)}).on("dblclick",function(a){t(this,a,F.elementDblClick)}).on("mouseover",function(a){t(this,a,F.elementMouseover)}).on("mouseout",function(a,b){t(this,a,F.elementMouseout)})}else ba.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(a,b){if(R||!W[a.series])return 0;
var c=W[a.series],d=c.values[b];F.elementClick({point:d,series:c,pos:[q(w(d,b))+g.left,r(v(d,b))+g.top],relativePos:[q(w(d,b))+g.left,r(v(d,b))+g.top],seriesIndex:a.series,pointIndex:b,event:d3.event,element:this})}).on("dblclick",function(a,b){if(R||!W[a.series])return 0;var c=W[a.series],d=c.values[b];F.elementDblClick({point:d,series:c,pos:[q(w(d,b))+g.left,r(v(d,b))+g.top],relativePos:[q(w(d,b))+g.left,r(v(d,b))+g.top],seriesIndex:a.series,pointIndex:b})}).on("mouseover",function(a,b){if(R||!W[a.series])return 0;
var c=W[a.series],d=c.values[b];F.elementMouseover({point:d,series:c,pos:[q(w(d,b))+g.left,r(v(d,b))+g.top],relativePos:[q(w(d,b))+g.left,r(v(d,b))+g.top],seriesIndex:a.series,pointIndex:b,color:l(a,b)})}).on("mouseout",function(a,b){if(R||!W[a.series])return 0;var c=W[a.series],d=c.values[b];F.elementMouseout({point:d,series:c,pos:[q(w(d,b))+g.left,r(v(d,b))+g.top],relativePos:[q(w(d,b))+g.left,r(v(d,b))+g.top],seriesIndex:a.series,pointIndex:b,color:l(a,b)})})}n=d3.select(this);var da=c.utils.availableWidth(f,
n,g),fa=c.utils.availableHeight(h,n,g);c.utils.initSVG(n);W.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var ma=d.yScale().name===d3.scale.log().name?!0:!1,ea=I&&E&&P?[]:d3.merge(W.map(function(a){return a.values.map(function(a,b){return{x:w(a,b),y:v(a,b),size:x(a,b)}})}));q.domain(I||d3.extent(ea.map(function(a){return a.x}).concat(t)));H&&W[0]?q.range(z||[(da*M+da)/(2*W[0].values.length),da-da*(1+M)/(2*W[0].values.length)]):q.range(z||[0,da]);if(ma){var ia=d3.min(ea.map(function(a){if(0!==
a.y)return a.y}));r.clamp(!0).domain(E||d3.extent(ea.map(function(a){return 0!==a.y?a.y:.1*ia}).concat(B))).range(K||[fa,0])}else r.domain(E||d3.extent(ea.map(function(a){return a.y}).concat(B))).range(K||[fa,0]);u.domain(P||d3.extent(ea.map(function(a){return a.size}).concat(D))).range(N||ca);O=q.domain()[0]===q.domain()[1]||r.domain()[0]===r.domain()[1];q.domain()[0]===q.domain()[1]&&(q.domain()[0]?q.domain([q.domain()[0]-.01*q.domain()[0],q.domain()[1]+.01*q.domain()[1]]):q.domain([-1,1]));r.domain()[0]===
r.domain()[1]&&(r.domain()[0]?r.domain([r.domain()[0]-.01*r.domain()[0],r.domain()[1]+.01*r.domain()[1]]):r.domain([-1,1]));isNaN(q.domain()[0])&&q.domain([-1,1]);isNaN(r.domain()[0])&&r.domain([-1,1]);U=U||q;T=T||r;V=V||u;var Q=q(1)!==U(1)||r(1)!==T(1)||u(1)!==V(1);ja=ja||f;ka=ka||h;var ha=ja!==f||ka!==h,ba=n.selectAll("g.nv-wrap.nv-scatter").data([W]);ma=ba.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+k);ea=ma.append("defs");var pa=ma.append("g"),qa=ba.select("g");ba.classed("nv-single-point",
O);pa.append("g").attr("class","nv-groups");pa.append("g").attr("class","nv-point-paths");ma.append("g").attr("class","nv-point-clips");ba.attr("transform","translate("+g.left+","+g.top+")");ea.append("clipPath").attr("id","nv-edge-clip-"+k).append("rect").attr("transform","translate( -10, -10)");ba.select("#nv-edge-clip-"+k+" rect").attr("width",da+20).attr("height",0<fa?fa+20:0);qa.attr("clip-path",y?"url(#nv-edge-clip-"+k+")":"");R=!0;da=ba.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a){return a.key});da.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);da.exit().remove();da.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("nv-noninteractive",!m).classed("hover",function(a){return a.hover});da.watchTransition(S,"scatter: groups").style("fill",function(a,b){return l(a,b)}).style("stroke",function(a,b){return a.pointBorderColor||e||l(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);fa=da.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,
b){return[a,b]}).filter(function(a,b){return G(a[0],b)})});fa.enter().append("path").attr("class",function(a){return"nv-point nv-point-"+a[1]}).style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+c.utils.NaNtoZero(U(w(a[0],a[1])))+","+c.utils.NaNtoZero(T(v(a[0],a[1])))+")"}).attr("d",c.utils.symbol().type(function(a){return A(a[0])}).size(function(a){return u(x(a[0],a[1]))}));fa.exit().each(a).remove();da.exit().selectAll("path.nv-point").watchTransition(S,
"scatter exit").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(q(w(a[0],a[1])))+","+c.utils.NaNtoZero(r(v(a[0],a[1])))+")"}).remove();fa.filter(function(a){return Q||ha||b(a,"x",w,"y",v)}).watchTransition(S,"scatter points").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(q(w(a[0],a[1])))+","+c.utils.NaNtoZero(r(v(a[0],a[1])))+")"});fa.filter(function(a){return Q||ha||b(a,"shape",A,"size",x)}).watchTransition(S,"scatter points").attr("d",c.utils.symbol().type(function(a){return A(a[0])}).size(function(a){return u(x(a[0],
a[1]))}));X&&(fa=da.selectAll(".nv-label").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return G(a[0],b)})}),fa.enter().append("text").style("fill",function(a,b){return a.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(U(w(a[0],a[1])))+Math.sqrt(u(x(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(T(v(a[0],a[1])))+")"}).text(function(a,b){return a[0].label}),fa.exit().remove(),da.exit().selectAll("path.nv-label").watchTransition(S,
"scatter exit").attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(q(w(a[0],a[1])))+Math.sqrt(u(x(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(r(v(a[0],a[1])))+")"}).remove(),fa.each(function(a){d3.select(this).classed("nv-label",!0).classed("nv-label-"+a[1],!1).classed("hover",!1)}),fa.watchTransition(S,"scatter labels").attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(q(w(a[0],a[1])))+Math.sqrt(u(x(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(r(v(a[0],a[1])))+
")"}));aa?(clearTimeout(Z),Z=setTimeout(Y,aa)):Y();U=q.copy();T=r.copy();V=u.copy();ja=f;ka=h});S.renderEnd("scatter immediate");return d}var g={top:0,right:0,bottom:0,left:0},f=null,h=null,l=c.utils.defaultColor(),e=null,k=Math.floor(1E5*Math.random()),n=null,q=d3.scale.linear(),r=d3.scale.linear(),u=d3.scale.linear(),w=function(a){return a.x},v=function(a){return a.y},x=function(a){return a.size||1},A=function(a){return a.shape||"circle"},t=[],B=[],D=[],m=!0,G=function(a){return!a.notActive},H=
!1,M=.1,y=!1,p=!0,C=!1,J=function(){return 25},I=null,E=null,z=null,K=null,P=null,N=null,O=!1,F=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),L=!0,Y=250,aa=300,X=!1,U,T,V,ja,ka,Z,R=!1,S=c.utils.renderWatch(F,Y),ca=[16,256],ba={};d.dispatch=F;d.options=c.utils.optionsFunc.bind(d);d._calls=new function(){this.clearHighlights=function(){c.dom.write(function(){n.selectAll(".nv-point.hover").classed("hover",!1)});return null};this.highlightPoint=function(a,
b,d){c.dom.write(function(){n.select(".nv-groups").selectAll(".nv-series-"+a).selectAll(".nv-point-"+b).classed("hover",d)})}};F.on("elementMouseover.point",function(a){m&&d._calls.highlightPoint(a.seriesIndex,a.pointIndex,!0)});F.on("elementMouseout.point",function(a){m&&d._calls.highlightPoint(a.seriesIndex,a.pointIndex,!1)});d._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return h},set:function(a){h=a}},xScale:{get:function(){return q},
set:function(a){q=a}},yScale:{get:function(){return r},set:function(a){r=a}},pointScale:{get:function(){return u},set:function(a){u=a}},xDomain:{get:function(){return I},set:function(a){I=a}},yDomain:{get:function(){return E},set:function(a){E=a}},pointDomain:{get:function(){return P},set:function(a){P=a}},xRange:{get:function(){return z},set:function(a){z=a}},yRange:{get:function(){return K},set:function(a){K=a}},pointRange:{get:function(){return N},set:function(a){N=a}},forceX:{get:function(){return t},
set:function(a){t=a}},forceY:{get:function(){return B},set:function(a){B=a}},forcePoint:{get:function(){return D},set:function(a){D=a}},interactive:{get:function(){return m},set:function(a){m=a}},pointActive:{get:function(){return G},set:function(a){G=a}},padDataOuter:{get:function(){return M},set:function(a){M=a}},padData:{get:function(){return H},set:function(a){H=a}},clipEdge:{get:function(){return y},set:function(a){y=a}},clipVoronoi:{get:function(){return p},set:function(a){p=a}},clipRadius:{get:function(){return J},
set:function(a){J=a}},showVoronoi:{get:function(){return C},set:function(a){C=a}},id:{get:function(){return k},set:function(a){k=a}},interactiveUpdateDelay:{get:function(){return aa},set:function(a){aa=a}},showLabels:{get:function(){return X},set:function(a){X=a}},pointBorderColor:{get:function(){return e},set:function(a){e=a}},x:{get:function(){return w},set:function(a){w=d3.functor(a)}},y:{get:function(){return v},set:function(a){v=d3.functor(a)}},pointSize:{get:function(){return x},set:function(a){x=
d3.functor(a)}},pointShape:{get:function(){return A},set:function(a){A=d3.functor(a)}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top;g.right=void 0!==a.right?a.right:g.right;g.bottom=void 0!==a.bottom?a.bottom:g.bottom;g.left=void 0!==a.left?a.left:g.left}},duration:{get:function(){return Y},set:function(a){Y=a;S.reset(Y)}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}},useVoronoi:{get:function(){return L},set:function(a){L=a;!1===L&&(p=
!1)}}});c.utils.initOptions(d);return d};c.models.scatterChart=function(){function a(p){I.reset();I.models(b);D&&I.models(d);m&&I.models(g);A&&I.models(h);t&&I.models(l);p.each(function(p){u=d3.select(this);c.utils.initSVG(u);var K=c.utils.availableWidth(q,u,k),O=c.utils.availableHeight(r,u,k);a.update=function(){0===C?u.call(a):u.transition().duration(C).call(a)};a.container=this;H.setter(z(p),a.update).getter(E(p)).update();H.disabled=p.map(function(a){return!!a.disabled});if(!M)for(L in M={},H)M[L]=
H[L]instanceof Array?H[L].slice(0):H[L];if(p&&p.length&&p.filter(function(a){return a.values.length}).length)u.selectAll(".nv-noData").remove();else return c.utils.noData(a,u),I.renderEnd("scatter immediate"),a;v=b.xScale();x=b.yScale();var F=u.selectAll("g.nv-wrap.nv-scatterChart").data([p]);var L=F.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g");var P=F.select("g");L.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");L.append("g").attr("class",
"nv-x nv-axis");L.append("g").attr("class","nv-y nv-axis");L.append("g").attr("class","nv-scatterWrap");L.append("g").attr("class","nv-regressionLinesWrap");L.append("g").attr("class","nv-distWrap");L.append("g").attr("class","nv-legendWrap");G&&P.select(".nv-y.nv-axis").attr("transform","translate("+K+",0)");B?(f.width(K),F.select(".nv-legendWrap").datum(p).call(f),n||f.height()===k.top||(k.top=f.height(),O=c.utils.availableHeight(r,u,k)),F.select(".nv-legendWrap").attr("transform","translate(0,"+
-k.top+")")):P.select(".nv-legendWrap").selectAll("*").remove();F.attr("transform","translate("+k.left+","+k.top+")");b.width(K).height(O).color(p.map(function(a,b){a.color=a.color||w(a,b);return a.color}).filter(function(a,b){return!p[b].disabled})).showLabels(J);F.select(".nv-scatterWrap").datum(p.filter(function(a){return!a.disabled})).call(b);F.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");F=F.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});
F.enter().append("g").attr("class","nv-regLines");F=F.selectAll(".nv-regLine").data(function(a){return[a]});F.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);F.filter(function(a){return a.intercept&&a.slope}).watchTransition(I,"scatterPlusLineChart: regline").attr("x1",v.range()[0]).attr("x2",v.range()[1]).attr("y1",function(a,b){return x(v.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return x(v.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,
b,c){return w(a,c)}).style("stroke-opacity",function(a,b){return a.disabled||"undefined"===typeof a.slope||"undefined"===typeof a.intercept?0:1});D&&(d.scale(v)._ticks(c.utils.calcTicksX(K/100,p)).tickSize(-O,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+x.range()[0]+")").call(d));m&&(g.scale(x)._ticks(c.utils.calcTicksY(O/36,p)).tickSize(-K,0),P.select(".nv-y.nv-axis").call(g));A&&(h.getData(b.x()).scale(v).width(K).color(p.map(function(a,b){return a.color||w(a,b)}).filter(function(a,
b){return!p[b].disabled})),L.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),P.select(".nv-distributionX").attr("transform","translate(0,"+x.range()[0]+")").datum(p.filter(function(a){return!a.disabled})).call(h));t&&(l.getData(b.y()).scale(x).width(O).color(p.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!p[b].disabled})),L.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),P.select(".nv-distributionY").attr("transform","translate("+(G?
K:-l.size())+",0)").datum(p.filter(function(a){return!a.disabled})).call(l));f.dispatch.on("stateChange",function(b){for(var c in b)H[c]=b[c];y.stateChange(H);a.update()});y.on("changeState",function(b){"undefined"!==typeof b.disabled&&(p.forEach(function(a,c){a.disabled=b.disabled[c]}),H.disabled=b.disabled);a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0);u.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);u.select(".nv-chart-"+
b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",l.size())});b.dispatch.on("elementMouseover.tooltip",function(a){u.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.relativePos[1]-O);u.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.relativePos[0]+h.size());e.data(a).hidden(!1)});v.copy();x.copy()});I.renderEnd("scatter with line immediate");return a}var b=c.models.scatter(),d=c.models.axis(),g=c.models.axis(),f=c.models.legend(),
h=c.models.distribution(),l=c.models.distribution(),e=c.models.tooltip(),k={top:30,right:20,bottom:50,left:75},n=null,q=null,r=null,u=null,w=c.utils.defaultColor(),v=b.xScale(),x=b.yScale(),A=!1,t=!1,B=!0,D=!0,m=!0,G=!1,H=c.utils.state(),M=null,y=d3.dispatch("stateChange","changeState","renderEnd"),p=null,C=250,J=!1;b.xScale(v).yScale(x);d.orient("bottom").tickPadding(10);g.orient(G?"right":"left").tickPadding(10);h.axis("x");l.axis("y");e.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,
b){return g.tickFormat()(a,b)});var I=c.utils.renderWatch(y,C),E=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},z=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};a.dispatch=y;a.scatter=b;a.legend=f;a.xAxis=d;a.yAxis=g;a.distX=h;a.distY=l;a.tooltip=e;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return q},set:function(a){q=a}},height:{get:function(){return r},set:function(a){r=
a}},container:{get:function(){return u},set:function(a){u=a}},showDistX:{get:function(){return A},set:function(a){A=a}},showDistY:{get:function(){return t},set:function(a){t=a}},showLegend:{get:function(){return B},set:function(a){B=a}},showXAxis:{get:function(){return D},set:function(a){D=a}},showYAxis:{get:function(){return m},set:function(a){m=a}},defaultState:{get:function(){return M},set:function(a){M=a}},noData:{get:function(){return p},set:function(a){p=a}},duration:{get:function(){return C},
set:function(a){C=a}},showLabels:{get:function(){return J},set:function(a){J=a}},margin:{get:function(){return k},set:function(a){void 0!==a.top&&(n=k.top=a.top);k.right=void 0!==a.right?a.right:k.right;k.bottom=void 0!==a.bottom?a.bottom:k.bottom;k.left=void 0!==a.left?a.left:k.left}},rightAlignYAxis:{get:function(){return G},set:function(a){G=a;g.orient(a?"right":"left")}},color:{get:function(){return w},set:function(a){w=c.utils.getColor(a);f.color(w);h.color(w);l.color(w)}}});c.utils.inheritOptions(a,
b);c.utils.initOptions(a);return a};c.models.sparkline=function(){function a(h){B.reset();h.each(function(a){var h=d-b.left-b.right,m=g-b.top-b.bottom;f=d3.select(this);c.utils.initSVG(f);l.domain(r||d3.extent(a,k)).range(w||[0,h]);e.domain(u||d3.extent(a,n)).range(v||[m,0]);a=f.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");h=a.selectAll("path").data(function(a){return[a]});
h.enter().append("path");h.exit().remove();h.style("stroke",function(a,b){return a.color||q(a,b)}).attr("d",d3.svg.line().x(function(a,b){return l(k(a,b))}).y(function(a,b){return e(n(a,b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(b){if(-1!=b){var c=a[b];c.pointIndex=b;return c}return null}var c=a.map(function(a,b){return n(a,b)}),d=b(c.lastIndexOf(e.domain()[1])),f=b(c.indexOf(e.domain()[0]));c=b(c.length-1);return[x?f:null,x?d:null,A?c:null].filter(function(a){return null!=
a})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a,b){return l(k(a,a.pointIndex))}).attr("cy",function(a,b){return e(n(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return k(a,a.pointIndex)==l.domain()[1]?"nv-point nv-currentValue":n(a,a.pointIndex)==e.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});B.renderEnd("sparkline immediate");return a}var b={top:2,right:0,bottom:2,left:0},d=400,g=32,f=null,h=!0,l=d3.scale.linear(),e=d3.scale.linear(),k=function(a){return a.x},
n=function(a){return a.y},q=c.utils.getColor(["#000"]),r,u,w,v,x=!0,A=!0,t=d3.dispatch("renderEnd"),B=c.utils.renderWatch(t);a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},xDomain:{get:function(){return r},set:function(a){r=a}},yDomain:{get:function(){return u},set:function(a){u=a}},xRange:{get:function(){return w},set:function(a){w=a}},yRange:{get:function(){return v},
set:function(a){v=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return e},set:function(a){e=a}},animate:{get:function(){return h},set:function(a){h=a}},showMinMaxPoints:{get:function(){return x},set:function(a){x=a}},showCurrentPoint:{get:function(){return A},set:function(a){A=a}},x:{get:function(){return k},set:function(a){k=d3.functor(a)}},y:{get:function(){return n},set:function(a){n=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==
a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a)}}});a.dispatch=t;c.utils.initOptions(a);return a};c.models.sparklinePlus=function(){function a(t){A.reset();A.models(b);t.each(function(t){function v(){if(!k){var a=C.selectAll(".nv-hoverValue").data(e),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",
0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+h(b.x()(t[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);e.length&&(c.append("line").attr("x1",0).attr("y1",-d.top).attr("x2",0).attr("y2",A),c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-d.top).attr("text-anchor","end").attr("dy",".9em"),C.select(".nv-hoverValue .nv-xValue").text(n(b.x()(t[e[0]],
e[0]))),c.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-d.top).attr("text-anchor","start").attr("dy",".9em"),C.select(".nv-hoverValue .nv-yValue").text(q(b.y()(t[e[0]],e[0]))))}}var m=d3.select(this);c.utils.initSVG(m);var x=c.utils.availableWidth(g,m,d),A=c.utils.availableHeight(f,m,d);a.update=function(){m.call(a)};a.container=this;if(t&&t.length)m.selectAll(".nv-noData").remove();else return c.utils.noData(a,m),a;var B=b.y()(t[t.length-1],t.length-1);h=b.xScale();l=b.yScale();
var y=m.selectAll("g.nv-wrap.nv-sparklineplus").data([t]),p=y.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),C=y.select("g");p.append("g").attr("class","nv-sparklineWrap");p.append("g").attr("class","nv-valueWrap");p.append("g").attr("class","nv-hoverArea");y.attr("transform","translate("+d.left+","+d.top+")");y=C.select(".nv-sparklineWrap");b.width(x).height(A);y.call(b);r&&(y=C.select(".nv-valueWrap").selectAll(".nv-currentValue").data([B]),y.enter().append("text").attr("class",
"nv-currentValue").attr("dx",w?-8:8).attr("dy",".9em").style("text-anchor",w?"end":"start"),y.attr("x",x+(w?d.right:0)).attr("y",u?function(a){return l(a)}:0).style("fill",b.color()(t[t.length-1],t.length-1)).text(q(B)));p.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!k){var a=d3.mouse(this)[0]-d.left;a=Math.round(h.invert(a));for(var c=Math.abs(b.x()(t[0],0)-a),f=0,g=0;g<t.length;g++)Math.abs(b.x()(t[g],g)-a)<c&&(c=Math.abs(b.x()(t[g],g)-a),f=g);e=[f];v()}}).on("click",function(){k=
!k}).on("mouseout",function(){e=[];v()});C.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-d.left+","+-d.top+")"}).attr("width",x+d.left+d.right).attr("height",A+d.top)});A.renderEnd("sparklinePlus immediate");return a}var b=c.models.sparkline(),d={top:15,right:100,bottom:10,left:50},g=null,f=null,h,l,e=[],k=!1,n=d3.format(",r"),q=d3.format(",.2f"),r=!0,u=!0,w=!1,v=null,x=d3.dispatch("renderEnd"),A=c.utils.renderWatch(x);a.dispatch=x;a.sparkline=b;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return f},set:function(a){f=a}},xTickFormat:{get:function(){return n},set:function(a){n=a}},yTickFormat:{get:function(){return q},set:function(a){q=a}},showLastValue:{get:function(){return r},set:function(a){r=a}},alignValue:{get:function(){return u},set:function(a){u=a}},rightAlignValue:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return d},
set:function(a){d.top=void 0!==a.top?a.top:d.top;d.right=void 0!==a.right?a.right:d.right;d.bottom=void 0!==a.bottom?a.bottom:d.bottom;d.left=void 0!==a.left?a.left:d.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.stackedArea=function(){function a(q){m.reset();m.models(t);q.each(function(q){var G=d-b.left-b.right,y=g-b.top-b.bottom;l=d3.select(this);c.utils.initSVG(l);x=t.xScale();A=t.yScale();var p=q;q.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,
c){a.index=c;a.seriesIndex=b;return a})});q=q.filter(function(a){return!a.disabled});q=d3.layout.stack().order(u).offset(r).values(function(a){return a.values}).x(e).y(k).out(function(a,b,c){a.display={y:c,y0:b}})(q);var C=l.selectAll("g.nv-wrap.nv-stackedarea").data([q]),B=C.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),H=B.append("defs");B=B.append("g");var E=C.select("g");B.append("g").attr("class","nv-areaWrap");B.append("g").attr("class","nv-scatterWrap");C.attr("transform",
"translate("+b.left+","+b.top+")");0==t.forceY().length&&t.forceY().push(0);t.width(G).height(y).x(e).y(function(a){if(void 0!==a.display)return a.display.y+a.display.y0}).color(q.map(function(a,b){a.color=a.color||f(a,a.seriesIndex);return a.color}));E.select(".nv-scatterWrap").datum(q).call(t);H.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect");C.select("#nv-edge-clip-"+h+" rect").attr("width",G).attr("height",y);E.attr("clip-path",v?"url(#nv-edge-clip-"+h+")":"");var z=d3.svg.area().defined(n).x(function(a,
b){return x(e(a,b))}).y0(function(a){return A(a.display.y0)}).y1(function(a){return A(a.display.y+a.display.y0)}).interpolate(w),K=d3.svg.area().defined(n).x(function(a,b){return x(e(a,b))}).y0(function(a){return A(a.display.y0)}).y1(function(a){return A(a.display.y0)});G=E.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});G.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return K(a.values,a.seriesIndex)}).on("mouseover",
function(a,b){d3.select(this).classed("hover",!0);D.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);D.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1);D.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});G.exit().remove();G.style("fill",
function(a,b){return a.color||f(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||f(a,a.seriesIndex)});G.watchTransition(m,"stackedArea path").attr("d",function(a,b){return z(a.values,b)});t.dispatch.on("elementMouseover.area",function(a){E.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",!0)});t.dispatch.on("elementMouseout.area",function(a){E.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",!1)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,
c=a[0].length,d,e,f,g=[];for(e=0;e<c;++e){for(f=d=0;d<p.length;d++)f+=k(p[d].values[e]);if(f)for(d=0;d<b;d++)a[d][e][1]/=f;else for(d=0;d<b;d++)a[d][e][1]=0}for(e=0;e<c;++e)g[e]=0;return g}});m.renderEnd("stackedArea immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,g=500,f=c.utils.defaultColor(),h=Math.floor(1E5*Math.random()),l=null,e=function(a){return a.x},k=function(a){return a.y},n=function(a,b){return!isNaN(k(a,b))&&null!==k(a,b)},q="stack",r="zero",u="default",w="linear",v=
!1,x,A,t=c.models.scatter(),B=250,D=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");t.pointSize(2.2).pointDomain([2.2,2.2]);var m=c.utils.renderWatch(D,B);a.dispatch=D;a.scatter=t;t.dispatch.on("elementClick",function(){D.elementClick.apply(this,arguments)});t.dispatch.on("elementMouseover",function(){D.elementMouseover.apply(this,arguments)});t.dispatch.on("elementMouseout",function(){D.elementMouseout.apply(this,arguments)});
a.interpolate=function(b){if(!arguments.length)return w;w=b;return a};a.duration=function(b){if(!arguments.length)return B;B=b;m.reset(B);t.duration(B);return a};a.dispatch=D;a.scatter=t;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},defined:{get:function(){return n},set:function(a){n=a}},clipEdge:{get:function(){return v},set:function(a){v=a}},offset:{get:function(){return r},
set:function(a){r=a}},order:{get:function(){return u},set:function(a){u=a}},interpolate:{get:function(){return w},set:function(a){w=a}},x:{get:function(){return e},set:function(a){e=d3.functor(a)}},y:{get:function(){return k},set:function(a){k=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return f},set:function(a){f=
c.utils.getColor(a)}},style:{get:function(){return q},set:function(b){q=b;switch(q){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent),a.order("default")}}},duration:{get:function(){return B},set:function(a){B=a;m.reset(B);t.duration(B)}}});c.utils.inheritOptions(a,
t);c.utils.initOptions(a);return a};c.models.stackedAreaChart=function(){function a(e){L.reset();L.models(b);t&&L.models(d);B&&L.models(g);e.each(function(e){function I(){t&&W.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+S+")").transition().duration(N).call(d)}function L(){if(B){if("expand"===b.style()||"stack_percent"===b.style()){var a=g.tickFormat();O&&a===X||(O=a);g.tickFormat(X)}else O&&(g.tickFormat(O),O=null);W.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(g)}}
function U(a){W.select(".nv-focus .nv-stackedWrap").datum(e.filter(function(a){return!a.disabled}).map(function(c,d){return{key:c.key,area:c.area,classed:c.classed,values:c.values.filter(function(c,d){return b.x()(c,d)>=a[0]&&b.x()(c,d)<=a[1]}),disableTooltip:c.disableTooltip}})).transition().duration(N).call(b);I();L()}var T=d3.select(this);c.utils.initSVG(T);var R=c.utils.availableWidth(r,T,n),S=c.utils.availableHeight(u,T,n)-(m?k.height():0);a.update=function(){T.transition().duration(N).call(a)};
a.container=this;C.setter(aa(e),a.update).getter(Y(e)).update();C.disabled=e.map(function(a){return!!a.disabled});if(!J)for(ca in J={},C)J[ca]=C[ca]instanceof Array?C[ca].slice(0):C[ca];if(e&&e.length&&e.filter(function(a){return a.values.length}).length)T.selectAll(".nv-noData").remove();else return c.utils.noData(a,T),a;y=b.xScale();p=b.yScale();var ca=T.selectAll("g.nv-wrap.nv-stackedAreaChart").data([e]);var ba=ca.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),
W=ca.select("g");ba.append("g").attr("class","nv-legendWrap");ba.append("g").attr("class","nv-controlsWrap");var ha=ba.append("g").attr("class","nv-focus");ha.append("g").attr("class","nv-background").append("rect");ha.append("g").attr("class","nv-x nv-axis");ha.append("g").attr("class","nv-y nv-axis");ha.append("g").attr("class","nv-stackedWrap");ha.append("g").attr("class","nv-interactive");ba.append("g").attr("class","nv-focusWrap");x?(ba=v&&"top"===A?R-z:R,f.width(ba),W.select(".nv-legendWrap").datum(e).call(f),
"bottom"===A?(ba=(t?12:0)+10,n.bottom=Math.max(f.height()+ba,n.bottom),S=c.utils.availableHeight(u,T,n)-(m?k.height():0),ba=S+ba,W.select(".nv-legendWrap").attr("transform","translate(0,"+ba+")")):"top"===A&&(q||n.top==f.height()||(n.top=f.height(),S=c.utils.availableHeight(u,T,n)-(m?k.height():0)),W.select(".nv-legendWrap").attr("transform","translate("+(R-ba)+","+-n.top+")"))):W.select(".nv-legendWrap").selectAll("*").remove();if(v){var na=[{key:P.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=
b.style(),style:"stack"},{key:P.stream||"Stream",metaKey:"Stream",disabled:"stream"!=b.style(),style:"stream"},{key:P.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=b.style(),style:"expand"},{key:P.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=b.style(),style:"stack_percent"}];z=K.length/3*260;na=na.filter(function(a){return-1!==K.indexOf(a.metaKey)});h.width(z).color(["#444","#444","#444"]);W.select(".nv-controlsWrap").datum(na).call(h);ba=Math.max(h.height(),
x&&"top"===A?f.height():0);n.top!=ba&&(n.top=ba,S=c.utils.availableHeight(u,T,n)-(m?k.height():0));W.select(".nv-controlsWrap").attr("transform","translate(0,"+-n.top+")")}else W.select(".nv-controlsWrap").selectAll("*").remove();ca.attr("transform","translate("+n.left+","+n.top+")");D&&W.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)");G&&(l.width(R).height(S).margin({left:n.left,top:n.top}).svgContainer(T).xScale(y),ca.select(".nv-interactive").call(l));W.select(".nv-focus .nv-background rect").attr("width",
R).attr("height",S);b.width(R).height(S).color(e.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!e[b].disabled}));ca=W.select(".nv-focus .nv-stackedWrap").datum(e.filter(function(a){return!a.disabled}));t&&d.scale(y)._ticks(c.utils.calcTicksX(R/100,e)).tickSize(-S,0);B&&(ba="wiggle"===b.offset()?0:c.utils.calcTicksY(S/36,e),g.scale(p)._ticks(ba).tickSize(-R,0));m?(k.width(R),W.select(".nv-focusWrap").attr("transform","translate(0,"+(S+n.bottom+k.margin().top)+")").datum(e.filter(function(a){return!a.disabled})).call(k),
R=k.brush.empty()?k.xDomain():k.brush.extent(),null!==R&&U(R)):(ca.transition().call(b),I(),L());b.dispatch.on("areaClick.toggle",function(b){1===e.filter(function(a){return!a.disabled}).length?e.forEach(function(a){a.disabled=!1}):e.forEach(function(a,c){a.disabled=c!=b.seriesIndex});C.disabled=e.map(function(a){return!!a.disabled});E.stateChange(C);a.update()});f.dispatch.on("stateChange",function(b){for(var c in b)C[c]=b[c];E.stateChange(C);a.update()});h.dispatch.on("legendClick",function(c,d){c.disabled&&
(na=na.map(function(a){a.disabled=!0;return a}),c.disabled=!1,b.style(c.style),C.style=b.style(),E.stateChange(C),a.update())});l.dispatch.on("elementMousemove",function(d){b.clearHighlights();var f,g,h,k=[],m=0,n=!0;e.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,l){g=c.interactiveBisect(e.values,d.pointXValue,a.x());var r=e.values[g];null!=a.y()(r,g)&&b.highlightPoint(l,g,!0);"undefined"!==typeof r&&("undefined"===typeof f&&(f=r),"undefined"===typeof h&&(h=a.xScale()(a.x()(r,
g))),l="expand"==b.style()?r.display.y:a.y()(r,g),k.push({key:e.key,value:l,color:w(e,e.seriesIndex),point:r}),H&&"expand"!=b.style()&&null!=l&&(m+=l,n=!1))});k.reverse();if(2<k.length){var r=a.yScale().invert(d.mouseY),p=null;k.forEach(function(a,b){r=Math.abs(r);var c=Math.abs(a.point.display.y0);a=Math.abs(a.point.display.y);r>=c&&r<=a+c&&(p=b)});null!=p&&(k[p].highlight=!0)}H&&"expand"!=b.style()&&2<=k.length&&!n&&k.push({key:M,value:m,total:!0});var q=a.x()(f,g),t=l.tooltip.valueFormatter();
"expand"===b.style()||"stack_percent"===b.style()?(F||(F=t),t=d3.format(".1%")):F&&(t=F,F=null);l.tooltip.valueFormatter(t).data({value:q,series:k})();l.renderGuideLine(h)});l.dispatch.on("elementMouseout",function(a){b.clearHighlights()});k.dispatch.on("onBrush",function(a){U(a)});E.on("changeState",function(c){"undefined"!==typeof c.disabled&&e.length===c.disabled.length&&(e.forEach(function(a,b){a.disabled=c.disabled[b]}),C.disabled=c.disabled);"undefined"!==typeof c.style&&b.style(c.style);a.update()})});
L.renderEnd("stacked Area chart immediate");return a}var b=c.models.stackedArea(),d=c.models.axis(),g=c.models.axis(),f=c.models.legend(),h=c.models.legend(),l=c.interactiveGuideline(),e=c.models.tooltip(),k=c.models.focus(c.models.stackedArea()),n={top:10,right:25,bottom:50,left:60},q=null,r=null,u=null,w=c.utils.defaultColor(),v=!0,x=!0,A="top",t=!0,B=!0,D=!1,m=!1,G=!1,H=!0,M="TOTAL",y,p,C=c.utils.state(),J=null,I=null,E=d3.dispatch("stateChange","changeState","renderEnd"),z=250,K=["Stacked","Stream",
"Expanded"],P={},N=250;C.style=b.style();d.orient("bottom").tickPadding(7);g.orient(D?"right":"left");e.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return g.tickFormat()(a,b)});l.tooltip.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)});var O=null,F=null;h.updateState(!1);var L=c.utils.renderWatch(E);b.style();var Y=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),
style:b.style()}}},aa=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},X=d3.format("%");b.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=b.x()(a.point);a.point.y=b.y()(a.point);e.data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)});a.dispatch=E;a.stacked=b;a.legend=f;a.controls=h;a.xAxis=d;a.x2Axis=k.xAxis;a.yAxis=g;a.y2Axis=k.yAxis;a.interactiveLayer=l;a.tooltip=e;a.focus=k;a.dispatch=E;a.options=
c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return r},set:function(a){r=a}},height:{get:function(){return u},set:function(a){u=a}},showLegend:{get:function(){return x},set:function(a){x=a}},legendPosition:{get:function(){return A},set:function(a){A=a}},showXAxis:{get:function(){return t},set:function(a){t=a}},showYAxis:{get:function(){return B},set:function(a){B=a}},defaultState:{get:function(){return J},set:function(a){J=a}},noData:{get:function(){return I},set:function(a){I=
a}},showControls:{get:function(){return v},set:function(a){v=a}},controlLabels:{get:function(){return P},set:function(a){P=a}},controlOptions:{get:function(){return K},set:function(a){K=a}},showTotalInTooltip:{get:function(){return H},set:function(a){H=a}},totalLabel:{get:function(){return M},set:function(a){M=a}},focusEnable:{get:function(){return m},set:function(a){m=a}},focusHeight:{get:function(){return k.height()},set:function(a){k.height(a)}},brushExtent:{get:function(){return k.brushExtent()},
set:function(a){k.brushExtent(a)}},margin:{get:function(){return n},set:function(a){void 0!==a.top&&(q=n.top=a.top);n.right=void 0!==a.right?a.right:n.right;n.bottom=void 0!==a.bottom?a.bottom:n.bottom;n.left=void 0!==a.left?a.left:n.left}},focusMargin:{get:function(){return k.margin},set:function(a){k.margin.top=void 0!==a.top?a.top:k.margin.top;k.margin.right=void 0!==a.right?a.right:k.margin.right;k.margin.bottom=void 0!==a.bottom?a.bottom:k.margin.bottom;k.margin.left=void 0!==a.left?a.left:k.margin.left}},
duration:{get:function(){return N},set:function(a){N=a;L.reset(N);b.duration(N);d.duration(N);g.duration(N)}},color:{get:function(){return w},set:function(a){w=c.utils.getColor(a);f.color(w);b.color(w);k.color(w)}},x:{get:function(){return b.x()},set:function(a){b.x(a);k.x(a)}},y:{get:function(){return b.y()},set:function(a){b.y(a);k.y(a)}},rightAlignYAxis:{get:function(){return D},set:function(a){D=a;g.orient(D?"right":"left")}},useInteractiveGuideline:{get:function(){return G},set:function(c){G=
!!c;a.interactive(!c);a.useVoronoi(!c);b.scatter.interactive(!c)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.stackedAreaWithFocusChart=function(){return c.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)};c.models.sunburst=function(){function a(a){var b=Math.max(0,Math.min(2*Math.PI,y(a.x)));a=Math.max(0,Math.min(2*Math.PI,y(a.x+a.dx)));return(b+a)/2*(180/Math.PI)-90}function b(a){var b=Math.max(0,Math.min(2*Math.PI,y(a.x)));return(Math.max(0,Math.min(2*
Math.PI,y(a.x+a.dx)))-b)/(2*Math.PI)}function d(a){var b=Math.max(0,Math.min(2*Math.PI,y(a.x)));return Math.max(0,Math.min(2*Math.PI,y(a.x+a.dx)))-b>B}function g(a,b){var c=d3.interpolate(y.domain(),[J.x,J.x+J.dx]),d=d3.interpolate(p.domain(),[J.y,1]),e=d3.interpolate(p.range(),[J.y?20:0,z]);return 0===b?function(){return P(a)}:function(b){y.domain(c(b));p.domain(d(b)).range(e(b));return P(a)}}function f(a){var b=d3.interpolate({x:a.x0,dx:a.dx0,y:a.y0,dy:a.dy0},a);return function(c){c=b(c);a.x0=c.x;
a.dx0=c.dx;a.y0=c.y;a.dy0=c.dy;return P(c)}}function h(a){a.forEach(function(a){var b=m(a);(b=K[b])?(a.dx0=b.dx,a.x0=b.x,a.dy0=b.dy,a.y0=b.y):(a.dx0=a.dx,a.x0=a.x,a.dy0=a.dy,a.y0=a.y);b=m(a);K[b]||(K[b]={});b=K[b];b.dx=a.dx;b.x=a.x;b.dy=a.dy;b.y=a.y})}function l(b){var c=v.selectAll("text"),e=v.selectAll("path");c.transition().attr("opacity",0);J=b;e.transition().duration(H).attrTween("d",g).each("end",function(c){c.x>=b.x&&c.x<b.x+b.dx&&c.depth>=b.depth&&d3.select(this.parentNode).select("text").transition().duration(H).text(function(a){return t(a)}).attr("opacity",
function(a){return d(a)?1:0}).attr("transform",function(){var d=this.getBBox().width;if(0===c.depth)return"translate("+d/2*-1+",0)";if(c.depth===b.depth)return"translate("+(p(c.y)+5)+",0)";var e=a(c),f=90<a(c)?180:0;return 0===f?"rotate("+e+")translate("+(p(c.y)+5)+",0)":"rotate("+e+")translate("+(p(c.y)+d+5)+",0)rotate("+f+")"})})}function e(g){N.reset();g.each(function(e){v=d3.select(this);I=c.utils.availableWidth(n,v,k);E=c.utils.availableHeight(q,v,k);z=Math.min(I,E)/2;p.range([0,z]);var g=v.select("g.nvd3.nv-wrap.nv-sunburst");
g[0][0]?g.attr("transform","translate("+(I/2+k.left+k.right)+","+(E/2+k.top+k.bottom)+")"):g=v.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+w).attr("transform","translate("+(I/2+k.left+k.right)+","+(E/2+k.top+k.bottom)+")");v.on("click",function(a,b){M.chartClick({data:a,index:b,pos:d3.event,id:w})});C.value(u[r]||u.count);e=C.nodes(e[0]).reverse();h(e);g=g.selectAll(".arc-container").data(e,m);g.enter().append("g").attr("class","arc-container").append("path").attr("d",P).style("fill",
function(a){return a.color?a.color:G?x((a.children?a:a.parent).name):x(a.name)}).style("stroke","#FFF").on("click",function(a,b){l(a);M.elementClick({data:a,index:b})}).on("mouseover",function(a,c){d3.select(this).classed("hover",!0).style("opacity",.8);M.elementMouseover({data:a,color:d3.select(this).style("fill"),percent:b(a)})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("opacity",1);M.elementMouseout({data:a})}).on("mousemove",function(a,b){M.elementMousemove({data:a})});
g.each(function(a){d3.select(this).select("path").transition().duration(H).attrTween("d",f)});A&&(g.selectAll("text").remove(),g.append("text").text(function(a){return t(a)}).transition().duration(H).attr("opacity",function(a){return d(a)?1:0}).attr("transform",function(b){var c=this.getBBox().width;if(0===b.depth)return"rotate(0)translate("+c/2*-1+",0)";var d=a(b),e=90<a(b)?180:0;return 0===e?"rotate("+d+")translate("+(p(b.y)+5)+",0)":"rotate("+d+")translate("+(p(b.y)+c+5)+",0)rotate("+e+")"}));
l(e[e.length-1]);g.exit().transition().duration(H).attr("opacity",0).each("end",function(a){a=m(a);K[a]=void 0}).remove()});N.renderEnd("sunburst immediate");return e}var k={top:0,right:0,bottom:0,left:0},n=600,q=600,r="count",u={count:function(a){return 1},value:function(a){return a.value||a.size},size:function(a){return a.value||a.size}},w=Math.floor(1E4*Math.random()),v=null,x=c.utils.defaultColor(),A=!1,t=function(a){return"count"===r?a.name+" #"+a.value:a.name+" "+(a.value||a.size)},B=.02,D=
function(a,b){return a.name>b.name},m=function(a,b){return a.name},G=!0,H=500,M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),y=d3.scale.linear().range([0,2*Math.PI]),p=d3.scale.sqrt(),C=d3.layout.partition().sort(D),J,I,E,z,K={},P=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,y(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,y(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,
p(a.y))}).outerRadius(function(a){return Math.max(0,p(a.y+a.dy))}),N=c.utils.renderWatch(M);e.dispatch=M;e.options=c.utils.optionsFunc.bind(e);e._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return q},set:function(a){q=a}},mode:{get:function(){return r},set:function(a){r=a}},id:{get:function(){return w},set:function(a){w=a}},duration:{get:function(){return H},set:function(a){H=a}},groupColorByParent:{get:function(){return G},set:function(a){G=
!!a}},showLabels:{get:function(){return A},set:function(a){A=!!a}},labelFormat:{get:function(){return t},set:function(a){t=a}},labelThreshold:{get:function(){return B},set:function(a){B=a}},sort:{get:function(){return D},set:function(a){D=a}},key:{get:function(){return m},set:function(a){m=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!=a.top?a.top:k.top;k.right=void 0!=a.right?a.right:k.right;k.bottom=void 0!=a.bottom?a.bottom:k.bottom;k.left=void 0!=a.left?a.left:k.left}},color:{get:function(){return x},
set:function(a){x=c.utils.getColor(a)}}});c.utils.initOptions(e);return e};c.models.sunburstChart=function(){function a(d){q.reset();q.models(b);d.each(function(d){var e=d3.select(this);c.utils.initSVG(e);var f=c.utils.availableWidth(null,e,g),h=c.utils.availableHeight(null,e,g);a.update=function(){0===k?e.call(a):e.transition().duration(k).call(a)};a.container=e;if(d&&d.length)e.selectAll(".nv-noData").remove();else return c.utils.noData(a,e),a;b.width(f).height(h).margin(g);e.call(b)});q.renderEnd("sunburstChart immediate");
return a}var b=c.models.sunburst(),d=c.models.tooltip(),g={top:30,right:20,bottom:20,left:20},f=c.utils.defaultColor(),h=!1,l=null,e=null,k=250,n=d3.dispatch("stateChange","changeState","renderEnd"),q=c.utils.renderWatch(n);d.duration(0).headerEnabled(!1).valueFormatter(function(a){return a});b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.value||a.data.size,color:a.color,percent:a.percent};h||(delete a.percent,delete a.series.percent);d.data(a).hidden(!1)});
b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){d()});a.dispatch=n;a.sunburst=b;a.tooltip=d;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{noData:{get:function(){return e},set:function(a){e=a}},defaultState:{get:function(){return l},set:function(a){l=a}},showTooltipPercent:{get:function(){return h},set:function(a){h=a}},color:{get:function(){return f},set:function(a){f=a;b.color(f)}},duration:{get:function(){return k},
set:function(a){k=a;q.reset(k);b.duration(k)}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top;g.right=void 0!==a.right?a.right:g.right;g.bottom=void 0!==a.bottom?a.bottom:g.bottom;g.left=void 0!==a.left?a.left:g.left;b.margin(g)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.version="1.8.5"})();
